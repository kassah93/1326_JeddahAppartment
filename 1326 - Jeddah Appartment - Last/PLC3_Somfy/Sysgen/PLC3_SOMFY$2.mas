#srcfile 'E:\PROJECTS\PROJECTS\1326 - OSAMA - JEDDAH APPARTMENT - DREAMS TOWERS\IMPLEMENTATION\CODES\MOSAIC\1326 - JEDDAH APPARTMENT - LAST\PLC3_SOMFY\Sysgen\PLC3_SOMFY.mlh'

#defpou R_TRIG
  bool CLK,
  bool Q,
  bool M


#defpou F_TRIG
  bool CLK,
  bool Q,
  bool M


#defpou SR
  bool S1,
  bool R,
  bool Q1


#defpou RS
  bool S,
  bool R1,
  bool Q1


#defpou CTU
  bool CU,  ;up
  bool R,  ;reset
  int PV,  ;preset
  bool Q,  ;output
  int CV,  ;value
  bool __EDGE_R__CU


#defpou CTD
  bool CD,  ;down
  bool LD,  ;load
  int PV,  ;preset
  bool Q,  ;output
  int CV,  ;value
  bool __EDGE_R__CD


#defpou CTUD
  bool CU,  ;up
  bool CD,  ;down
  bool R,  ;reset
  bool LD,  ;load
  int PV,  ;preset
  bool QU,  ;up output
  bool QD,  ;down output
  int CV,  ;value
  bool __EDGE_R__CU,
  bool __EDGE_R__CD


#defpou TON
  bool IN,  ;input
  time PT,  ;preset
  bool Q,  ;output
  time ET,  ;value
  R_TRIG IN_r_edge,
  time LT  ;last tick value ( 1ms resolution)


#defpou TOF
  bool IN,  ;input
  time PT,  ;preset
  bool Q,  ;output
  time ET,  ;value
  F_TRIG IN_f_edge,
  time LT  ;last tick value ( 1ms resolution)


#defpou TP
  bool IN,  ;input
  time PT,  ;preset
  bool Q,  ;output
  time ET,  ;value
  R_TRIG IN_r_edge,
  time LT  ;last tick value ( 1ms resolution)


#defpou __LATENT_INSTANCE IS_INVALID_REAL
  bool __fc__IS_INVALID_REAL,
  real num


#defpou __LATENT_INSTANCE ADD_TIME
  time __fc__ADD_TIME,
  time IN1,
  time IN2


#defpou __LATENT_INSTANCE SUB_TIME
  time __fc__SUB_TIME,
  time IN1,
  time IN2


#defpou __LATENT_INSTANCE ADD_TOD_TIME
  time_of_day __fc__ADD_TOD_TIME,
  time_of_day IN1,
  time IN2


#defpou __LATENT_INSTANCE ADD_DT_TIME
  date_and_time __fc__ADD_DT_TIME,
  date_and_time IN1,
  time IN2


#defpou __LATENT_INSTANCE SUB_DATE_DATE
  time __fc__SUB_DATE_DATE,
  date IN1,
  date IN2


#defpou __LATENT_INSTANCE SUB_TOD_TIME
  time_of_day __fc__SUB_TOD_TIME,
  time_of_day IN1,
  time IN2


#defpou __LATENT_INSTANCE SUB_TOD_TOD
  time __fc__SUB_TOD_TOD,
  time_of_day IN1,
  time_of_day IN2


#defpou __LATENT_INSTANCE SUB_DT_TIME
  date_and_time __fc__SUB_DT_TIME,
  date_and_time IN1,
  time IN2


#defpou __LATENT_INSTANCE SUB_DT_DT
  time __fc__SUB_DT_DT,
  date_and_time IN1,
  date_and_time IN2


#defpou __LATENT_INSTANCE CONCAT_DATE_TOD
  date_and_time __fc__CONCAT_DATE_TOD,
  date IN1,
  time_of_day IN2


; Global types
#struct  T_RGB_COLOR
  usint red,  ;red color <0..255>
  usint green,  ;green color <0..255>
  usint blue,  ;blue color <0..255>
  usint opacity  ;opacity (0 = opaque, 255 = transparent)

; Global types
#struct  TSYSTEM_S
  byte S0,  ;flags of the results of arithmetic operations 
  byte S1,  ;flags of the results of logical operations 
  bool S2_0,
  bool S2_1,
  bool S2_2,  ;PLC is running
  bool S2_3,  ;HOT restart
  bool S2_4,  ;COLD restart
  bool OUTPUTS_ARE_ENABLED,  ;PLC outputs are enabled
  bool S2_6,  ;RUN without restart
  bool CYCLE_TIME_WARNING,  ;Cycle time warning
  usint LAST_CYCLE_TIME_10MS,  ;Last cycle time [x10 milisecond]
  usint CYCLE_COUNTER,  ;Cycle counter
  usint COUNTER_10MS,  ;10 miliseconds counter
  usint COUNTER_SECONDS,  ;second counter
  usint COUNTER_MINUTES,  ;minute counter
  usint COUNTER_HOURS,  ;hour counter
  usint COUNTER_DAYS_OF_WEEK,  ;day of week
  usint COUNTER_DAYS_OF_MONTH,  ;day
  usint COUNTER_MONTHS,  ;month
  usint COUNTER_YEARS,  ;year
  bool PERIOD_PULSE_100MS,  ;100 ms periodic pulse
  bool PERIOD_PULSE_500MS,  ;500 ms periodic pulse
  bool PERIOD_PULSE_1SEC,  ;1 s periodic pulse
  bool PERIOD_PULSE_10SEC,  ;10 s periodic pulse
  bool PERIOD_PULSE_1MIN,  ;1 min periodic pulse
  bool PERIOD_PULSE_10MIN,  ;10 min periodic pulse
  bool PERIOD_PULSE_1HOUR,  ;1 hour periodic pulse
  bool PERIOD_PULSE_1DAY,  ;1 day periodic pulse
  uint COUNTER_100MS,  ;
  uint COUNTER_1SEC,  ;
  uint COUNTER_10SEC,  ;
  bool R_EDGE_100MS,  ;
  bool R_EDGE_500MS,  ;
  bool R_EDGE_1SEC,  ;
  bool R_EDGE_10SEC,  ;
  bool R_EDGE_1MIN,  ;
  bool R_EDGE_10MIN,  ;
  bool R_EDGE_1HOUR,  ;
  bool R_EDGE_1DAY,  ;
  bool F_EDGE_100MS,  ;
  bool F_EDGE_500MS,  ;
  bool F_EDGE_1SEC,  ;
  bool F_EDGE_10SEC,  ;
  bool F_EDGE_1MIN,  ;
  bool F_EDGE_10MIN,  ;
  bool F_EDGE_1HOUR,  ;
  bool F_EDGE_1DAY,  ;
  uint LAST_CYCLE_TIME_100US,  ;Last cycle time [x100 microsecond]
  byte S24,  ;control masks for PLC processes
  byte S25,  ;control masks for PLC processes
  byte S26,  ;control masks for PLC processes
  byte S27,  ;control masks for PLC processes
  byte S28,  ;control masks for PLC processes
  byte S29,  ;control masks for PLC processes
  byte S30,  ;reserved
  byte S31,  ;reserved
  byte S32,  ;reserved
  byte S33,  ;reserved
  byte S34,  ;main code of PLC error
  bool BAT_ERR,  ;Backup baterry error
  bool S35_1,  ;reserved
  bool S35_2,  ;reserved
  bool S35_3,  ;reserved
  bool S35_4,  ;reserved
  bool S35_5,  ;reserved
  bool IS_SUMMER_TIME,  ;Summer time indication
  bool SUMMER_TIME_REQUEST,  ;
  usint CPU_TEMPERATURE,  ;CPU temperature [Celsius degree]
  byte S37,
  byte S38,
  byte S39,
  byte S40,
  byte S41,
  byte S42,
  byte S43,
  byte S44,
  byte S45,
  byte S46,
  byte S47,
  byte S48,
  byte S49,
  byte S50,
  byte S51,
  udint COUNTER_1MS,  ;1 ms counter
  byte S56,
  byte S57,
  byte CPU_DI,  ;inputs serviced by CPU
  byte CPU_DO,  ;outputs serviced by CPU
  udint INDEX_OF_RETAIN_ZONE,  ;address of retain zone (index of %R)
  udint SIZE_OF_RETAIN_ZONE,  ;size of retain zone (number of bytes)
  uint INDEX_SOFT_PLC_STRUCT,  ;reserved for SoftPLC
  word CRC_OF_USER_PROGRAM,  ;CRC of user program
  word CRC_OF_HEADER_PROGRAM  ;CRC of header of user program

; Global variables
#def  System_S TSYSTEM_S %S0
#def  IS_HOT_RESTART_PLC bool __absolute(System_S~S2_3)  ;HOT restart
#def  IS_COLD_RESTART_PLC bool __absolute(System_S~S2_4)  ;COLD restart
#def  IS_RESTART_PLC bool __absolute(System_S~S2_6)  ;RUN without restart
#def  CRC_OF_APLIC_PROGRAM dword __absolute(System_S~CRC_OF_USER_PROGRAM)  ;CRC of aplic program

; Global types
#struct  TModuleInfo
  bool ECOM,  ;communication module <=> CPU : 0 ... communication is OK, 1 ... ERROR
  bool DATA,  ;data validity                : 0 ... module data are not valid, 1 ... OK
  bool DUMMY1,  ;not used
  bool DUMMY2,  ;not used
  bool ERR,  ;I/O module error             : 0 ... module is OK, 1 ... module has a problem
  bool DEC,  ;module declaration           : 0 ... module is not declared in user program
  bool OTH,  ;check module type            : 0 ... declared and exist module is the same
  bool POS,  ;position                     : 0 ... position is free, 1 ... module is present
  usint STAT  ;collection all previous bits

; Global types
#struct  TIOSystemInfo
  bool err,  ;0 ... all I/O modules are OK, 1 ... any module has error
  usint rackNumber,  ;if err=1 then rack number where module is plugged
  usint position  ;if err=1 then position number where module is plugged

; Global variables
#def  MODULE_AND_DATA_OK 162
#def  __Init____MODULE_AND_DATA_OK MODULE_AND_DATA_OK

#defpou __LATENT_INSTANCE ModuleInfo
  TModuleInfo __fc__ModuleInfo,
  usint rackNumber,  ;rack number where module is plugged
  usint position  ;position number where module is plugged


#defpou __LATENT_INSTANCE ModuleInfo2
  TModuleInfo __fc__ModuleInfo2,
  udint Bus_ID,  ;bus ID number (TCL2 = 16#1020, ...)
  usint Unit_ID  ;address of unit on the bus (0,...,63)


#defpou __LATENT_INSTANCE IOSystemInfo
  TIOSystemInfo __fc__IOSystemInfo


#defpou __LATENT_INSTANCE Memcpy
  uint __fc__Memcpy,
  uint length,  ;number of bytes
  pointer source,  ;source
  pointer dest  ;destination


#defpou __LATENT_INSTANCE MemcpyEx
  uint __fc__MemcpyEx,
  udint length,  ;number of bytes
  udint offSource,  ;offset in source
  udint offDest,  ;offset in destination
  pointer source,  ;source
  pointer dest  ;destination


#defpou __LATENT_INSTANCE MemcpyPtr
  udint __fc__MemcpyPtr,
  pointer source,  ;pointer to source
  pointer dest,  ;pointer to  destination
  udint length  ;number of bytes


#defpou __LATENT_INSTANCE MemcpyPtr0
  udint __fc__MemcpyPtr0,
  pointer source,  ;pointer to source
  pointer dest,  ;pointer to  destination
  udint length  ;number of bytes


#defpou __LATENT_INSTANCE Memset
  bool __fc__Memset,
  udint val,  ;filling value
  uint length,  ;number of bytes to be filled
  pointer dest  ;destination


#defpou __LATENT_INSTANCE MemsetEx
  bool __fc__MemsetEx,
  udint val,  ;filling value
  udint length,  ;number of bytes to be filled
  udint offDest,  ;offset in destination
  pointer dest  ;destination


#defpou __LATENT_INSTANCE Memcmp
  bool __fc__Memcmp,
  uint length,  ;number of bytes
  pointer in1,  ;first data block
  pointer in2  ;second data block


#defpou __LATENT_INSTANCE MemcmpEx
  bool __fc__MemcmpEx,
  udint length,  ;number of bytes
  udint offIn1,  ;offset in first data block
  udint offIn2,  ;offset in second data block
  pointer in1,  ;first data block
  pointer in2  ;second data block


#defpou __LATENT_INSTANCE IncreaseMaxCycleTime
  bool __fc__IncreaseMaxCycleTime,
  uint addTime  ;milisec


; Global types
#struct  TTecoDateTime
  usint year,  ;last two numbers
  usint month,  ;1 .. 12
  usint day,  ;1 .. 28/29/30/31
  usint hour,  ;0 .. 23
  usint min,  ;0 .. 59
  usint sec,  ;0 .. 59
  usint dayOfWeek,  ;1 = Monday .. 7 = Sunday
  uint milisec  ;0 .. 999

#defpou __LATENT_INSTANCE SetSummerTime
  bool __fc__SetSummerTime


#defpou __LATENT_INSTANCE IsSummerTime
  bool __fc__IsSummerTime


#defpou __LATENT_INSTANCE SetWinterTime
  bool __fc__SetWinterTime


#defpou __LATENT_INSTANCE IsWinterTime
  bool __fc__IsWinterTime


#defpou __LATENT_INSTANCE GetDate
  date __fc__GetDate,
  TTecoDateTime tmp


#defpou __LATENT_INSTANCE GetTime
  time __fc__GetTime,
  uint milisec


#defpou __LATENT_INSTANCE GetDateTime
  date_and_time __fc__GetDateTime,
  TTecoDateTime tmp


#defpou __LATENT_INSTANCE GetRTC
  date_and_time __fc__GetRTC,
  TTecoDateTime tmp


#defpou __LATENT_INSTANCE SetRTC
  bool __fc__SetRTC,
  date_and_time PDT,  ;new date and time
  TTecoDateTime tmp


#defpou __LATENT_INSTANCE TecoDT_TO_DT
  date_and_time __fc__TecoDT_TO_DT,
  TTecoDateTime Teco_DT  ;date and time


#defpou __LATENT_INSTANCE DT_TO_TecoDT
  TTecoDateTime __fc__DT_TO_TecoDT,
  date_and_time IEC_DT  ;date and time


#defpou __LATENT_INSTANCE memory_for_ProgramIsChanged
  bool __fc__memory_for_ProgramIsChanged,
  bool saveSL70,
  udint memSL70,
  usint memS4


#defpou __LATENT_INSTANCE ProgramIsChanged
  bool __fc__ProgramIsChanged,
  bool saveSL70,
  udint memSL70,
  usint memS4


#defpou __LATENT_INSTANCE ReInitPLC_hotRestart
  bool __fc__ReInitPLC_hotRestart,
  bool rq  ;1 = request for reinitialization of PLC


#defpou __LATENT_INSTANCE ReInitPLC_coldRestart
  bool __fc__ReInitPLC_coldRestart,
  bool rq  ;request for reinitialization of PLC


#defpou __LATENT_INSTANCE ReInitPLC_noRestart
  bool __fc__ReInitPLC_noRestart,
  bool rq  ;request for reinitialization of PLC


#defpou __LATENT_INSTANCE ReInitPLC_hotRestartX
  bool __fc__ReInitPLC_hotRestartX,
  bool rq,  ;1 = request for reinitialization of PLC
  bool eeprom,  ;1 = request for programming of new code into EEPROM
  string[81] code,  ;file name of program code
  string[81] table  ;file name of program tables


#defpou __LATENT_INSTANCE ReInitPLC_coldRestartX
  bool __fc__ReInitPLC_coldRestartX,
  bool rq,  ;request for reinitialization of PLC
  bool eeprom,  ;1 = request for programming of new code into EEPROM
  string[81] code,  ;file name of program code
  string[81] table  ;file name of program tables


#defpou __LATENT_INSTANCE ReInitPLC_noRestartX
  bool __fc__ReInitPLC_noRestartX,
  bool rq,  ;request for reinitialization of PLC
  bool eeprom,  ;1 = request for programming of new code into EEPROM
  string[81] code,  ;file name of program code
  string[81] table  ;file name of program tables


#defpou __LATENT_INSTANCE GetModuleID
  string[41] __fc__GetModuleID,
  usint rackNumber,  ;rack number where module is plugged
  usint position  ;position number where module is plugged


#defpou __LATENT_INSTANCE GetVarValueByName
  string[256] __fc__GetVarValueByName,
  string[256] varName  ;full name of variable (name of instance)


#defpou __LATENT_INSTANCE GetVarNameByAdr
  string[256] __fc__GetVarNameByAdr,
  pointer varAdr,  ;variable (name of instance)
  udint varSize  ;size of variable (number of bytes)


; Global types
#struct  T_VAR_DESC
  udint addr,
  udint size,
  usint typ,
  bool isArray

#defpou __LATENT_INSTANCE GetVarDescByName
  T_VAR_DESC __fc__GetVarDescByName,
  string[256] varName  ;full name of variable (name of instance)


#defpou __LATENT_INSTANCE SetVarValueByName
  bool __fc__SetVarValueByName,
  string[256] varName,  ;full name of variable (name of instance)
  string[256] varValue  ;new value of variable


; Global variables
#def  MI_CIB1 1
#def  __Init____MI_CIB1 MI_CIB1
#def  MI_CIB2 2
#def  __Init____MI_CIB2 MI_CIB2
#def  MI0_CIB1 3
#def  __Init____MI0_CIB1 MI0_CIB1
#def  MI0_CIB2 4
#def  __Init____MI0_CIB2 MI0_CIB2
#def  MI2_CIB1 5
#def  __Init____MI2_CIB1 MI2_CIB1
#def  MI2_CIB2 6
#def  __Init____MI2_CIB2 MI2_CIB2
#def  MI4_CIB1 7
#def  __Init____MI4_CIB1 MI4_CIB1
#def  MI4_CIB2 8
#def  __Init____MI4_CIB2 MI4_CIB2
#def  MI6_CIB1 9
#def  __Init____MI6_CIB1 MI6_CIB1
#def  MI6_CIB2 10
#def  __Init____MI6_CIB2 MI6_CIB2
#def  MI_RF 100
#def  __Init____MI_RF MI_RF
#def  RF0_RF 101
#def  __Init____RF0_RF RF0_RF
#def  RF2_RF 102
#def  __Init____RF2_RF RF2_RF
#def  RF4_RF 103
#def  __Init____RF4_RF RF4_RF
#def  RF6_RF 104
#def  __Init____RF6_RF RF6_RF

; Global types
#struct  TCIBunitState
  bool INI,  ;CIB unit is initialized
  bool COM,  ;communication with CIB unit is OK
  bool ADDR,  ;CIB unit address was accepted
  bool DUMMY3,
  bool REI,  ;reinitialization of CIB unit
  bool DUMMY5,
  bool ALT,  ;changed when new data is available (Foxtrot 2 only)
  bool NET  ;CIB unit is defined and served by CPU

; Global types
#struct  TCIBunitInfo
  bool line_defined,  ;CIB line defined
  bool unit_defined,  ;CIB unit defined
  TCIBunitState state,  ;CIB unit state
  word address,  ;CIB unit address
  word code,  ;CIB unit code
  string[18] unit_type,  ;CIB unit type
  string[32] description  ;CIB unit description

; Global types
#struct  TRFunitState
  bool INI,  ;RF unit is initialized
  bool COM,  ;communication with RF unit is OK
  bool DUMMY2,
  bool DUMMY3,
  bool DUMMY4,
  bool SLP,  ;sleep mode is available
  bool BND,  ;unit is paired
  bool NET  ;RF unit is defined and served by CPU

; Global types
#struct  TRFunitInfo
  bool line_defined,  ;RF line defined
  bool unit_defined,  ;RF unit defined
  TRFunitState state,  ;RF unit state
  word address,  ;RF unit address
  word code,  ;RF unit code
  string[18] unit_type,  ;RF unit type
  string[32] description  ;RF unit description

#defpou __LATENT_INSTANCE CIBunitInfo
  bool __fc__CIBunitInfo,
  usint CIB_line,  ;CIB line number (see constant MI_CIB1,...,MI6_CIB2)
  usint CIB_unitID,  ;CIB position number (1,...,32)
  pointer unitInfo  ;variable with information about CIB unit


#defpou __LATENT_INSTANCE CIBunitInfo2
  bool __fc__CIBunitInfo2,
  udint Bus_ID,  ;bus ID number
  usint CIB_unitID,  ;logical address of CIB unit (0,...,31)
  pointer unitInfo  ;variable with information about CIB unit


#defpou __LATENT_INSTANCE RFunitInfo
  bool __fc__RFunitInfo,
  usint RF_line,  ;RF line number (see constant MI_RF, RF0_RF,...,RF6_RF)
  usint RF_unitID,  ;RF position number (1,...,64)
  pointer unitInfo  ;variable with information about RF unit


#defpou __LATENT_INSTANCE SetAddressCIBunit
  bool __fc__SetAddressCIBunit,
  usint CIB_line,  ;CIB line number (see constant MI_CIB1,...,MI6_CIB2)
  usint CIB_unitID,  ;CIB position number (1,...,32)
  word CIB_addr  ;new address of CIB unit


#defpou __LATENT_INSTANCE SetAddressCIBunit2
  bool __fc__SetAddressCIBunit2,
  udint Bus_ID,  ;bus ID number
  usint CIB_unitID,  ;logical address of CIB unit (0,...,31)
  word CIB_addr  ;new HW address of CIB unit


#defpou __LATENT_INSTANCE SetAddressRFunit
  bool __fc__SetAddressRFunit,
  usint RF_line,  ;RF line number (see constant MI_RF, RF0_RF,...,RF6_RF)
  usint RF_unitID,  ;RF position number (1,...,64)
  word RF_addr  ;new address of RF unit


; Global types
#struct  TBondStat
  bool disconnect,  ;probiha odbondovani
  bool connect,  ;probiha bondovani
  bool bondMap,  ;probiha cteni bondovaci mapy
  bool dummy3,
  bool dummy4,
  bool error,  ;doslo k chybe
  bool done,  ;hotovo
  bool busy  ;master zaneprazdnen

; Global types
#struct  TBondInfo
  TBondStat bondStat,
  usint bondID,  ;cislo pozice pribondovane jednotky (je-li bondovani uspesne)
  word bondType  ;typ pribondovane jednotky (je-li bondovani uspesne)

#defpou fbBondRFunit
  bool exec,  ;request to initiate action (rising edge)
  usint RF_line,  ;RF line number (see constant MI_RF, RF0_RF,...,RF6_RF)
  usint RF_unitID,  ;RF position number (1,...,64)
  bool bondRq,  ;0 = unbond unit only, 1 = bond new unit
  bool useRouter,  ;1 = after bonding communicate with unit through router
  bool done,  ;action is done
  bool busy,  ;action in progress
  bool err,  ;error flag
  udint errID,  ;error number
  string[41] unitType,  ;unit type when action is successful
  TBondInfo result,
  bool timIN,
  time timPT,
  TON tim,  ;odbondovat 2+2 s, pribondovat 12+2 s
  bool __EDGE_R__exec


#defpou __LATENT_INSTANCE ProgramLock
  bool __fc__ProgramLock


#defpou TPR
  bool IN,  ;input
  bool R,  ;reset
  time PT,  ;preset
  bool Q,  ;output
  time ET,  ;value
  R_TRIG IN_r_edge,
  time LT  ;last tick value ( 1ms resolution)


#defpou fbTPR
  bool IN,  ;input
  bool R,  ;reset
  time PT,  ;preset
  bool Q,  ;output
  time ET,  ;value
  R_TRIG IN_r_edge,
  time LT  ;last tick value ( 1ms resolution)


#defpou fbSaveRemToFile
  bool exec,  ;save content of RETAIN variables into file
  string[81] fileName,  ;file name
  bool done,  ;done
  bool busy,  ;busy
  bool err,  ;error
  int errId,  ;error code
  string[81] errTxt,  ;error description
  real percent,  ;how many percent is processed
  bool __EDGE_R__exec


#defpou fbLoadRemFromFile
  bool exec,  ;load content of RETAIN variables from file
  string[81] fileName,  ;file name
  bool done,  ;done
  bool busy,  ;busy
  bool err,  ;error
  int errId,  ;error code
  string[81] errTxt,  ;error description
  real percent,  ;how many percent is processed
  bool __EDGE_R__exec


#defpou __LATENT_INSTANCE SetWebPSW
  bool __fc__SetWebPSW,
  usint user,  ;line number in table of users (0...9)
  pointer name,  ;new user name
  pointer password  ;new password


#defpou __LATENT_INSTANCE VerifyWebPSW
  bool __fc__VerifyWebPSW,
  usint user,  ;line number in table of users (0...9)
  pointer name,  ;user name
  pointer password  ;password


#defpou __LATENT_INSTANCE SetWebMAC
  bool __fc__SetWebMAC,
  usint user,  ;line number in table of users (0...9)
  pointer MAC  ;new MAC address ('00:11:22:33:44:55')


#defpou __LATENT_INSTANCE VerifyWebMAC
  bool __fc__VerifyWebMAC,
  usint user,  ;line number in table of users (0...9)
  pointer MAC  ;MAC address ('00:11:22:33:44:55')


#defpou __LATENT_INSTANCE SetWebLevel
  bool __fc__SetWebLevel,
  usint user,  ;line number in table of users (0...9)
  sint level  ;new level (-1,0,...,9)


#defpou __LATENT_INSTANCE VerifyWebLevel
  bool __fc__VerifyWebLevel,
  usint user,  ;line number in table of users (0...9)
  sint level  ;verified level (-1,0,...,9)


#defpou __LATENT_INSTANCE SystemDisplayBacklightOn
  bool __fc__SystemDisplayBacklightOn,
  udint tmp


#defpou __LATENT_INSTANCE SystemDisplayBacklightOff
  bool __fc__SystemDisplayBacklightOff,
  udint tmp


#defpou fbTick
  bool IN,  ;ticks enabled
  time PT,  ;period of ticks
  bool Q,  ;tick impulse
  time ET,  ;elapsed time
  bool WasRun,
  time RunTime


; Global types
#struct  TUniDesc
  byte modeChan,  ;channel mode
  byte res,  ;if ETHx then res = protocol (UNI_TCP_CLIENT, UNI_TCP_SERVER, ...) else res= 0
  udint adrUniStat,  ;address of status
  uint lenUniStat,  ;length of status
  udint adrUniCont,  ;address of control
  uint lenUniCont,  ;length of control
  udint adrUniIn,  ;address of receiving buffer
  uint lenUniIn,  ;length of receiving buffer
  udint adrUniOut,  ;address of sending buffer
  uint lenUniOut  ;length of sending buffer

; Global types
#def  TIPadr usint[4]  ;IP address

; Global types
#struct  TLocalEthAdr
  TIPadr IP,  ;IP address
  TIPadr IM,  ;subnet mask
  TIPadr GW  ;gateway address

; Global types
#struct  TRemoteEthAdr
  TIPadr remoteIP,  ;remote IP address
  uint remotePort,  ;remote port
  uint localPort  ;local port

; Global types
#def  TMacAdr byte[6]  ;MAC address

; Global types
#struct  TSocketAdr
  TIPadr IP,  ;IP address
  uint port  ;port number

; Global types
#struct  TChanSettings
  usint modeChan,  ;channel mode
  usint address,  ;address
  usint speed,  ;speed
  usint rxTimeout,  ;receiver timeout
  usint txTimeout,  ;transmitter timeout
  usint lineControl,  ;parity control
  usint modemControl,  ;modem control
  usint rez  ;reserved

; Global variables
#def  MODE_OFF 0
#def  __Init____MODE_OFF MODE_OFF
#def  MODE_PC 2
#def  __Init____MODE_PC MODE_PC
#def  MODE_UNI 5
#def  __Init____MODE_UNI MODE_UNI
#def  MODE_MPC 6
#def  __Init____MODE_MPC MODE_MPC
#def  MODE_MDB 7
#def  __Init____MODE_MDB MODE_MDB
#def  MODE_PFB 8
#def  __Init____MODE_PFB MODE_PFB
#def  BAUD_50 1
#def  __Init____BAUD_50 BAUD_50
#def  BAUD_100 2
#def  __Init____BAUD_100 BAUD_100
#def  BAUD_200 3
#def  __Init____BAUD_200 BAUD_200
#def  BAUD_300 4
#def  __Init____BAUD_300 BAUD_300
#def  BAUD_600 5
#def  __Init____BAUD_600 BAUD_600
#def  BAUD_1200 6
#def  __Init____BAUD_1200 BAUD_1200
#def  BAUD_2400 7
#def  __Init____BAUD_2400 BAUD_2400
#def  BAUD_4800 8
#def  __Init____BAUD_4800 BAUD_4800
#def  BAUD_9600 10
#def  __Init____BAUD_9600 BAUD_9600
#def  BAUD_14400 11
#def  __Init____BAUD_14400 BAUD_14400
#def  BAUD_19200 12
#def  __Init____BAUD_19200 BAUD_19200
#def  BAUD_28800 13
#def  __Init____BAUD_28800 BAUD_28800
#def  BAUD_38400 14
#def  __Init____BAUD_38400 BAUD_38400
#def  BAUD_57600 16
#def  __Init____BAUD_57600 BAUD_57600
#def  BAUD_76800 18
#def  __Init____BAUD_76800 BAUD_76800
#def  BAUD_93750 19
#def  __Init____BAUD_93750 BAUD_93750
#def  BAUD_115200 20
#def  __Init____BAUD_115200 BAUD_115200
#def  NO_PARITY 0
#def  __Init____NO_PARITY NO_PARITY
#def  PARITY_ODD 8
#def  __Init____PARITY_ODD PARITY_ODD
#def  PARITY_EVEN 24
#def  __Init____PARITY_EVEN PARITY_EVEN
#def  PARITY_0 40
#def  __Init____PARITY_0 PARITY_0
#def  PARITY_1 56
#def  __Init____PARITY_1 PARITY_1
#def  SEVEN_BITS 64
#def  __Init____SEVEN_BITS SEVEN_BITS
#def  EIGHT_BITS 0
#def  __Init____EIGHT_BITS EIGHT_BITS
#def  ONE_STOP_BIT 0
#def  __Init____ONE_STOP_BIT ONE_STOP_BIT
#def  TWO_STOP_BITS 128
#def  __Init____TWO_STOP_BITS TWO_STOP_BITS
#def  RTS_0 0
#def  __Init____RTS_0 RTS_0
#def  RTS_1 2
#def  __Init____RTS_1 RTS_1
#def  RTS_MAN 64
#def  __Init____RTS_MAN RTS_MAN
#def  RTS_AUTO 128
#def  __Init____RTS_AUTO RTS_AUTO
#def  RTS_CTS_AUTO 192
#def  __Init____RTS_CTS_AUTO RTS_CTS_AUTO
#def  HALF_DUPLEX 8
#def  __Init____HALF_DUPLEX HALF_DUPLEX

; Global types
#struct  TCHxStatistic
  usint STAT,
  usint ERR,
  udint trueMes,
  udint falseMes

; Global types
#struct  TCHxControl
  uint CONTROL

; Global types
#struct  TUni_STAT
  bool DSR,
  bool CTS,
  bool dummy1,
  bool TRO,
  bool RCF,
  bool ROV,
  bool TRF,
  bool ARC

; Global types
#struct  TUni_CONT
  bool dummy0,
  bool dummy1,
  bool dummy2,
  bool dummy3,
  bool dummy4,
  bool TRG,
  bool CLR,
  bool ACN

; Global types
#struct  TUni_SIGN
  bool DTR,
  bool RTS

; Global types
#struct  TUni_IN_STATUS
  TUni_STAT STAT,  ;status of receving
  usint ERR,  ;error code
  uint NUMR  ;number of received bytes

; Global types
#def  TUni_BUFF usint[1401]

; Global types
#struct  TUni_IN
  TUni_STAT STAT,  ;status of receving
  usint ERR,  ;error code
  uint NUMR,  ;number of received bytes
  TUni_BUFF DATA  ;received data

; Global types
#struct  TUni_OUT_CONT
  TUni_CONT CONT,  ;control of transmitting
  TUni_SIGN SIGN,  ;control of modem signals
  uint NUMT  ;mumber of transmitted bytes

; Global types
#struct  TUni_OUT
  TUni_CONT CONT,  ;control of transmitting
  TUni_SIGN SIGN,  ;control of modem signals
  uint NUMT,  ;mumber of transmitted bytes
  TUni_BUFF DATA  ;transmitted data

; Global types
#struct  TEthStat
  bool chan_present,  ;channel is present
  bool DHCP_enabled,  ;DHCP on
  bool IP_obtained,  ;IP address obtained from DHCP server
  bool IP_expired,  ;IP address expired
  bool link,  ;network cable connected
  usint reserved,  ;reserved
  udint trueMes,  ;suma of good messages
  udint falseMes  ;suma of bad messages

; Global variables
#def  ETH1_STAT TEthStat %S356  ;status of Ethernet channel ETH1
#def  ETH2_STAT TEthStat %S368  ;status of Ethernet channel ETH2
#def  ETH3_STAT TEthStat %S380  ;status of Ethernet channel ETH3
#def  ETH4_STAT TEthStat %S392  ;status of Ethernet channel ETH4
#def  WLAN1_STAT TEthStat %S440  ;status of Ethernet channel WLAN1
#def  WLAN2_STAT TEthStat %S452  ;status of Ethernet channel WLAN2
#def  LTE1_STAT TEthStat %S464  ;status of Ethernet channel LTE1

; Global variables
#data byte __Init____ANY_IP = 
    0,  0,  0,  0;
#def ANY_IP TIPadr __Init____ANY_IP
#def  ANY_uni 224
#def  __Init____ANY_uni ANY_uni
#def  ETH1_uni 225
#def  __Init____ETH1_uni ETH1_uni
#def  ETH2_uni 226
#def  __Init____ETH2_uni ETH2_uni
#def  ETH3_uni 227
#def  __Init____ETH3_uni ETH3_uni
#def  ETH4_uni 228
#def  __Init____ETH4_uni ETH4_uni
#def  WLAN1_uni 232
#def  __Init____WLAN1_uni WLAN1_uni
#def  WLAN2_uni 233
#def  __Init____WLAN2_uni WLAN2_uni
#def  LTE1_uni 234
#def  __Init____LTE1_uni LTE1_uni
#def  ETH1_uni0 2017
#def  __Init____ETH1_uni0 ETH1_uni0
#def  ETH1_uni1 6113
#def  __Init____ETH1_uni1 ETH1_uni1
#def  ETH1_uni2 10209
#def  __Init____ETH1_uni2 ETH1_uni2
#def  ETH1_uni3 14305
#def  __Init____ETH1_uni3 ETH1_uni3
#def  ETH1_uni4 18401
#def  __Init____ETH1_uni4 ETH1_uni4
#def  ETH1_uni5 22497
#def  __Init____ETH1_uni5 ETH1_uni5
#def  ETH1_uni6 26593
#def  __Init____ETH1_uni6 ETH1_uni6
#def  ETH1_uni7 30689
#def  __Init____ETH1_uni7 ETH1_uni7
#def  ETH2_uni0 2018
#def  __Init____ETH2_uni0 ETH2_uni0
#def  ETH2_uni1 6114
#def  __Init____ETH2_uni1 ETH2_uni1
#def  ETH2_uni2 10210
#def  __Init____ETH2_uni2 ETH2_uni2
#def  ETH2_uni3 14306
#def  __Init____ETH2_uni3 ETH2_uni3
#def  ETH2_uni4 18402
#def  __Init____ETH2_uni4 ETH2_uni4
#def  ETH2_uni5 22498
#def  __Init____ETH2_uni5 ETH2_uni5
#def  ETH2_uni6 26594
#def  __Init____ETH2_uni6 ETH2_uni6
#def  ETH2_uni7 30690
#def  __Init____ETH2_uni7 ETH2_uni7
#def  ETH3_uni0 2019
#def  __Init____ETH3_uni0 ETH3_uni0
#def  ETH3_uni1 6115
#def  __Init____ETH3_uni1 ETH3_uni1
#def  ETH3_uni2 10211
#def  __Init____ETH3_uni2 ETH3_uni2
#def  ETH3_uni3 14307
#def  __Init____ETH3_uni3 ETH3_uni3
#def  ETH3_uni4 18403
#def  __Init____ETH3_uni4 ETH3_uni4
#def  ETH3_uni5 22499
#def  __Init____ETH3_uni5 ETH3_uni5
#def  ETH3_uni6 26595
#def  __Init____ETH3_uni6 ETH3_uni6
#def  ETH3_uni7 30691
#def  __Init____ETH3_uni7 ETH3_uni7
#def  ETH4_uni0 2020
#def  __Init____ETH4_uni0 ETH4_uni0
#def  ETH4_uni1 6116
#def  __Init____ETH4_uni1 ETH4_uni1
#def  ETH4_uni2 10212
#def  __Init____ETH4_uni2 ETH4_uni2
#def  ETH4_uni3 14308
#def  __Init____ETH4_uni3 ETH4_uni3
#def  ETH4_uni4 18404
#def  __Init____ETH4_uni4 ETH4_uni4
#def  ETH4_uni5 22500
#def  __Init____ETH4_uni5 ETH4_uni5
#def  ETH4_uni6 26596
#def  __Init____ETH4_uni6 ETH4_uni6
#def  ETH4_uni7 30692
#def  __Init____ETH4_uni7 ETH4_uni7
#def  WLAN1_uni0 2024
#def  __Init____WLAN1_uni0 WLAN1_uni0
#def  WLAN1_uni1 6120
#def  __Init____WLAN1_uni1 WLAN1_uni1
#def  WLAN1_uni2 10216
#def  __Init____WLAN1_uni2 WLAN1_uni2
#def  WLAN1_uni3 14312
#def  __Init____WLAN1_uni3 WLAN1_uni3
#def  WLAN1_uni4 18408
#def  __Init____WLAN1_uni4 WLAN1_uni4
#def  WLAN1_uni5 22504
#def  __Init____WLAN1_uni5 WLAN1_uni5
#def  WLAN1_uni6 26600
#def  __Init____WLAN1_uni6 WLAN1_uni6
#def  WLAN1_uni7 30696
#def  __Init____WLAN1_uni7 WLAN1_uni7
#def  WLAN2_uni0 2025
#def  __Init____WLAN2_uni0 WLAN2_uni0
#def  WLAN2_uni1 6121
#def  __Init____WLAN2_uni1 WLAN2_uni1
#def  WLAN2_uni2 10217
#def  __Init____WLAN2_uni2 WLAN2_uni2
#def  WLAN2_uni3 14313
#def  __Init____WLAN2_uni3 WLAN2_uni3
#def  WLAN2_uni4 18409
#def  __Init____WLAN2_uni4 WLAN2_uni4
#def  WLAN2_uni5 22505
#def  __Init____WLAN2_uni5 WLAN2_uni5
#def  WLAN2_uni6 26601
#def  __Init____WLAN2_uni6 WLAN2_uni6
#def  WLAN2_uni7 30697
#def  __Init____WLAN2_uni7 WLAN2_uni7
#def  LTE1_uni0 2026
#def  __Init____LTE1_uni0 LTE1_uni0
#def  LTE1_uni1 6122
#def  __Init____LTE1_uni1 LTE1_uni1
#def  LTE1_uni2 10218
#def  __Init____LTE1_uni2 LTE1_uni2
#def  LTE1_uni3 14314
#def  __Init____LTE1_uni3 LTE1_uni3
#def  LTE1_uni4 18410
#def  __Init____LTE1_uni4 LTE1_uni4
#def  LTE1_uni5 22506
#def  __Init____LTE1_uni5 LTE1_uni5
#def  LTE1_uni6 26602
#def  __Init____LTE1_uni6 LTE1_uni6
#def  LTE1_uni7 30698
#def  __Init____LTE1_uni7 LTE1_uni7
#def  CH1_uni 257
#def  __Init____CH1_uni CH1_uni
#def  CH2_uni 514
#def  __Init____CH2_uni CH2_uni
#def  CH3_uni 259
#def  __Init____CH3_uni CH3_uni
#def  CH4_uni 516
#def  __Init____CH4_uni CH4_uni
#def  CH5_uni 261
#def  __Init____CH5_uni CH5_uni
#def  CH6_uni 518
#def  __Init____CH6_uni CH6_uni
#def  CH7_uni 263
#def  __Init____CH7_uni CH7_uni
#def  CH8_uni 520
#def  __Init____CH8_uni CH8_uni
#def  CH9_uni 265
#def  __Init____CH9_uni CH9_uni
#def  CH10_uni 522
#def  __Init____CH10_uni CH10_uni
#def  ETH1 225
#def  __Init____ETH1 ETH1
#def  ETH2 226
#def  __Init____ETH2 ETH2
#def  ETH3 227
#def  __Init____ETH3 ETH3
#def  ETH4 228
#def  __Init____ETH4 ETH4
#def  WLAN1 232
#def  __Init____WLAN1 WLAN1
#def  WLAN2 233
#def  __Init____WLAN2 WLAN2
#def  LTE1 234
#def  __Init____LTE1 LTE1
#def  SCH1 1
#def  __Init____SCH1 SCH1
#def  SCH2 2
#def  __Init____SCH2 SCH2
#def  SCH3 3
#def  __Init____SCH3 SCH3
#def  SCH4 4
#def  __Init____SCH4 SCH4
#def  SCH5 5
#def  __Init____SCH5 SCH5
#def  SCH6 6
#def  __Init____SCH6 SCH6
#def  SCH7 7
#def  __Init____SCH7 SCH7
#def  SCH8 8
#def  __Init____SCH8 SCH8
#def  SCH9 9
#def  __Init____SCH9 SCH9
#def  SCH10 10
#def  __Init____SCH10 SCH10
#def  ONE_TIME_LOG 0
#def  __Init____ONE_TIME_LOG ONE_TIME_LOG
#def  CYCLIC_LOG 16384
#def  __Init____CYCLIC_LOG CYCLIC_LOG
#def  HEX_LOG_ONLY 8192
#def  __Init____HEX_LOG_ONLY HEX_LOG_ONLY
#def  TEXT_LOG_ONLY 4096
#def  __Init____TEXT_LOG_ONLY TEXT_LOG_ONLY
#def  COM_OK 0
#def  __Init____COM_OK COM_OK
#def  COM_ERR1 1
#def  __Init____COM_ERR1 COM_ERR1
#def  COM_ERR2 2
#def  __Init____COM_ERR2 COM_ERR2
#def  COM_ERR3 3
#def  __Init____COM_ERR3 COM_ERR3
#def  COM_ERR4 4
#def  __Init____COM_ERR4 COM_ERR4
#def  COM_ERR5 5
#def  __Init____COM_ERR5 COM_ERR5
#def  COM_ERR6 6
#def  __Init____COM_ERR6 COM_ERR6
#def  COM_ERR7 7
#def  __Init____COM_ERR7 COM_ERR7
#def  COM_ERR8 8
#def  __Init____COM_ERR8 COM_ERR8
#def  COM_ERR16 16
#def  __Init____COM_ERR16 COM_ERR16
#def  COM_ERR17 17
#def  __Init____COM_ERR17 COM_ERR17
#def  COM_ERR18 18
#def  __Init____COM_ERR18 COM_ERR18
#def  COM_ERR19 19
#def  __Init____COM_ERR19 COM_ERR19
#def  COM_ERR20 20
#def  __Init____COM_ERR20 COM_ERR20
#def  COM_ERR24 24
#def  __Init____COM_ERR24 COM_ERR24
#def  COM_ERR25 25
#def  __Init____COM_ERR25 COM_ERR25
#def  COM_ERR49 49
#def  __Init____COM_ERR49 COM_ERR49
#def  COM_ERR50 50
#def  __Init____COM_ERR50 COM_ERR50
#def  COM_ERR64 64
#def  __Init____COM_ERR64 COM_ERR64
#def  COM_ERRc6 198
#def  __Init____COM_ERRc6 COM_ERRc6

; Global variables
#def  UNI_UDP 16
#def  __Init____UNI_UDP UNI_UDP
#def  UNI_TCP_CLIENT 33
#def  __Init____UNI_TCP_CLIENT UNI_TCP_CLIENT
#def  UNI_TCP_SERVER 34
#def  __Init____UNI_TCP_SERVER UNI_TCP_SERVER
#def  UNI_SSL_CLIENT 35
#def  __Init____UNI_SSL_CLIENT UNI_SSL_CLIENT
#def  UNI_SSL_SERVER 36
#def  __Init____UNI_SSL_SERVER UNI_SSL_SERVER

#defpou __LATENT_INSTANCE OpenUniSocket
  uint __fc__OpenUniSocket,
  TIPadr myIP,  ;local IP address
  uint myPort,  ;local port
  TIPadr hisIP,  ;remote IP address
  uint hisPort,  ;remote port
  usint protocol  ;protocol : UNI_UDP, UNI_TCP_CLIENT, ...


#defpou __LATENT_INSTANCE CloseUniSocket
  bool __fc__CloseUniSocket,
  pointer chanHandle  ;channel handle


#defpou __LATENT_INSTANCE GetUniSocketStatistic
  bool __fc__GetUniSocketStatistic,
  uint chanHandle,  ;channel handle
  pointer uniEthStat


#defpou __LATENT_INSTANCE GetUniSocketControl
  bool __fc__GetUniSocketControl,
  uint chanHandle,  ;channel handle
  pointer uniEthCont


#defpou __LATENT_INSTANCE SetUniSocketControl
  bool __fc__SetUniSocketControl,
  uint chanHandle,  ;channel handle
  pointer uniEthCont


#defpou __LATENT_INSTANCE GetUniChanStatus
  bool __fc__GetUniChanStatus,
  uint chanHandle,  ;channel handle
  pointer uniInStat


#defpou __LATENT_INSTANCE GetUniChanStatusEx
  bool __fc__GetUniChanStatusEx,
  uint chanHandle,  ;channel handle
  uint dataMaxLen,  ;max length of rx buffer
  pointer uniInStat


#defpou __LATENT_INSTANCE GetUniChanRxData
  bool __fc__GetUniChanRxData,
  uint chanHandle,  ;channel handle
  uint dataLen,
  pointer uniRxData


#defpou __LATENT_INSTANCE GetUniChanControl
  bool __fc__GetUniChanControl,
  uint chanHandle,  ;channel handle
  pointer uniOutCont


#defpou __LATENT_INSTANCE SetUniChanControl
  bool __fc__SetUniChanControl,
  uint chanHandle,  ;channel handle
  pointer uniOutCont


#defpou __LATENT_INSTANCE SetUniChanTxData
  bool __fc__SetUniChanTxData,
  uint chanHandle,  ;channel handle
  uint dataLen,
  pointer uniTxData


#defpou __LATENT_INSTANCE GetUniChanTxData
  bool __fc__GetUniChanTxData,
  uint chanHandle,  ;channel handle
  uint dataLen,
  pointer uniTxData


; Global types
#struct  TUniSocketsInfo
  uint numUniMdl,  ;max. poèet uni kanálù, které lze založit pomocí IOconfigurátoru (#module)
  uint freeUniMdl,  ;poèet volných uni kanálù, které lze založit pomocí IOconfigurátoru
  uint numUniChan,  ;max. poèet uni kanálù, které lze založit pomocí OpenUniSocket
  uint freeUniChan  ;poèet volných uni kanálù, které lze založit pomocí OpenUniSocket

#defpou __LATENT_INSTANCE GetUniSocketsInfo
  bool __fc__GetUniSocketsInfo,
  pointer uniInfo


#defpou __LATENT_INSTANCE SetUniLog
  bool __fc__SetUniLog,
  uint chanHandle,  ;channel handle
  uint logMode,  ;log mode: ONE_TIME_LOG x CYCLIC_LOG
  udint logSizeKB,  ;max log size [kB]
  string[81] logName  ;name of log file [kB]


#defpou __LATENT_INSTANCE SetUniChanHostName
  bool __fc__SetUniChanHostName,
  uint chanHandle,  ;channel handle
  string[81] hostName  ;server host name


#defpou __LATENT_INSTANCE GetChanDesc
  TUniDesc __fc__GetChanDesc,
  uint chanCode  ;channel code (ETH1_uni0, ..., ETH1_uni7, ETH2_uni0, ..., ETH2_uni7)


#defpou __LATENT_INSTANCE GetChanIndex
  int __fc__GetChanIndex,
  uint chanCode  ;channel code


; Global variables
#data byte __Init____ComErrorString = 
  'N','o',' ','e','r','r','o','r',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
  ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',$00,
  'C','h','a','n','n','e','l',' ','i','s',' ','n','o','t',' ','i','n',' ','u','n',
  'i',' ','m','o','d','e',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
  $00,'S','e','n','d','i','n','g',' ','d','a','t','a',' ','a','r','e',' ','t','o',
  'o',' ','l','o','n','g',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
  ' ',$00,'R','e','c','e','i','v','e','d',' ','d','a','t','a',' ','a','r','e',' ',
  't','o','o',' ','l','o','n','g',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
  ' ',' ',$00,'W','r','o','n','g',' ','c','h','a','n','n','e','l',' ','c','o','d',
  'e',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
  ' ',' ',' ',$00,'P','r','e','v','i','o','u','s',' ','m','e','s','s','a','g','e',
  ' ','i','s',' ','n','o','t',' ','s','e','n','t',' ','y','e','t',' ',' ',' ',' ',
  ' ',' ',' ',' ',$00,'Z','e','r','o',' ','m','e','s','s','a','g','e',' ','l','e',
  'n','g','t','h',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
  ' ',' ',' ',' ',' ',$00,'I','n','v','a','l','i','d',' ','c','o','m','m','u','n',
  'i','c','a','t','i','o','n',' ','s','p','e','e','d',' ',' ',' ',' ',' ',' ',' ',
  ' ',' ',' ',' ',' ',' ',$00,'C','h','a','n','n','e','l',' ','i','s',' ','d','i',
  's','a','b','l','e','d',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
  ' ',' ',' ',' ',' ',' ',' ',$00,'I','n','v','a','l','i','d',' ','s','t','a','r',
  't',' ','d','e','l','i','m','i','t','e','r',' ',' ',' ',' ',' ',' ',' ',' ',' ',
  ' ',' ',' ',' ',' ',' ',' ',' ',$00,'P','a','r','i','t','y',' ','e','r','r','o',
  'r',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
  ' ',' ',' ',' ',' ',' ',' ',' ',' ',$00,'M','a','x','i','m','u','m',' ','m','e',
  's','s','a','g','e',' ','l','e','n','g','t','h',' ','e','x','c','e','e','d','e',
  'd',' ',' ',' ',' ',' ',' ',' ',' ',' ',$00,'I','n','v','a','l','i','d',' ','s',
  'e','c','o','n','d',' ','b','y','t','e',' ','o','f',' ','a','c','k','n','o','w',
  'l','e','d','g','m','e','n','t',' ',' ',' ',$00,'I','n','v','a','l','i','d',' ',
  's','e','c','o','n','d',' ','b','y','t','e',' ','o','f',' ','e','n','d',' ','d',
  'e','l','i','m','i','t','e','r',' ',' ',' ',' ',$00,'C','h','e','c','k',' ','s',
  'u','m',' ','e','r','r','o','r',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
  ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',$00,'I','n','v','a','l','i',
  'd',' ','e','n','d',' ','d','e','l','i','m','i','t','e','r',' ',' ',' ',' ',' ',
  ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',$00,'I','n','v','a','l',
  'i','d',' ','l','e','n','g','t','h',' ','o','f',' ','s','e','n','t',' ','d','a',
  't','a',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',$00,'S','e','n','t',
  ' ','d','a','t','a',' ','z','e','r','o',' ','l','e','n','g','t','h',' ',' ',' ',
  ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',$00,'T','i','m',
  'e','o','u','t',' ','n','o','t',' ','h','e','l','d',' ',' ',' ',' ',' ',' ',' ',
  ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',$00,'I','n',
  'v','a','l','i','d',' ','c','h','a','n','n','e','l',' ','m','o','d','e',' ',' ',
  ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',$00,'U',
  'n','k','n','o','w','n',' ','e','r','r','o','r',' ',' ',' ',' ',' ',' ',' ',' ',
  ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',$00;

#def  ComErrorString string[21] __Init____ComErrorString

#defpou __LATENT_INSTANCE GetLastComErrTxt
  string[81] __fc__GetLastComErrTxt,
  usint errCode  ;error code


#defpou __LATENT_INSTANCE GetChanSettings
  bool __fc__GetChanSettings,
  usint serChan,  ;number of serial channel (SCH1, ..., SCH10)
  pointer chanSet  ;actual settings for serial channel


#defpou __LATENT_INSTANCE SetChanSettings
  usint __fc__SetChanSettings,
  bool rq,  ;request for new settings
  usint serChan,  ;number of serial channel (SCH1, ..., SCH10)
  pointer chanSet  ;new settings for serial channel


#data byte __Init___GetChanStat_initStat = 
    0;
#def __Const__GetChanStat_initStat TUni_STAT __Init___GetChanStat_initStat
#defpou __LATENT_INSTANCE GetChanStat
  TUni_STAT __fc__GetChanStat,
  uint chanCode  ;channel code (CH1_uni, ..., CH10_uni, ETH1_uni0, ..., ETH1_uni7, ETH2_uni0, ..., ETH2_uni7)


#defpou __LATENT_INSTANCE EstabTCPconnection
  usint __fc__EstabTCPconnection,
  uint chanCode  ;channel code (ETH1_uni0, ..., ETH1_uni7, ETH2_uni0, ..., ETH2_uni7)


#defpou __LATENT_INSTANCE CloseTCPconnection
  usint __fc__CloseTCPconnection,
  uint chanCode  ;channel code (ETH1_uni0, ..., ETH1_uni7, ETH2_uni0, ..., ETH2_uni7)


#defpou __LATENT_INSTANCE IsEstabTCPconnection
  bool __fc__IsEstabTCPconnection,
  uint chanCode  ;channel code (ETH1_uni0, ..., ETH1_uni7, ETH2_uni0, ..., ETH2_uni7)


#defpou __LATENT_INSTANCE SetRemoteIPaddress
  bool __fc__SetRemoteIPaddress,
  bool rq,  ;request for new settings
  uint chanCode,  ;channel code (ETH1_uni0, ..., ETH1_uni7)
  pointer ethAdr  ;new settings


#defpou __LATENT_INSTANCE GetRemoteIPaddress
  bool __fc__GetRemoteIPaddress,
  uint chanCode,  ;channel code (ETH1_uni0, ..., ETH1_uni7)
  pointer ethAdr  ;actual settings


; Global variables
#def  MAX_LENGHT_OF_WEB_USER_NAME 10
#def  __Init____MAX_LENGHT_OF_WEB_USER_NAME MAX_LENGHT_OF_WEB_USER_NAME
#def  HTTP_URI_SIZE 65
#def  __Init____HTTP_URI_SIZE HTTP_URI_SIZE

; Global types
#def  T_SESSION_STATE usint   ; ENUM Type 

; Global types
#struct  TWebServerAccess
  usint state,  ;session state
  string[11] user,  ;user name
  usint level,  ;level of access
  usint error,  ;error code
  TIPadr IP,  ;IP address of user
  string[66] lastFile  ;name of last requested file

; Global types
#def  TWebServerAccessTable TWebServerAccess[8]  ;access table of web server

#defpou __LATENT_INSTANCE GetWebServerAccess
  bool __fc__GetWebServerAccess,
  pointer accessTable  ;access table of web server


#defpou __LATENT_INSTANCE SetRTS
  bool __fc__SetRTS,
  uint chanCode,  ;channel code (CH1_uni, ..., CH10_uni)
  bool value,  ;RTS value
  pointer pUniOut


#defpou __LATENT_INSTANCE GetRTS
  bool __fc__GetRTS,
  uint chanCode,  ;channel code (CH1_uni, ..., CH10_uni)
  pointer pUniOut


#defpou __LATENT_INSTANCE MACADR_TO_STRING
  string[19] __fc__MACADR_TO_STRING,
  TMacAdr macAdr  ;MAC address array


#defpou __LATENT_INSTANCE GetIPaddress
  bool __fc__GetIPaddress,
  usint ethChan,  ;number of Ethernet channel (ETH1, ETH2, ETH3)
  pointer ethAdr  ;actual IP address, subnet mask and gateway address


#defpou __LATENT_INSTANCE SetIPaddress
  bool __fc__SetIPaddress,
  bool rq,  ;request for new settings
  usint ethChan,  ;number of Ethernet channel (ETH1, ETH2, ETH3)
  pointer ethAdr  ;new IP address, subnet mask and gateway address


#defpou __LATENT_INSTANCE OpenUniChannel
  uint __fc__OpenUniChannel,
  uint chanCode,  ;channel code : ANY_uni, ETH1_uni, ETH2_uni, WLAN1_uni, WLAN2_uni, LTE1_uni
  uint myPort,  ;local port
  TIPadr hisIP,  ;remote IP address
  uint hisPort,  ;remote port
  usint protocol  ;protocol : UNI_UDP, UNI_TCP_CLIENT, UNI_TCP_SERVER, UNI_SSL_CLIENT


#defpou __LATENT_INSTANCE CloseUniChannel
  bool __fc__CloseUniChannel,
  pointer chanHandle  ;channel handle


#defpou fbSendTo
  bool rq,  ;request to send
  uint chanCode,  ;channel code (CH1_uni, ..., CH10_uni, ETH1_uni0, ..., ETH1_uni7, ETH2_uni0, ..., ETH4_uni7)
  uint lenTx,  ;message size (number of bytes)
  pointer data,  ;buffer for send message
  bool mesSent,  ;sending of message was started
  usint error,  ;error code
  uint lenData,  ;size of sending message
  pointer pUniOut,
  pointer pUniIn,
  pointer pUniOutData


#defpou fbRecvFrom
  bool rq,  ;request to receive
  uint chanCode,  ;channel code (CH1_uni, ..., CH10_uni, ETH1_uni0, ..., ETH1_uni7, ETH2_uni0, ..., ETH4_uni7)
  uint lenRx,  ;max. data size (number of bytes)
  pointer data,  ;buffer for received message
  bool mesRec,  ;new message flag
  usint error,  ;error code
  uint lenData,  ;number of received bytes
  pointer pUniIn,
  pointer pUniInData,
  bool oldARC  ;ARRAY[0..39] OF BOOL;


#defpou fbRecvTxt
  bool getMes,  ;Gets message from buffer
  bool reset,  ;Flushes buffer
  uint chanCode,  ;Channel code (CH1_uni, ..., CH10_uni, ETH1_uni0, ..., ETH1_uni7, ETH2_uni0, ..., ETH4_uni7)
  uint lenBuf,  ;Lenght of buffer
  uint lenTxt,  ;Lenght of txtMes
  bool full,  ;Buffer is full, messages were not taken fast enought
  uint lenMes,  ;Message length
  usint error,  ;error code
  uint actPos,
  fbRecvFrom RecvFrom,
  pointer buffer,  ;First byte of working buffer
  pointer txtMes  ;First byte of received text


#defpou fbRecvTxtChar
  bool getMes,  ;Gets message from buffer
  bool reset,  ;Flushes buffer
  uint chanCode,  ;Channel code (CH1_uni, ..., CH10_uni, ETH1_uni0, ..., ETH1_uni7, ETH2_uni0, ..., ETH4_uni7)
  uint lenBuf,  ;Lenght of buffer
  uint lenTxt,  ;Lenght of txtMes
  byte delimiter,  ;delimiter
  bool full,  ;Buffer is full, messages were not taken fast enought
  uint lenMes,  ;Message length
  usint error,  ;error code
  uint actPos,
  fbRecvFrom RecvFrom,
  pointer buffer,  ;First byte of working buffer
  pointer txtMes  ;First byte of received text


#defpou __LATENT_INSTANCE GetMACaddress
  bool __fc__GetMACaddress,
  usint ethChan,  ;number of Ethernet channel (ETH1, ETH2, ETH3)
  pointer MacAdr  ;actual MAC address


#defpou __LATENT_INSTANCE SetDHCPsupport
  bool __fc__SetDHCPsupport,
  bool rq,  ;request for DHCP support
  usint ethChan  ;number of Ethernet channel (ETH1 only)


#defpou __LATENT_INSTANCE GetDNS_IP
  TIPadr __fc__GetDNS_IP,  ;IP address
  usint ethChan  ;number of Ethernet channel (ETH1 only)


#defpou __LATENT_INSTANCE SetDNS_IP
  bool __fc__SetDNS_IP,
  bool rq,  ;request for new settings of DNS IP
  usint ethChan,  ;number of Ethernet channel (ETH1 only)
  TIPadr DNS_IP  ;IP address of DNS server


#defpou __LATENT_INSTANCE STRING_TO_IPADR
  TIPadr __fc__STRING_TO_IPADR,  ;IP address
  string[81] IPAdr  ;IP address string


#defpou __LATENT_INSTANCE IPADR_TO_STRING
  string[81] __fc__IPADR_TO_STRING,
  TIPadr IPAdr  ;IP address array


#defpou fbKeepAliveTCP
  bool rq,  ;request to keep alive
  uint chanCode,  ;channel code (ETH1_uni0, ..., ETH1_uni7, ETH2_uni0, ..., ETH2_uni7)
  time PT,  ;keep alive interval (T#5s...T#60s)
  usint error,  ;error code
  fbTick tick


#defpou __LATENT_INSTANCE CheckGatewayIP
  bool __fc__CheckGatewayIP,
  usint ethChan  ;number of Ethernet channel (ETH1, ETH2, ETH3)


#defpou __LATENT_INSTANCE CheckCRC_16
  uint __fc__CheckCRC_16,
  pointer ptr,  ;pointer to array bytes
  uint length  ;length of array (number of bytes)


#defpou __LATENT_INSTANCE CheckSum
  usint __fc__CheckSum,
  pointer ptr,  ;pointer to array bytes
  uint length,  ;length of array (number of bytes)
  uint i,
  usint sum,
  pointer ptrc


#defpou __LATENT_INSTANCE CheckSum_XOR
  usint __fc__CheckSum_XOR,
  pointer ptr,  ;pointer to array bytes
  uint length,  ;length of array (number of bytes)
  uint i,
  byte sum,
  pointer ptrc


#defpou __LATENT_INSTANCE CheckCRC_CCITT
  uint __fc__CheckCRC_CCITT,
  pointer ptr,  ;pointer to array bytes
  uint length,  ;length of array (number of bytes)
  word valCRC,
  word tmp,
  uint i,
  uint j,
  pointer ptrMsg


#defpou __LATENT_INSTANCE CheckCRC_TECO
  uint __fc__CheckCRC_TECO,
  pointer ptr,  ;pointer to array bytes
  uint length,  ;length of array (number of bytes)
  word valCRC,
  word tmp,
  uint i,
  uint j,
  pointer ptrMsg


#defpou __LATENT_INSTANCE CheckCRC_DIN
  uint __fc__CheckCRC_DIN,
  pointer ptr,  ;pointer to array bytes
  uint length,  ;length of array (number of bytes)
  word tmp,
  word valCRC,
  uint i,
  uint j,
  pointer ptrMsg


#defpou __LATENT_INSTANCE CheckCRC_ARNEP
  uint __fc__CheckCRC_ARNEP,
  pointer ptr,  ;pointer to array bytes
  uint length,  ;length of array (number of bytes)
  word valCRC,
  byte tmp,
  uint i,
  uint j,
  pointer ptrMsg


#defpou __LATENT_INSTANCE CheckCRC_32
  udint __fc__CheckCRC_32,
  pointer ptr,
  uint length,
  dword valCRC,
  dword mask,
  uint i,
  uint j,
  pointer ptrMsg


#defpou __LATENT_INSTANCE fcModelLibInvalidReal
  bool __fc__fcModelLibInvalidReal,
  real r


; Global types
#def  GenericArrayForDelay real[1024]  ;Generic type for VAR_IN_OUT

#defpou __LATENT_INSTANCE fcHiddenModelLibDoStep
  bool __fc__fcHiddenModelLibDoStep,
  real T,
  pointer LastT


#defpou fbLimIntegrator
  real In,  ;Input
  real MinO,  ;Limits
  real MaxO,  ;Limits
  real T,  ;Sample period [s]
  real Preset,  ;Initial value for output
  bool Reset,  ;Reset output to initial value
  real Out,  ;Output
  bool Init,  ;Initialization flag (true means initialized)
  time LastT,  ;Last time of block execution
  bool __EDGE_R__Reset


#defpou fbIntegrator
  real In,  ;Input
  real T,  ;Sample period [s]
  real Preset,  ;Initial value for output
  bool Reset,  ;Reset output to initial value
  real Out,  ;Output
  bool Init,  ;Initialization flag (true means initialized)
  time LastT,  ;Last time of block execution
  bool __EDGE_R__Reset


#defpou fbDerivator
  real In,  ;Input
  real T,  ;Sample period [s]
  real Out,  ;Output
  bool Init,  ;Initialization flag (true means initialized)
  time LastT,  ;Last time of block execution
  real Last_In  ;Last input value (In(k-1))


#defpou fbDelay
  real In,  ;Input
  int K,  ;Multiples of sample period determining transport delay (max 1024)
  real T,  ;Sample period [s]
  real Out,  ;Output
  pointer Buffer,  ;Samples buffer [0..max.1023] of REAL
  time LastT,  ;Last time of block execution
  int Point,  ;Pointer to buffer
  bool Init  ;Initialization flag (true means initialized)


#defpou fbFirstOrder
  real In,  ;Input
  real G,  ;Gain
  real T1,  ;Time constant [s]
  real T,  ;Sample period [s]
  real Preset,  ;Initial value for output
  bool Reset,  ;Reset output to initial value
  real Out,  ;Output
  bool Init,  ;Initialization flag (true means initialized)
  time LastT,  ;Last time of block execution
  real Exp1,  ;Constant evaluated by time constant
  real OldT1,  ;Old time constant - for change tracking
  bool __EDGE_R__Reset


#defpou fbSecondOrder
  real In,  ;Input
  real G,  ;Gain
  real T1,  ;Time constant [s]
  real T2,  ;Time constant [s]
  real T,  ;Sample period [s]
  real Preset,  ;Initial value for output
  bool Reset,  ;Reset output to initial value
  real Out,  ;Output
  bool Init,  ;Initialization flag (true means initialized)
  time LastT,  ;Last time of block execution
  real a,  ;Auxiliary constants
  real b,  ;Auxiliary constants
  real c,  ;Auxiliary constants
  real d,  ;Auxiliary constants
  real OldT1,  ;Old time constant - for change tracking
  real OldT2,  ;Old time constant - for change tracking
  real LastIn,  ;Last input
  real LastOut,  ;Output to step older
  bool __EDGE_R__Reset


#defpou fbSecondOrderOsc
  real In,  ;Input
  real G,  ;Gain
  real Alp,  ;Damping ratio
  real Omg,  ;Natural frequency [1/(rad * s)]
  real T,  ;Sample period [s]
  real Preset,  ;Initial value for output
  bool Reset,  ;Reset output to initial value
  real Out,  ;Output
  fbIntegrator i1,
  fbIntegrator i2,
  bool __EDGE_R__Reset


#defpou fbSimplePID
  real y,  ;Measured value
  real w,  ;Set point
  real u_man,  ;Manual output value
  real min_u,  ;Output low limit
  real max_u,  ;Output high limit
  real Gain,  ;Proporcional gain
  real Ti,  ;Integration time constant [s]
  real Td,  ;Derivative time constant [s]
  real T,  ;Sample periode [s]
  real Tf,  ;D-part filter time constant [s]
  real dz,  ;Symetric dead zone
  bool manual,  ;Manual mode (0 - automatic mode, 1 - manual mode)
  bool IH,  ;Integrator hold (0 - intergator enabled, 1 - integrator hold)
  real u,  ;Actuator value
  real uvel,  ;Speed of actuator
  real partP,  ;Value of proportional part
  real partI,  ;Value of integral part
  real partD,  ;Value of derivative part
  real e,  ;Deviation (error) value
  bool auto,  ;Controller mode (0 - manual mode, 1 - automatic mode)
  bool satmax,  ;Output is saturated at maximal value
  bool satmin,  ;Output is saturated at minimal value
  bool wasman,  ;flag for change from manual mode
  bool Init,  ;initialization flag (true means initialized)
  real e_1,  ;last deviation
  real y_p,  ;filtered input
  real y_1,  ;last output
  time LastT  ;last execution time


#defpou _STEP_CONTROL_POS_SIM_
  bool o,
  bool c,
  bool fo,
  bool fc,
  real t0100,
  time LT,
  real timdif,
  real virPos,
  bool INIT,
  bool so,
  bool sc,
  real pos


#defpou fbStepControl
  real Pos,  ;Actuator set point
  real PosVel,  ;Velocity of actuator set point
  bool HiSw,  ;Switch of fully open position
  bool LoSw,  ;Switch of fully close position
  real t0100,  ;Time of transition from fully close to fully open position in seconds
  real tmin,  ;Minimal length of pulse and duration between pulses in seconds
  real t01min,  ;Minimal time between pulses of oposite direction in seconds
  bool Open,  ;Request to open
  bool Close,  ;Request to close
  bool Run,  ;Actuator is running (logical disjunction of requests to open and close)
  real VirPos,  ;Computed virtual position of actuator
  bool wasOpen,
  bool wasClose,
  bool Idle,
  TON t0,  ;_TIM_REAL_;
  TON t1,  ;_TIM_REAL_;
  _STEP_CONTROL_POS_SIM_ ps


; Global types
#def  TGeneratorSignalType usint   ; ENUM Type 

#defpou fbGenerator
  real Zero,  ;Zero level
  real Amp,  ;Output signal amplitude
  real Per,  ;Output signal period [s]
  usint SType,  ;Type of output signal
  bool Reset,  ;Generator reset
  real Out,  ;Generator output
  bool Init,
  time Start,
  real Phase,
  bool __EDGE_R__Reset


; Global types
#def  HANDLE udint  ;file identificator

; Global types
#struct  TDirStack
  HANDLE hDir,  ;file identificator
  string[13] sDir

; Global variables
#def  INVALID_HANDLE_VALUE 0
#def  __Init____INVALID_HANDLE_VALUE INVALID_HANDLE_VALUE
#def  MAX_PATH 65
#def  __Init____MAX_PATH MAX_PATH
#def  MAX_COUNT_OPEN_FILES 16
#def  __Init____MAX_COUNT_OPEN_FILES MAX_COUNT_OPEN_FILES
#def  DIR_STACK_MAX_LEVEL 4
#def  __Init____DIR_STACK_MAX_LEVEL DIR_STACK_MAX_LEVEL

; Global types
#struct  TFileInfo
  date_and_time creationTime,  ;file creation time
  date_and_time modifyTime,  ;time of last modification
  udint fileSize,  ;size of file (number of bytes)
  dword attrib,  ;file attributes
  string[81] fileName,  ;name of file
  byte empty

; Global types
#struct  TDiskInfo
  udint TotalNumberOfKBytes,  ;disc size (number of kilobytes)
  udint TotalNumberOfFreeKBytes  ;free space (number of kilobytes)

; Global types
#def  TF_MODE usint   ; ENUM Type 

#defpou __LATENT_INSTANCE FileOpen
  HANDLE __fc__FileOpen,  ;file identificator
  usint mode,  ;kinds of access (F_READ / F_WRITE / F_APPEND)
  pointer fileName  ;file name (including path)


#defpou __LATENT_INSTANCE FileClose
  bool __fc__FileClose,
  HANDLE hFile  ;file identificator


#defpou __LATENT_INSTANCE FileDelete
  bool __fc__FileDelete,
  pointer fileName  ;file name (including path)


#defpou __LATENT_INSTANCE FileRead
  udint __fc__FileRead,
  HANDLE hFile,  ;file identificator
  udint adrBuf,  ;destination variable
  udint size  ;data length (number of bytes)


#defpou __LATENT_INSTANCE FileWrite
  udint __fc__FileWrite,
  HANDLE hFile,  ;file identificator
  udint adrBuf,  ;variable address
  udint size  ;data length (number of bytes)


; Global variables
#def  BEGIN_POS 0
#def  __Init____BEGIN_POS BEGIN_POS
#def  END_POS 4294967295
#def  __Init____END_POS END_POS

#defpou __LATENT_INSTANCE FileSetPos
  bool __fc__FileSetPos,
  HANDLE hFile,  ;file identificator
  udint offset  ;data offset in file


#defpou __LATENT_INSTANCE FileExists
  bool __fc__FileExists,
  pointer fileName  ;file name (including path)


; Global variables
#def  UNKNOWN_SIZE 4294967295
#def  __Init____UNKNOWN_SIZE UNKNOWN_SIZE

#defpou __LATENT_INSTANCE FileSize
  udint __fc__FileSize,
  HANDLE hFile  ;file identificator


#defpou __LATENT_INSTANCE DirOpen
  HANDLE __fc__DirOpen,  ;file identificator
  pointer dirName,  ;dir name (including path)
  pointer dirInfo  ;structure contains information about first file in dir


#defpou __LATENT_INSTANCE DirClose
  bool __fc__DirClose,
  HANDLE hDir  ;file identificator


#defpou __LATENT_INSTANCE DirRead
  bool __fc__DirRead,
  HANDLE hDir,  ;file identificator
  pointer dirInfo  ;structure contains information about next file in dir


#defpou __LATENT_INSTANCE DirCreate
  bool __fc__DirCreate,
  pointer dirName  ;directory name (including path)


#defpou __LATENT_INSTANCE DirDelete
  bool __fc__DirDelete,
  pointer dirName  ;directory name (including path)


#defpou __LATENT_INSTANCE GetLastErr
  udint __fc__GetLastErr


#defpou __LATENT_INSTANCE GetLastErrTxt
  bool __fc__GetLastErrTxt,
  udint errCode,  ;error code
  pointer errMessage  ;error description


#defpou __LATENT_INSTANCE DiskInfo
  bool __fc__DiskInfo,
  pointer diskName,  ;disk name (empty string for default disk)
  pointer diskDesc  ;disk description


#defpou __LATENT_INSTANCE FindFreeCluster
  byte __fc__FindFreeCluster,
  pointer fileName  ;file name (including path)


#defpou __LATENT_INSTANCE FileInfo
  bool __fc__FileInfo,
  pointer fileName,  ;dir name (including path)
  pointer fileDesc  ;structure contains information about file


#defpou __LATENT_INSTANCE CloseAllFiles
  bool __fc__CloseAllFiles


#defpou __LATENT_INSTANCE OpenFilesCount
  uint __fc__OpenFilesCount


#defpou __LATENT_INSTANCE FileMove
  bool __fc__FileMove,
  pointer oldName,  ;old file name (including path)
  pointer newName  ;new file name (including path)


#defpou __LATENT_INSTANCE FileRename
  bool __fc__FileRename,
  pointer oldName,  ;old file name (including path)
  pointer newName  ;new file name (including path)


#defpou __LATENT_INSTANCE SetFileAttr
  bool __fc__SetFileAttr,
  dword attrib,  ;attributes
  pointer fileName  ;file name (including path)


#defpou __LATENT_INSTANCE ForceDirs
  bool __fc__ForceDirs,
  pointer fileName  ;file name (including path)


#defpou ReadFromFile
  pointer fileName,  ;file name (including path)
  pointer dstVar,  ;address of destination variable
  bool exec,  ;read request (rising edge)
  udint seek,  ;data offset in file
  udint size,  ;data length <= size of variable (number of bytes)
  bool done,  ;action is done
  bool busy,  ;action in progress
  bool err,  ;error flag
  udint errID,  ;error number (0 = no error)
  udint actSize,  ;number of bytes really read
  R_TRIG execTrig,
  R_TRIG errTrig,
  HANDLE hnd,  ;file identificator
  udint adrVar


#defpou WriteToFile
  pointer fileName,  ;file name (including path)
  pointer srcVar,  ;address of source variable
  bool exec,  ;write request (rising edge)
  udint seek,  ;data offset in file
  udint size,  ;data length (number of bytes)
  bool done,  ;action is done
  bool busy,  ;action in progress
  bool err,  ;error flag
  udint errID,  ;error number (0 = no error)
  udint actSize,  ;number of bytes really written
  R_TRIG eTrig,
  R_TRIG errTrig,
  HANDLE hnd,  ;file identificator
  udint adrVar,
  uint idle


#defpou CreatePath
  bool exec,  ;request (rising edge)
  pointer fileName,  ;dir name including path (e.g. WWW/NEW_DIR/)
  bool done,  ;action is done
  bool busy,  ;action in progress
  bool err,  ;error flag
  udint errID,  ;error number (0 = no error)
  R_TRIG eTrig,  ;rising edge of exec
  R_TRIG errTrig,  ;rising edge of err
  bool createDir,
  string[81] path,
  string[81] copy,
  uint idle


#defpou WriteDbxToFile
  pointer fileName,  ;file name (including path)
  bool exec,  ;request (rising edge)
  udint seek,  ;data offset in file
  udint srcAdr,  ;databox address
  udint size,  ;data length (number of bytes)
  bool done,  ;action is done
  bool busy,  ;action in progress
  bool err,  ;error flag
  udint errID,  ;error number (0 = no error)
  udint actSize,  ;number of bytes really written
  R_TRIG eTrig,
  R_TRIG errTrig,
  HANDLE hnd,  ;file identificator
  udint adrVar,
  uint idle


#defpou ReadDbxFromFile
  pointer fileName,  ;file name (including path)
  bool exec,  ;request (rising edge)
  udint seek,  ;data offset in file
  udint dstAdr,  ;databox address
  udint size,  ;data length <= size of variable (number of bytes)
  bool done,  ;action is done
  bool busy,  ;action in progress
  bool err,  ;error flag
  udint errID,  ;error number (0 = no error)
  udint actSize,  ;number of bytes really read
  R_TRIG execTrig,
  R_TRIG errTrig,
  HANDLE hnd,  ;file identificator
  udint adrVar


#defpou WriteToFileSeq
  pointer fileName,  ;file name (including path)
  pointer srcVar,  ;address of source variable
  bool write,  ;request
  bool close,  ;close opened file
  udint size,  ;data length (number of bytes)
  bool open,  ;file is open, next data will be appended to rest
  bool err,  ;error flag
  udint errID,  ;error number (0 = no error)
  udint actSize,  ;actual file size (number of bytes)
  R_TRIG errTrig,
  udint wrSize,
  HANDLE hnd  ;file identificator


#defpou DeleteDirectories
  bool exec,  ;request (rising edge)
  pointer dirName,  ;dir name (including path)
  TDirStack[5] dirStack,
  string[81] CurrFile,
  usint dirStackLev,
  usint i,
  TFileInfo lLocalFileInfo,
  bool Done,
  bool Busy,
  bool Err,
  bool __EDGE_R__exec


#data byte __Init___ReadLine_SEPARATOR = 
   10,  0;
#def  __Const__ReadLine_SEPARATOR byte[2] __Init___ReadLine_SEPARATOR
#defpou ReadLine
  udint line,  ;Number of requested line (1..n)
  udint maxLen,  ;Maximal length of line
  pointer fileName,  ;Filename (including path)
  pointer txtLine,  ;Line from file
  bool done,  ;Reading from a file is closed
  bool busy,  ;Busy reading from a file
  bool err,  ;Error flag
  bool lineContinues,  ;Line was longer than maximum lenght and will continue
  udint actLine,  ;Actual line number
  udint errID,  ;Error code (0 = no error)
  string[81] errTxt,  ;The last error text
  udint lastLine,  ;cislo naposled hledaneho radku
  string[81] lastFile,  ;jmeno souboru, se kterym se naposledy pracovalo
  udint actPos,  ;aktualni pozice v souboru (offset od zacatku)
  udint actSize,  ;pocet znaku nactenych ze souboru
  int i,
  int index,
  uint outidx,
  bool bufTxtReady,
  bool newFile,
  bool newFileTest,
  TFileInfo fileInf,  ;struktura s informacemi o souboru
  word empty,
  ReadFromFile ReadFile


#defpou __LATENT_INSTANCE DisconnectUsbDisk
  bool __fc__DisconnectUsbDisk


#defpou __LATENT_INSTANCE USINT_TO_STRINGF
  string[81] __fc__USINT_TO_STRINGF,
  usint in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE SINT_TO_STRINGF
  string[81] __fc__SINT_TO_STRINGF,
  sint in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE UINT_TO_STRINGF
  string[81] __fc__UINT_TO_STRINGF,
  uint in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE INT_TO_STRINGF
  string[81] __fc__INT_TO_STRINGF,
  int in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE UDINT_TO_STRINGF
  string[81] __fc__UDINT_TO_STRINGF,
  udint in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE DINT_TO_STRINGF
  string[81] __fc__DINT_TO_STRINGF,
  dint in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE REAL_TO_STRINGF
  string[81] __fc__REAL_TO_STRINGF,
  real in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE LREAL_TO_STRINGF
  string[81] __fc__LREAL_TO_STRINGF,
  lreal in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE BYTE_TO_STRINGF
  string[81] __fc__BYTE_TO_STRINGF,
  byte in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE WORD_TO_STRINGF
  string[81] __fc__WORD_TO_STRINGF,
  word in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE DWORD_TO_STRINGF
  string[81] __fc__DWORD_TO_STRINGF,
  dword in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE DATE_TO_STRINGF
  string[81] __fc__DATE_TO_STRINGF,
  date in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE DT_TO_STRINGF
  string[81] __fc__DT_TO_STRINGF,
  date_and_time in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE TIME_TO_STRINGF
  string[81] __fc__TIME_TO_STRINGF,
  time in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE TOD_TO_STRINGF
  string[81] __fc__TOD_TO_STRINGF,
  time_of_day in,
  string[81] format  ; format string


#defpou __LATENT_INSTANCE BOOL_TO_STRINGF
  string[81] __fc__BOOL_TO_STRINGF,
  bool in,
  string[81] format  ; format string


; Global types
#struct  LONGTIME
  dint Days,  ;Number of days
  time TimeOfDay  ;Time in day

#defpou __LATENT_INSTANCE DATE_OF_DT
  date __fc__DATE_OF_DT,
  date_and_time in  ;Input variable


#defpou __LATENT_INSTANCE TIME_OF_DT
  time __fc__TIME_OF_DT,
  date_and_time in  ;Input variable


#defpou __LATENT_INSTANCE YEAR_OF_DT
  uint __fc__YEAR_OF_DT,
  date_and_time in,  ;Input variable
  string[31] s


#defpou __LATENT_INSTANCE MONTH_OF_DT
  usint __fc__MONTH_OF_DT,
  date_and_time in  ;Input variable


#defpou __LATENT_INSTANCE DAY_OF_DT
  usint __fc__DAY_OF_DT,
  date_and_time in  ;Input variable


#defpou __LATENT_INSTANCE HOUR_OF_DT
  usint __fc__HOUR_OF_DT,
  date_and_time in  ;Input variable


#defpou __LATENT_INSTANCE MIN_OF_DT
  usint __fc__MIN_OF_DT,
  date_and_time in  ;Input variable


#defpou __LATENT_INSTANCE SEC_OF_DT
  usint __fc__SEC_OF_DT,
  date_and_time in  ;Input variable


#defpou __LATENT_INSTANCE MSEC_OF_DT
  uint __fc__MSEC_OF_DT,
  date_and_time in  ;Input variable


#defpou __LATENT_INSTANCE CutMSec_From_DT
  date_and_time __fc__CutMSec_From_DT,
  date_and_time in  ;Input variable


#defpou __LATENT_INSTANCE CutSec_From_DT
  date_and_time __fc__CutSec_From_DT,
  date_and_time in  ;Input variable


#defpou __LATENT_INSTANCE YEAR_OF_DATE
  uint __fc__YEAR_OF_DATE,
  date in  ;Input variable


#defpou __LATENT_INSTANCE MONTH_OF_DATE
  usint __fc__MONTH_OF_DATE,
  date in  ;Input variable


#defpou __LATENT_INSTANCE DAY_OF_DATE
  usint __fc__DAY_OF_DATE,
  date in  ;Input variable


#defpou __LATENT_INSTANCE DAY_OF_YEAR
  uint __fc__DAY_OF_YEAR,
  date in,  ;Input variable
  uint year,
  string[81] tmp,
  date yearD,
  lreal secOfYear


#defpou __LATENT_INSTANCE HOUR_OF_TIME
  usint __fc__HOUR_OF_TIME,
  time in  ;Input variable


#defpou __LATENT_INSTANCE MIN_OF_TIME
  usint __fc__MIN_OF_TIME,
  time in  ;Input variable


#defpou __LATENT_INSTANCE SEC_OF_TIME
  usint __fc__SEC_OF_TIME,
  time in  ;Input variable


#defpou __LATENT_INSTANCE MSEC_OF_TIME
  uint __fc__MSEC_OF_TIME,
  time in  ;Input variable


#defpou __LATENT_INSTANCE DecodeTime
  bool __fc__DecodeTime,
  time in,  ;Input variable
  pointer H,  ;Hours
  pointer M,  ;Minutes
  pointer S,  ;Seconds
  pointer Ms  ;Milliseconds


#defpou __LATENT_INSTANCE EncodeTime
  time __fc__EncodeTime,
  usint H,  ;Hours
  usint M,  ;Minutes
  usint S,  ;Seconds
  uint Ms  ;Milliseconds


#defpou __LATENT_INSTANCE MUL_TIME_REAL
  time __fc__MUL_TIME_REAL,
  time IN1,  ;Time to be multiplied
  real IN2  ;Multiplier


#defpou __LATENT_INSTANCE MUL_TIME_LREAL
  time __fc__MUL_TIME_LREAL,
  time IN1,  ;Time to be multiplied
  lreal IN2  ;Multiplier


#defpou __LATENT_INSTANCE DIV_TIME_REAL
  time __fc__DIV_TIME_REAL,
  time IN1,  ;Time to be divided
  real IN2  ;Divisor


#defpou __LATENT_INSTANCE DIV_TIME_LREAL
  time __fc__DIV_TIME_LREAL,
  time IN1,  ;Time to be divided
  lreal IN2  ;Divisor


; Global variables
#data byte __Init____MonthsNamesRFC2822 = 
  'J','a','n',$00,'F','e','b',$00,'M','a','r',$00,'A','p','r',$00,'M','a','y',$00,'J',
  'u','n',$00,'J','u','l',$00,'A','u','g',$00,'S','e','p',$00,'O','c','t',$00,'N',
  'o','v',$00,'D','e','c',$00;
#def  MonthsNamesRFC2822 string[12] __Init____MonthsNamesRFC2822

#defpou __LATENT_INSTANCE GetDateAndTime_RFC2822
  string[27] __fc__GetDateAndTime_RFC2822,
  int UtcOff,  ;Offset from UTC in minutes
  string[81] Format


#defpou __LATENT_INSTANCE WeekNumber
  usint __fc__WeekNumber,
  date_and_time IN  ;Time for calculation of week number


#defpou __LATENT_INSTANCE TIME_TO_REALsec
  real __fc__TIME_TO_REALsec,
  time IN  ;Time


#defpou __LATENT_INSTANCE LONGTIME_TO_LREAL
  lreal __fc__LONGTIME_TO_LREAL,
  LONGTIME IN


#defpou __LATENT_INSTANCE LREAL_TO_LONGTIME
  LONGTIME __fc__LREAL_TO_LONGTIME,
  lreal IN


#defpou __LATENT_INSTANCE ADD_DT_LONGTIME
  date_and_time __fc__ADD_DT_LONGTIME,
  date_and_time IN1,  ;First time to sum
  LONGTIME IN2  ;Second time to sum


#defpou __LATENT_INSTANCE ADD_LONGTIME
  LONGTIME __fc__ADD_LONGTIME,
  LONGTIME IN1,  ;First time to sum
  LONGTIME IN2


#defpou __LATENT_INSTANCE ADD_LONGTIME_TIME
  LONGTIME __fc__ADD_LONGTIME_TIME,
  LONGTIME IN1,  ;First time to sum
  time IN2  ;Second time to sum


#defpou __LATENT_INSTANCE DIV_LONGTIME
  LONGTIME __fc__DIV_LONGTIME,
  LONGTIME IN1,  ;Time to be divided
  real IN2  ;Divisor


#defpou __LATENT_INSTANCE EQ_LONGTIME
  bool __fc__EQ_LONGTIME,
  LONGTIME IN1,  ;First time for comparison
  LONGTIME IN2  ;Second time for comparison


#defpou __LATENT_INSTANCE GE_LONGTIME
  bool __fc__GE_LONGTIME,
  LONGTIME IN1,  ;First time for comparison
  LONGTIME IN2  ;Second time for comparison


#defpou __LATENT_INSTANCE GT_LONGTIME
  bool __fc__GT_LONGTIME,
  LONGTIME IN1,  ;First time for comparison
  LONGTIME IN2  ;Second time for comparison


#defpou __LATENT_INSTANCE LE_LONGTIME
  bool __fc__LE_LONGTIME,
  LONGTIME IN1,  ;First time for comparison
  LONGTIME IN2  ;Second time for comparison


#defpou __LATENT_INSTANCE LT_LONGTIME
  bool __fc__LT_LONGTIME,
  LONGTIME IN1,  ;First time for comparison
  LONGTIME IN2  ;Second time for comparison


#defpou __LATENT_INSTANCE MUL_LONGTIME
  LONGTIME __fc__MUL_LONGTIME,
  LONGTIME IN1,  ;Time to be multiplied
  real IN2  ;Multiplier


#defpou __LATENT_INSTANCE NE_LONGTIME
  bool __fc__NE_LONGTIME,
  LONGTIME IN1,  ;First time for comparison
  LONGTIME IN2  ;Second time for comparison


#defpou __LATENT_INSTANCE SUB_DATE_DATE_LONG
  LONGTIME __fc__SUB_DATE_DATE_LONG,
  date IN1,  ;Date from which is subtracted
  date IN2  ;Date to be subtracted


#defpou __LATENT_INSTANCE SUB_DT_DT_LONG
  LONGTIME __fc__SUB_DT_DT_LONG,
  date_and_time IN1,  ;Date and time from which is subtracted
  date_and_time IN2  ;Date and time to be subtracted


#defpou __LATENT_INSTANCE SUB_DT_LONGTIME
  date_and_time __fc__SUB_DT_LONGTIME,
  date_and_time IN1,  ;Date and time from which is subtracted
  LONGTIME IN2  ;Time to be subtracted


#defpou __LATENT_INSTANCE SUB_LONGTIME
  LONGTIME __fc__SUB_LONGTIME,
  LONGTIME IN1,  ;Time from which is subtracted
  LONGTIME IN2  ;Time to be subtracted


#defpou __LATENT_INSTANCE SUB_LONGTIME_TIME
  LONGTIME __fc__SUB_LONGTIME_TIME,
  LONGTIME IN1,  ;Time from which is subtracted
  time IN2  ;Time to be subtracted


#defpou AbsoluteTON
  bool IN,  ;input
  LONGTIME PT,  ;preset
  pointer TS,  ;time stamp (must be RETAIN)
  bool Q,  ;output
  LONGTIME ET,  ;value
  R_TRIG RT


; Global variables
#def  MAX_LENGTH_DATABOX_BLOCK 10000
#def  __Init____MAX_LENGTH_DATABOX_BLOCK MAX_LENGTH_DATABOX_BLOCK

; Global types
#struct  TDataBoxPar
  udint databoxAddress,
  uint registerIndex,
  usint blockLength

; Global types
#def  TPtrNaPole usint[10001]

#defpou __LATENT_INSTANCE ReadBlockFromDBx
  usint __fc__ReadBlockFromDBx,
  udint dataBoxAddress,  ;source address (DataBox)
  usint length,  ;size of data block (number of bytes, max 255)
  pointer variable,  ;destination address (variable)
  TDataBoxPar par


#defpou __LATENT_INSTANCE WriteBlockToDBx
  usint __fc__WriteBlockToDBx,
  udint dataBoxAddress,  ;destination address (DataBox)
  usint length,  ;size of data block (number of bytes, max 255)
  pointer variable,  ;source address (variable)
  TDataBoxPar par


#defpou __LATENT_INSTANCE ReadFromDataBox
  bool __fc__ReadFromDataBox,
  udint dataBoxAddress,  ;source address (DataBox)
  uint length,  ;size of data block (number of bytes, max 10000)
  pointer variable  ;destination address (variable)


#defpou __LATENT_INSTANCE WriteToDataBox
  bool __fc__WriteToDataBox,
  udint dataBoxAddress,  ;destination address (DataBox)
  uint length,  ;size of data block (number of bytes, max 10000)
  pointer variable  ;source address (variable)


#defpou __LATENT_INSTANCE SizeOfDataBox
  uint __fc__SizeOfDataBox


#defpou __LATENT_INSTANCE ReadFromDBx
  bool __fc__ReadFromDBx,
  udint dataBoxAddress,  ;source address (address in DataBox)
  udint length,  ;size of data block (number of bytes)
  udint varAddress  ;destination address (address of variable)


#defpou __LATENT_INSTANCE WriteToDBx
  bool __fc__WriteToDBx,
  udint dataBoxAddress,  ;source address (address in DataBox)
  udint length,  ;size of data block (number of bytes)
  udint varAddress  ;destination address (address of variable)


#defpou __LATENT_INSTANCE AES128_encrypt
  uint __fc__AES128_encrypt,
  uint dataLen,  ;Length of data in bytes (must be divisible by 16)
  uint bufferLen,  ;Size of output buffer in bytes
  pointer key,  ;Encryption key (16 bytes)
  pointer iv,  ;Encryption init vector for CBC mode (16 bytes)
  pointer data  ;Data to encrypt in-place


#defpou __LATENT_INSTANCE AES128_decrypt
  uint __fc__AES128_decrypt,
  uint dataLen,  ;Length of data in bytes (must be divisible by 16)
  pointer key,  ;Decryption key (16 bytes)
  pointer iv,  ;Decryption init vector for CBC mode (16 bytes)
  pointer data  ;Data to decrypt in-place


#defpou __LATENT_INSTANCE RC4
  uint __fc__RC4,
  uint dataLen,  ;Length of data in bytes
  uint keyLen,  ;Length of the encryption/decryption key in bytes
  uint skip,  ;How many bytes from the RC4 generator are skipped
  pointer key,  ;Encryption / decryption key
  pointer data  ;Data to encrypt / decrypt in-place


#defpou __LATENT_INSTANCE Base64_encode
  uint __fc__Base64_encode,
  uint dataLen,  ;Length of data in bytes
  uint bufferLen,  ;Size of output buffer in bytes
  pointer data,  ;Data to encode
  pointer out  ;encoded output


#defpou __LATENT_INSTANCE Base64_decode
  uint __fc__Base64_decode,
  uint dataLen,  ;Length of data in bytes
  pointer data,  ;Data to decode
  pointer out  ;decoded output


#defpou __LATENT_INSTANCE SHA1_hash
  uint __fc__SHA1_hash,
  uint dataLen,  ;Length of data in bytes
  uint bufferLen,  ;Size of output buffer in bytes
  pointer data,  ;Data to encode
  pointer hash  ;output


#defpou __LATENT_INSTANCE SHA256_hash
  uint __fc__SHA256_hash,
  uint dataLen,  ;Length of data in bytes
  uint bufferLen,  ;Size of output buffer in bytes
  pointer data,  ;Data to encode
  pointer hash  ;output


#defpou __LATENT_INSTANCE HMAC_SHA256
  uint __fc__HMAC_SHA256,
  uint keyLen,  ;Length of key in bytes
  uint dataLen,  ;Length of data in bytes
  uint bufferLen,  ;Size of output buffer in bytes
  pointer key,  ;key code
  pointer data,  ;Data to encode
  pointer hash  ;output


#defpou __LATENT_INSTANCE Base64_encode_string
  string[81] __fc__Base64_encode_string,
  string[61] data  ;input ASCII string of maximum length 60 characters


#defpou __LATENT_INSTANCE Base64_encode_ptr_string
  string[81] __fc__Base64_encode_ptr_string,
  pointer data,  ;ukazatel na první byte dat ke kódování
  uint dataLen  ;length of data in bytes (max. 60)


; Global variables
#data byte __Init____INTERNETLIB_END_OF_LINE_ = 
  $0D,$0A,$00;
#def INTERNETLIB_END_OF_LINE_ string __Init____INTERNETLIB_END_OF_LINE_
#data byte __Init____INTERNETLIB_EMPTY_STRING_ = 
  $00,$00;
#def INTERNETLIB_EMPTY_STRING_ string __Init____INTERNETLIB_EMPTY_STRING_

#defpou __LATENT_INSTANCE _FindNextPathSeparator
  bool __fc___FindNextPathSeparator,
  pointer In,  ;string with path
  pointer Pos  ;start with zero


; Global types
#struct  TDnsReplyHeader
  uint TransactionID,
  bool Recursion_des,
  bool Truncated,
  bool Authoritative,
  bool OpCode_0,
  bool OpCode_1,
  bool OpCode_2,
  bool OpCode_3,
  bool Response,
  bool ReplyCode_0,
  bool ReplyCode_1,
  bool ReplyCode_2,
  bool ReplyCode_3,
  bool Empty,
  bool Autheticated,
  bool Reseved,
  bool Recursion_ava,
  uint Question,
  uint AnswerRRs,
  uint AuthorityRRs,
  uint AdditionalRRs

; Global types
#struct  TDnsReply
  TDnsReplyHeader Header,
  usint[512] Data

; Global types
#struct  TDnsQueryHeader
  uint TransactionID,
  bool Recursion_des,
  bool Truncated,
  bool Empty_6,
  bool OpCode_0,
  bool OpCode_1,
  bool OpCode_2,
  bool OpCode_3,
  bool Query,
  bool Empty_0,
  bool Empty_1,
  bool Empty_2,
  bool Empty_3,
  bool NonAutheticated,
  bool Empty_4,
  bool Reseved,
  bool Empty_5,
  uint Question,
  uint AnswerRRs,
  uint AuthorityRRs,
  uint AdditionalRRs

; Global types
#struct  TDnsQuery
  TDnsQueryHeader Header,
  string[81] QueryString

#defpou __LATENT_INSTANCE _internetlib_DnsLenOfDomainName
  udint __fc___internetlib_DnsLenOfDomainName,
  pointer IN


#defpou __LATENT_INSTANCE _internetlib_DnsCodeDomainName
  string[81] __fc___internetlib_DnsCodeDomainName,
  string[81] IN,
  int I


#defpou __LATENT_INSTANCE _internetlib_DnsDecodeDomainName
  string[81] __fc___internetlib_DnsDecodeDomainName,
  pointer IN,
  pointer BG


#defpou fbNsLookUp
  bool getIP,  ;Get IP address by Name
  uint chanCode,  ;UNI channel  UDP, lport: 0, rport: 53, in: 524, out: 93
  TIPadr DnsIP,  ;DNS server IP address
  pointer Name,  ;Domain name
  pointer IP,  ;Obtained IP address
  bool Done,  ;IP address successfully obtained
  bool Busy,  ;Operation pending
  bool Err,  ;Error occured
  usint ErrId,  ;Error number
  fbRecvFrom RecvFrom,
  fbSendTo SendTo,
  TON timeout,
  TON timeout2,
  TDnsQuery netDnsQuery,
  TDnsReply netDnsReply,
  uint TransID,
  bool __EDGE_R__getIP


#data byte __Init___fbNsLookUpEx_HTTP_IP_NULL = 
    0,  0,  0,  0;
#def __Const__fbNsLookUpEx_HTTP_IP_NULL TIPadr __Init___fbNsLookUpEx_HTTP_IP_NULL
#defpou fbNsLookUpEx
  bool getIP,  ;Get IP address by Name
  TIPadr dnsIP,  ;DNS server IP address
  string[81] Name,  ;Domain name
  pointer IP,  ;Obtained IP address
  bool Done,  ;IP address successfully obtained
  bool Busy,  ;Operation pending
  bool Err,  ;Error occured
  usint ErrId,  ;Error number
  string[81] CurrName,  ;current domain name
  bool __EDGE_R__getIP


; Global types
#def  THttpBuffer usint[512]

; Global types
#def  THttpState usint   ; ENUM Type 

#defpou fbHttpRequest
  bool Post,  ;Send data via method POST
  bool Get,  ;Get data via method GET
  bool Cancel,  ;Cancel pending operation
  uint chanCode,  ;UNI channel TCP master in: 512, out: 512
  TIPadr IPadr,  ;IP address of remote server
  uint port,  ;Port of remote server
  bool Close,  ;If set, block don't wait for server to close connection and close it actively after receiving all data
  pointer Action,  ;Path to a data on the server (always starts with character '/')
  pointer Host,  ;Host name
  pointer Data,  ;POST data
  pointer RecvData,  ;Data buffer 512 bytes
  bool Done,  ;Operation done
  bool Busy,  ;Operation pending
  bool Err,  ;Communication error
  usint ErrId,  ;Error number
  bool DataReady,  ;New data received
  uint DataLen,  ;Data length
  usint State,  ;State of communication
  int Result,  ;HTTP Code
  sint Progress,  ;Progress of data downloading
  bool ResRecv,
  bool LenRecv,
  bool HeaderRecv,
  TON TimeOutTon,
  string[256] helpstring,
  fbRecvFrom RecvFrom,
  fbSendTo SendTo,
  dint ContLen,
  dint WholeLen,
  string[81] lHost,
  uint sOff,
  uint rLen,
  bool __EDGE_R__Post,
  bool __EDGE_R__Get,
  bool __EDGE_R__Cancel


; Global types
#def  TSmtpState usint   ; ENUM Type 

; Global variables
#data byte __Init____SMTP_END_OF_LINE_2_ = 
  '>',$0D,$0A,$00;
#def SMTP_END_OF_LINE_2_ string __Init____SMTP_END_OF_LINE_2_

#defpou fbSmtp
  bool Send,  ;starts sending of email
  bool Auth,  ;authetification requiered?
  bool Cancel,  ;cancel action
  uint chanCode,  ;channel code  TCP Master, in: 255, out: 255
  TIPadr IPadr,  ;IP address of SMTP server
  uint port,  ;Port of SMTP server
  usint Lines,  ;number of lines
  int UtcOff,  ;offset from UTC in minutes
  string[17] charset,  ;charset of Email body ('windows-1250', 'UTF-8',...)
  string[33] attachementType,  ;user defined MINE type of attachement. If not specified, 'application/octet-stream' is used (other possible values are 'image/jpeg', 'image/png', 'text/plain; charset=windows-1250',...)
  bool genMessageID,  ;generate unique Message-ID
  pointer Sender,  ;sender address
  pointer SendName,  ;sender name
  pointer Rcpt,  ;recipient address
  pointer Subject,  ;subject
  pointer Text,  ;first line of email body
  pointer Attach,  ;file name of attachement
  pointer Username,  ;user name for SMTP server
  pointer Password,  ;password  for SMTP server
  bool Done,  ;trueafter email was sent successfully
  bool Busy,  ;truewhen sending is in progress
  bool Err,  ;truewhen sending failed
  usint ErrId,  ;number of error
  uint ReplyCode,  ;server reply code
  usint State,  ;communication state
  TON timeout_cntr,  ;detekce timeoutu pri komunikaci
  string[256] cmd,
  usint[512] buff,
  string[256] copy_rcpt,
  string[181] temp_rcpt,
  string[81] body_rcpt,
  pointer ptrText,
  sint body_lines,
  fbRecvTxt Recv_from,  ;FB pro prijem
  fbSendTo Send_to,  ;FB pro vysilani
  HANDLE h,  ;file identificator
  bool TRO,  ;buffer overflow
  bool lAuth,  ;byla pozadovana autorizace
  bool mesRec,
  bool lSend,
  bool __EDGE_R__Send,
  bool __EDGE_R__Cancel


; Global types
#struct  TNtpMessage
  byte Flags,  ;|  LI1 | LI0 | VN2 | VN1 | VN0 |Mode2|Mode1|Mode0|
  usint Stratum,
  sint Polling,
  sint Precision,
  udint RootDelay,
  udint RootDispersion,
  udint RefIdentifier,
  udint ReferenceTS,
  udint ReferenceTSFrac,
  udint OriginateTS,
  udint OriginateTSFrac,
  udint ReceiveTS,
  udint ReceiveTSFrac,
  udint TransmitTS,
  udint TransmitTSFrac

#data byte __Init___fbSntp__fbSntp_EMPTY_NTP_MESSAGE_ = 
   27, 15,  8,248,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
    0,  0,  0,  0,  0,  0,  0;
#def __Const__fbSntp__fbSntp_EMPTY_NTP_MESSAGE_ TNtpMessage __Init___fbSntp__fbSntp_EMPTY_NTP_MESSAGE_
#defpou fbSntp
  bool Get,  ;Get new time offset from time server
  bool Accept,  ;Accept new time from server
  uint chanCode,  ;UNI UDP chanel (60 bytes IN/OUT)
  TIPadr IPadr,  ;IP address of NTP server
  uint port,  ;Port of NTP server
  int UtcOff,  ;Offset from UTC in minutes
  bool Done,  ;Time offset successfully acquired
  bool Busy,  ;Communication in progress
  bool TimeSet,  ;New time set to RTC
  bool Err,  ;Error during communication
  usint ErrId,  ;Number of error
  lreal Offset,  ;Acquried offset [s]
  lreal Error,  ;Maximum error of acquired offset [s]
  bool Recv,
  bool SettingTime,
  date_and_time Now,
  date_and_time NowLocal,
  usint[7] NowTeco,
  uint NowMili,
  TNtpMessage NtpPacket,
  fbSendTo SendTo,
  fbRecvFrom RecvFrom,
  udint Attemps,
  udint Success,
  TON Delay,
  TON ShortTimeout,
  TON Timeout,
  uint maxSW22,
  bool __EDGE_R__Get,
  bool __EDGE_R__Accept


; Global types
#struct  TNsLookUpItem
  bool Request,
  bool Set,
  bool Done,
  bool Err,
  TIPadr IP,  ;IP address
  string[81] Name

; Global types
#def  TNsLookUpTable TNsLookUpItem[16]

#defpou fbNsLookUpByTable
  uint chanCode,  ;UNI channel UDP, lport: 0, rport: 53, in: 524, out: 93
  TIPadr DnsIP,  ;DNS server IP address
  pointer NsLookUpTable,  ;Table of domain names
  bool Busy,  ;Communication in progress
  bool Err,  ;Communication error
  usint ErrId,  ;Error number
  uint i,
  uint j,
  fbNsLookUp NsLookUp,
  TNsLookUpItem NsLookUpItem


; Global types
#def  TFtpStoreState usint   ; ENUM Type 

; Global variables
#def  FTP_DIR_STACK_ 4
#def  __Init____FTP_DIR_STACK_ FTP_DIR_STACK_

; Global types
#struct  TFtpDirStack
  HANDLE hDir,  ;file identificator
  string[13] sDir

#defpou fbStoreToFtp
  bool Send,  ;Sends file/directory to FTP
  TIPadr IPadr,  ;IP address of FTP server
  uint port,  ;Port of FTP server
  uint chanCodeCom,  ;Channel code
  uint chanCodeDat,  ;Channel code
  bool append,  ;If file on server exists data will be appended to that file
  pointer User,  ;User name
  pointer Pass,  ;Password
  pointer LocalName,  ;Name of file or directory at the memory card
  pointer RemotName,  ;Name of file or directory at FTP server
  bool Done,  ;File was stored to FTP server
  bool Busy,  ;File is storing to FTP server
  bool Err,  ;Error occured
  usint ErrId,  ;Error number
  uint ReplyCode,  ;Reply code
  usint State,  ;State of communication
  string[81] CurrFile,  ;Name of currently uploaded file
  usint Progress,  ;Progress of file uploading in percent
  fbSendTo Send_To_Com,
  fbRecvFrom Recv_From_Com,
  fbKeepAliveTCP KeepAliveTCP,
  TRemoteEthAdr rea,
  string[256] cmdCom,
  string[81] lRemotName,
  TFileInfo lLocalFileInfo,
  udint idPos,
  udint lSize,
  udint lTrans,
  TFtpDirStack[5] dirStack,
  usint dirStackLev,
  usint i,
  usint eErrId,
  fbSendTo Send_To_Dat,
  usint[255] cmdDat,
  TON timeoutCom,
  udint data,
  HANDLE h,  ;file identificator
  usint[6] pasvDat,
  bool TRO,
  bool mesRec,
  bool iniDir,
  bool endDir,
  bool TRO_com,
  bool TRO_dat,
  bool __EDGE_R__Send


; Global types
#def  THttpPostData usint[1536]

#defpou fbHttpRequestL
  bool Post,  ;Send data via method POST
  bool Get,  ;Get data via method GET
  bool Cancel,  ;Cancel pending operation
  uint chanCode,  ;UNI channel TCP master in: 512, out: 512
  TIPadr IPadr,  ;IP address of remote server
  uint port,  ;Port of remote server
  uint postLen,  ;Lenght of data to POST
  bool Close,  ;If set, block don't wait for server to close connection and close it actively after receiving all data
  pointer Action,  ;Path to the data on the server (always starts with character '/')
  pointer Host,  ;Host name
  pointer Data,  ;First byte of data to POST
  pointer RecvData,  ;Data buffer 512 bytes
  bool Done,  ;Operation done
  bool Busy,  ;Operation pending
  bool Err,  ;Communication error
  usint ErrId,  ;Error number
  bool DataReady,  ;New data received
  uint DataLen,  ;Data length
  usint State,  ;State of communication
  int Result,  ;HTTP Code
  sint Progress,  ;Progress of data downloading
  bool ResRecv,
  bool LenRecv,
  bool HeaderRecv,
  bool WasEOL,
  TON TimeOutTon,
  string[256] helpstring,
  fbRecvFrom RecvFrom,
  fbSendTo SendTo,
  dint ContLen,
  dint WholeLen,
  uint lPostLen,
  string[81] lHost,
  uint BodyLen,
  uint sOff,
  uint rLen,
  bool __EDGE_R__Post,
  bool __EDGE_R__Get,
  bool __EDGE_R__Cancel


#defpou fbHttpRequestL2
  bool Post,  ;Send data via method POST
  bool Get,  ;Get data via method GET
  bool Cancel,  ;Cancel pending operation
  uint chanCode,  ;UNI channel TCP master in: 512, out: 512
  TIPadr IPadr,  ;IP address of remote server
  uint port,  ;Port of remote server
  uint postLen,  ;Lenght of data to POST
  bool Close,  ;If set, block don't wait for server to close connection and close it actively after receiving all data
  pointer Action,  ;Path to the data on the server (always starts with character '/')
  pointer Host,  ;Host name
  pointer Data,  ;First byte of data to POST
  pointer ContentType,  ;Content-Type
  pointer RecvData,  ;Data buffer 512 bytes
  bool Done,  ;Operation done
  bool Busy,  ;Operation pending
  bool Err,  ;Communication error
  usint ErrId,  ;Error number
  bool DataReady,  ;New data received
  uint DataLen,  ;Data length
  usint State,  ;State of communication
  int Result,  ;HTTP Code
  sint Progress,  ;Progress of data downloading
  bool ResRecv,
  bool LenRecv,
  bool HeaderRecv,
  bool WasEOL,
  TON TimeOutTon,
  string[256] helpstring,
  fbRecvFrom RecvFrom,
  fbSendTo SendTo,
  dint ContLen,
  dint WholeLen,
  uint lPostLen,
  string[81] lHost,
  uint BodyLen,
  uint sOff,
  uint rLen,
  bool __EDGE_R__Post,
  bool __EDGE_R__Get,
  bool __EDGE_R__Cancel


#data byte __Init___fbSplitUrlAddress_HTTP_IP_NULL = 
    0,  0,  0,  0;
#def __Const__fbSplitUrlAddress_HTTP_IP_NULL TIPadr __Init___fbSplitUrlAddress_HTTP_IP_NULL
#defpou fbSplitUrlAddress
  bool split,  ;Split URL address
  bool done,  ;URL address splitted and IP address successfully obtained
  bool busy,  ;Operation pending
  bool err,  ;Error occured
  usint errId,  ;Error number
  pointer urlAddress,  ;URL as it appears in a web browser
  pointer host,  ;Host name
  pointer action,  ;Path to the data on the server (always starts with character '/')
  pointer ipAdr,  ;IP address of remote server
  pointer port,  ;Port of remote server
  fbNsLookUpEx NsLookUp,
  bool __EDGE_R__split


#defpou fbRetriveFromFtp
  bool Retrieve,  ;Retrieves file from FTP
  TIPadr IPadr,  ;IP address of FTP server
  uint port,  ;Port of FTP server
  uint chanCodeCom,  ;Channel code
  uint chanCodeDat,  ;Channel code
  pointer User,  ;User name
  pointer Pass,  ;Password
  pointer LocalName,  ;Name of file at the memory card
  pointer RemotName,  ;Name of file at FTP server
  bool Done,  ;File was stored to memory card
  bool Busy,  ;File is being stored to memory card
  bool Err,  ;Error occured
  usint ErrId,  ;Error number
  uint ReplyCode,  ;Reply code
  usint State,  ;State of communication
  usint Progress,  ;Progress of file uploading in percent
  fbSendTo Send_To_Com,
  fbRecvTxt Recv_From_Com,  ;fbRecvFrom;
  fbKeepAliveTCP KeepAliveTCP,
  TRemoteEthAdr rea,
  string[256] cmdCom,
  string[81] lRemotName,
  TFileInfo lLocalFileInfo,
  udint idPos,
  udint lSize,
  udint lTrans,
  usint i,
  usint eErrId,
  fbRecvFrom Recv_From_Dat,
  WriteToFileSeq WTFS,
  usint[255] cmdBuffer,
  usint[255] cmdDat,
  TON timeoutCom,
  udint data,
  HANDLE h,  ;file identificator
  usint[6] pasvDat,
  bool TRO,
  bool mesRec,
  bool TRO_com,
  bool TRO_dat,
  bool __EDGE_R__Retrieve


; Global types
#struct  T_PING_INFO
  dint result,  ;result 0=busy, 1=done without errors, -1=error
  TIPadr hostIP,  ;host IP
  time responseTime,  ;response time
  udint pingNumber,  ;ping number
  udint dataLen,  ;length of data
  usint ttl,  ;response TTL
  string[81] errMsg  ;error message

#defpou fbPingIP
  bool rqPing,  ;Ping request
  TIPadr hostIP,  ;Host IP
  usint ttl,  ;Time to live TTL
  time timeLimit,  ;Time limit for reply
  uint dataLen,  ;Length of data
  pointer pingInfo,  ;Ping information
  bool done,  ;Operation successfully completed
  bool busy,  ;Operation pending
  bool err,  ;Error occured
  TON timeout,
  bool waitArp,
  bool __EDGE_R__rqPing


#defpou fbPing
  bool rqPing,  ;Ping request
  string[81] hostName,  ;Host name
  bool done,  ;Operation successfully completed
  bool busy,  ;Operation pending
  bool err,  ;Error occured
  T_PING_INFO pingInfo,  ;Ping information
  bool rqSplit,
  fbSplitUrlAddress SplitUrlAdr,
  fbPingIP PingIP,
  string[81] host,  ;Jméno hostitele
  string[81] action,  ;Požadovaná stránka napøíklad "/index.xml"
  TIPadr ipAdr,  ;IP adresa vzdáleneho serveru
  uint port,  ;Èíslo portu vzdáleného serveru
  bool __EDGE_R__rqPing


#defpou fbSmtpDbx
  bool Send,  ;starts sending of email
  bool Auth,  ;authetification requiered?
  bool Cancel,  ;cancel action
  uint chanCode,  ;channel code  TCP Master, in: 255, out: 255
  TIPadr IPadr,  ;IP address of SMTP server
  uint port,  ;Port of SMTP server
  usint Lines,  ;number of lines
  int UtcOff,  ;offset from UTC in minutes
  string[17] charset,  ;charset of Email body ('windows-1250', 'UTF-8',...)
  string[33] attachementType,  ;user defined MINE type of attachement. If not specified, 'application/octet-stream' is used (other possible values are 'image/jpeg', 'image/png', 'text/plain; charset=windows-1250',...)
  bool genMessageID,  ;generate unique Message-ID
  bool Attachement,  ;send with attachemnt
  udint AttachAdr,  ;address of attachemnt in databox
  udint AttachLen,  ;length of attachement in databox
  pointer Sender,  ;sender address
  pointer SendName,  ;sender name
  pointer Rcpt,  ;recipient address
  pointer Subject,  ;subject
  pointer Text,  ;first line of email body
  pointer Attach,  ;file name of attachement
  pointer Username,  ;user name for SMTP server
  pointer Password,  ;password  for SMTP server
  bool Done,  ;trueafter email was sent successfully
  bool Busy,  ;truewhen sending is in progress
  bool Err,  ;truewhen sending failed
  usint ErrId,  ;number of error
  uint ReplyCode,  ;server reply code
  usint State,  ;communication state
  TON timeout_cntr,  ;detekce timeoutu pri komunikaci
  string[256] cmd,
  usint[512] buff,
  string[256] copy_rcpt,
  string[181] temp_rcpt,
  string[81] body_rcpt,
  pointer ptrText,
  sint body_lines,
  fbRecvTxt Recv_from,  ;FB pro prijem
  fbSendTo Send_to,  ;FB pro vysilani
  udint lAttachLen,
  udint oAttachLen,
  bool TRO,  ;buffer overflow
  bool lAuth,  ;byla pozadovana autorizace
  bool mesRec,
  bool lSend,
  bool __EDGE_R__Send,
  bool __EDGE_R__Cancel


#defpou __LATENT_INSTANCE GetLastJsonError
  string[81] __fc__GetLastJsonError


#defpou __LATENT_INSTANCE VarApiToJsonBuf
  udint __fc__VarApiToJsonBuf,
  pointer varNames,  ;names of variables seoarated by &
  pointer buffer,  ;name of buffer for json
  udint maxBufLen  ;buffer size


#defpou __LATENT_INSTANCE JsonBufToVarApi
  udint __fc__JsonBufToVarApi,
  pointer buffer,  ;name of json buffer
  bool strict  ;TRUE means strictly mode


#defpou __LATENT_INSTANCE VarApiToJsonFile
  udint __fc__VarApiToJsonFile,
  pointer varNames,  ;names of variables seoarated by &
  pointer fileName,  ;file name (including path)
  bool formatted  ;TRUE means formatted json, FALSE is unformatted json


#defpou __LATENT_INSTANCE JsonFileToVarApi
  udint __fc__JsonFileToVarApi,
  pointer fileName,  ;file name (including path)
  bool strict  ;TRUE means strictly mode


; Global variables
#def  JSON_MAX_STACK_LEVEL 9
#def  __Init____JSON_MAX_STACK_LEVEL JSON_MAX_STACK_LEVEL

; Global types
#struct  TJsonItem
  string[256] name,  ;full name of item
  string[256] value  ;value of item

; Global types
#def  TJsonParserStat usint   ; ENUM Type 

; Global types
#struct  TJsonStackItem
  usint stat,  ;state of parsing
  bool isArray,  ;array flag
  uint arrayIndex,  ;index of array
  string[32] name  ;name of item

; Global types
#struct  TJsonStack
  aligned bool done,  ;next item is avalable
  aligned bool eod,  ;end of document
  usint error,  ;error code
  string[33] errTxt,  ;error description
  sint maxLevel,  ;max stack level
  sint level,  ;stack level
  TJsonStackItem[10] item

#defpou __LATENT_INSTANCE JSON_MemcpyPtr
  udint __fc__JSON_MemcpyPtr,
  pointer source,  ;source
  pointer dest,  ;destination
  udint length  ;number of bytes


#defpou fbJsonParser
  bool start,  ;TRUE means start of parsing at the begin of JSON document, FALSE means continue
  bool shrink,  ;
  udint size,  ;
  pointer sourceJSON,  ;begin of JSON document
  pointer jsonItem,  ;JSON parser output
  bool done,  ;new item is ready
  bool eod,  ;end of JSON document
  usint error,  ;error code
  uint restLen,  ;number of bytes remaining to be processed
  TJsonStack jsonStack,  ;stack for parsing
  sint i,
  udint index,
  pointer src,
  pointer end,
  usint char,
  bool break


; Global types
#struct  TJsonInfo
  TJsonItem item,  ;JSON parser output
  TJsonStack stack  ;stack for parsing

#defpou fbJsonParserEx
  bool start,  ;TRUE means start of parsing at the begin of JSON document, FALSE means continue
  bool shrink,  ;value = TRUE, removed from the buffer processed portion of the file. Unprocessed remnants of the buffer moves to the beginning the buffer
  udint size,  ;buffer size with the JSON document
  pointer sourceJSON,  ;begin of JSON document
  pointer JsonInfo,  ;JSON parser output
  bool done,  ;new item is ready
  bool eod,  ;end of JSON document
  usint error,  ;error code
  uint restLen,  ;number of bytes remaining to be processed
  sint i,
  udint index,
  pointer src,
  pointer end,
  usint char,
  bool break,
  udint tmp


#defpou fbJsonFileParser
  bool exec,  ;request for parsing
  pointer fileName,  ;mame of JSON file
  pointer JsonInfo,  ;result of parsing
  bool start,  ;initialization flag
  bool done,  ;new item is ready in JSONItem
  bool busy,  ;block is busy
  bool eof,  ;end of file
  bool break,  ;buffer processed, continue next cycle
  bool err,  ;error flag
  string[81] errTxt,  ;error description
  udint fileSize,  ;size of file
  udint processed,  ;processed
  bool rqInit,
  bool rqFile,
  bool rqParse,
  bool rqStart,
  R_TRIG trgExecOn,
  ReadFromFile ReadFile,
  fbJsonParserEx JsonParser,
  usint[769] JsonBuffer,
  udint sumaLen,  ;kolik nacteno ze souboru
  udint actLen,  ;aktualni velikost JSON bufferu
  uint restLen


#data byte __Init___fbJsonPageParser_HTTP_IP_NULL = 
    0,  0,  0,  0;
#def __Const__fbJsonPageParser_HTTP_IP_NULL TIPadr __Init___fbJsonPageParser_HTTP_IP_NULL
#defpou fbJsonPageParser
  bool exec,  ;request for parsing
  uint chanCode,  ;channel code (ETH1_uni0, ETH1_uni1,...)
  pointer pageName,  ;mame of web page with json file
  pointer JsonInfo,  ;result of parsing
  bool start,  ;initialization flag
  bool done,  ;new item is ready in jsonItem
  bool busy,  ;block is busy
  bool eof,  ;end of file
  bool break,  ;buffer processed, continue next cycle
  bool err,  ;error flag
  string[81] errTxt,  ;error description
  udint fileSize,  ;size of file
  udint processed,  ;processed
  bool rqShrink,
  bool rqFile,
  bool rqParse,
  bool rqStart,
  R_TRIG trgExecOn,
  fbJsonParserEx JsonParser,
  usint[769] JsonBuffer,
  udint sumaLen,  ;kolik nacteno ze souboru
  udint actLen,  ;aktualni velikost json bufferu
  uint restLen,
  int pos,
  TIPadr HttpIP,  ;IP address
  uint HttpPort,
  string[81] HttpName,
  string[256] Action,
  string[2] Empty,
  bool dnsRequest,
  fbSplitUrlAddress SplitUrlAddress,
  fbHttpRequest HttpRequest


; Global types
#struct  JSONLIB_T_VAR_DESC
  udint addr,
  udint size,
  usint typ,
  bool isArray

#defpou fbGetJsonAndSetVar
  bool exec,  ;reading of JSON starts on rising edge of exec
  usint logSizeKB,  ;size of log file, 0 = no log
  string[256] pageUrl,  ;url address of JSON
  string[81] varName,  ;name of variable which value is set according JSON
  bool done,  ;all is done ok
  bool busy,  ;block is busy
  bool err,  ;error flag
  string[81] errTxt,  ;error description
  uint numVar,  ;number of set variables
  fbJsonPageParser JsonParser,  ;FB pro parsovani odpovedi na API dotaz
  TJsonInfo json,  ;struktura pro vysledky parsovani
  bool rqGet,  ;vyslat GET
  bool parseEnable,  ;pomocna pro parsovani
  uint chanHandle,  ;handle kanalu
  JSONLIB_T_VAR_DESC varDesc,
  bool __EDGE_R__exec


; Global types
#struct  TCanvasInfo
  usint ver,  ;buffer structure version
  usint flags,  ;flags (.0 = 1 buffer is open to write)
  uint maxLen,  ;maximal length bufferu (1 byte less to make sure there is always space for end of buffer marker)
  uint actLen,  ;current length of buffer (progress)
  uint macroptr  ;auxiliary variable for macro definition

; Global types
#struct  TCanvasPoint
  int x,  ;X coordinate
  int y  ;Y coordinate

; Global types
#struct  TCanvasTouch
  int x,  ;X coordinate of touch/click (-32767 without touch/click)
  int y,  ;Y coordinate of touch/click (-32767 without touch/click)
  udint color  ;color at the point of touch/click

; Global types
#struct  TCanvasHeadBuf
  uint dataChg,  ;unique number indicating change of data
  uint dataLen  ;total length of data in buffer

; Global types
#struct  TCanvasData16
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[16] buf  ;data

; Global types
#struct  TCanvasData32
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[32] buf  ;data

; Global types
#struct  TCanvasData64
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[64] buf  ;data

; Global types
#struct  TCanvasData128
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[128] buf  ;data

; Global types
#struct  TCanvasData256
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[256] buf  ;data

; Global types
#struct  TCanvasData384
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[384] buf  ;data

; Global types
#struct  TCanvasData512
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[512] buf  ;data

; Global types
#struct  TCanvasData768
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[768] buf  ;data

; Global types
#struct  TCanvasData1024
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[1024] buf  ;data

; Global types
#struct  TCanvasData1536
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[1536] buf  ;data

; Global types
#struct  TCanvasData2048
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[2048] buf  ;data

; Global types
#struct  TCanvasData3072
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[3072] buf  ;data

; Global types
#struct  TCanvasData4096
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[4096] buf  ;data

; Global types
#struct  TCanvasData6144
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[6144] buf  ;data

; Global types
#struct  TCanvasData
  TCanvasInfo info,  ;information about buffer
  TCanvasTouch touch,  ;information about touch/click
  TCanvasHeadBuf bufHead,  ;header of buffer
  usint[8192] buf  ;data

; Global variables
#def  GPRIMITIVE_BEGIN 1
#def  __Init____GPRIMITIVE_BEGIN GPRIMITIVE_BEGIN
#def  GPRIMITIVE_END 2
#def  __Init____GPRIMITIVE_END GPRIMITIVE_END
#def  GPRIMITIVE_SETLINEWIDTH 3
#def  __Init____GPRIMITIVE_SETLINEWIDTH GPRIMITIVE_SETLINEWIDTH
#def  GPRIMITIVE_SETLINESTYLE 4
#def  __Init____GPRIMITIVE_SETLINESTYLE GPRIMITIVE_SETLINESTYLE
#def  GPRIMITIVE_SETFGCOLOR 5
#def  __Init____GPRIMITIVE_SETFGCOLOR GPRIMITIVE_SETFGCOLOR
#def  GPRIMITIVE_SETBGCOLOR 6
#def  __Init____GPRIMITIVE_SETBGCOLOR GPRIMITIVE_SETBGCOLOR
#def  GPRIMITIVE_SETTEXTSIZE 7
#def  __Init____GPRIMITIVE_SETTEXTSIZE GPRIMITIVE_SETTEXTSIZE
#def  GPRIMITIVE_SETTEXTSTYLE 8
#def  __Init____GPRIMITIVE_SETTEXTSTYLE GPRIMITIVE_SETTEXTSTYLE
#def  GPRIMITIVE_SETGRADIENTSTYLE 9
#def  __Init____GPRIMITIVE_SETGRADIENTSTYLE GPRIMITIVE_SETGRADIENTSTYLE
#def  GPRIMITIVE_SETORIGIN 10
#def  __Init____GPRIMITIVE_SETORIGIN GPRIMITIVE_SETORIGIN
#def  GPRIMITIVE_RESETORIGIN 11
#def  __Init____GPRIMITIVE_RESETORIGIN GPRIMITIVE_RESETORIGIN
#def  GPRIMITIVE_SETVIRTSIZE 12
#def  __Init____GPRIMITIVE_SETVIRTSIZE GPRIMITIVE_SETVIRTSIZE
#def  GPRIMITIVE_SETFILLSTYLE 13
#def  __Init____GPRIMITIVE_SETFILLSTYLE GPRIMITIVE_SETFILLSTYLE
#def  GPRIMITIVE_POINT 16
#def  __Init____GPRIMITIVE_POINT GPRIMITIVE_POINT
#def  GPRIMITIVE_LINE 17
#def  __Init____GPRIMITIVE_LINE GPRIMITIVE_LINE
#def  GPRIMITIVE_MOVETO 18
#def  __Init____GPRIMITIVE_MOVETO GPRIMITIVE_MOVETO
#def  GPRIMITIVE_LINETO 19
#def  __Init____GPRIMITIVE_LINETO GPRIMITIVE_LINETO
#def  GPRIMITIVE_BOX 20
#def  __Init____GPRIMITIVE_BOX GPRIMITIVE_BOX
#def  GPRIMITIVE_FILLBOX 21
#def  __Init____GPRIMITIVE_FILLBOX GPRIMITIVE_FILLBOX
#def  GPRIMITIVE_POLYGON 22
#def  __Init____GPRIMITIVE_POLYGON GPRIMITIVE_POLYGON
#def  GPRIMITIVE_FILLPOLYGON 23
#def  __Init____GPRIMITIVE_FILLPOLYGON GPRIMITIVE_FILLPOLYGON
#def  GPRIMITIVE_CIRCLE 24
#def  __Init____GPRIMITIVE_CIRCLE GPRIMITIVE_CIRCLE
#def  GPRIMITIVE_FILLCIRCLE 25
#def  __Init____GPRIMITIVE_FILLCIRCLE GPRIMITIVE_FILLCIRCLE
#def  GPRIMITIVE_ARC 26
#def  __Init____GPRIMITIVE_ARC GPRIMITIVE_ARC
#def  GPRIMITIVE_FILLARC 27
#def  __Init____GPRIMITIVE_FILLARC GPRIMITIVE_FILLARC
#def  GPRIMITIVE_WRITETEXT 28
#def  __Init____GPRIMITIVE_WRITETEXT GPRIMITIVE_WRITETEXT
#def  GPRIMITIVE_IMAGE 29
#def  __Init____GPRIMITIVE_IMAGE GPRIMITIVE_IMAGE
#def  GPRIMITIVE_MOVE 32
#def  __Init____GPRIMITIVE_MOVE GPRIMITIVE_MOVE
#def  GPRIMITIVE_CBOX 33
#def  __Init____GPRIMITIVE_CBOX GPRIMITIVE_CBOX
#def  GPRIMITIVE_CFILLBOX 34
#def  __Init____GPRIMITIVE_CFILLBOX GPRIMITIVE_CFILLBOX
#def  GPRIMITIVE_CFILLARC 35
#def  __Init____GPRIMITIVE_CFILLARC GPRIMITIVE_CFILLARC
#def  GPRIMITIVE_CWRITETEXT 36
#def  __Init____GPRIMITIVE_CWRITETEXT GPRIMITIVE_CWRITETEXT
#def  GPRIMITIVE_CIMAGE 37
#def  __Init____GPRIMITIVE_CIMAGE GPRIMITIVE_CIMAGE
#def  GPRIMITIVE_CCIRCLE 38
#def  __Init____GPRIMITIVE_CCIRCLE GPRIMITIVE_CCIRCLE
#def  GPRIMITIVE_CFILLCIRCLE 39
#def  __Init____GPRIMITIVE_CFILLCIRCLE GPRIMITIVE_CFILLCIRCLE
#def  GPRIMITIVE_HEADING 40
#def  __Init____GPRIMITIVE_HEADING GPRIMITIVE_HEADING
#def  GPRIMITIVE_TURN 41
#def  __Init____GPRIMITIVE_TURN GPRIMITIVE_TURN
#def  GPRIMITIVE_LINEFWD 42
#def  __Init____GPRIMITIVE_LINEFWD GPRIMITIVE_LINEFWD
#def  GPRIMITIVE_MOVEFWD 43
#def  __Init____GPRIMITIVE_MOVEFWD GPRIMITIVE_MOVEFWD
#def  GPRIMITIVE_PUSHPOSITION 44
#def  __Init____GPRIMITIVE_PUSHPOSITION GPRIMITIVE_PUSHPOSITION
#def  GPRIMITIVE_POPPOSITION 45
#def  __Init____GPRIMITIVE_POPPOSITION GPRIMITIVE_POPPOSITION
#def  GPRIMITIVE_CPOLYGON 46
#def  __Init____GPRIMITIVE_CPOLYGON GPRIMITIVE_CPOLYGON
#def  GPRIMITIVE_CFILLPOLYGON 47
#def  __Init____GPRIMITIVE_CFILLPOLYGON GPRIMITIVE_CFILLPOLYGON
#def  GPRIMITIVE_GRAPHLINE 48
#def  __Init____GPRIMITIVE_GRAPHLINE GPRIMITIVE_GRAPHLINE
#def  GPRIMITIVE_GRAPHBARS 49
#def  __Init____GPRIMITIVE_GRAPHBARS GPRIMITIVE_GRAPHBARS
#def  GPRIMITIVE_PUSHHEADING 50
#def  __Init____GPRIMITIVE_PUSHHEADING GPRIMITIVE_PUSHHEADING
#def  GPRIMITIVE_POPHEADING 51
#def  __Init____GPRIMITIVE_POPHEADING GPRIMITIVE_POPHEADING
#def  GPRIMITIVE_MACROBEGIN 52
#def  __Init____GPRIMITIVE_MACROBEGIN GPRIMITIVE_MACROBEGIN
#def  GPRIMITIVE_MACROEND 53
#def  __Init____GPRIMITIVE_MACROEND GPRIMITIVE_MACROEND
#def  GPRIMITIVE_MACRORUN 54
#def  __Init____GPRIMITIVE_MACRORUN GPRIMITIVE_MACRORUN
#def  GPRIMITIVE_RADIALSCALE 55
#def  __Init____GPRIMITIVE_RADIALSCALE GPRIMITIVE_RADIALSCALE
#def  GPRIMITIVE_LINEARSCALE 56
#def  __Init____GPRIMITIVE_LINEARSCALE GPRIMITIVE_LINEARSCALE
#def  GPRIMITIVE_ROUNDBOX 57
#def  __Init____GPRIMITIVE_ROUNDBOX GPRIMITIVE_ROUNDBOX
#def  GPRIMITIVE_ROUNDFILLBOX 58
#def  __Init____GPRIMITIVE_ROUNDFILLBOX GPRIMITIVE_ROUNDFILLBOX
#def  GPRIMITIVE_CROUNDBOX 59
#def  __Init____GPRIMITIVE_CROUNDBOX GPRIMITIVE_CROUNDBOX
#def  GPRIMITIVE_CROUNDFILLBOX 60
#def  __Init____GPRIMITIVE_CROUNDFILLBOX GPRIMITIVE_CROUNDFILLBOX
#def  GPRIMITIVE_CARC 61
#def  __Init____GPRIMITIVE_CARC GPRIMITIVE_CARC
#def  GTEXT_STYLE_NORMAL 0
#def  __Init____GTEXT_STYLE_NORMAL GTEXT_STYLE_NORMAL
#def  GTEXT_STYLE_BOLD 1
#def  __Init____GTEXT_STYLE_BOLD GTEXT_STYLE_BOLD
#def  GTEXT_STYLE_ITALIC 2
#def  __Init____GTEXT_STYLE_ITALIC GTEXT_STYLE_ITALIC
#def  GTEXT_STYLE_FILLBG 4
#def  __Init____GTEXT_STYLE_FILLBG GTEXT_STYLE_FILLBG
#def  GTEXT_STYLE_ALIGN_LEFT 0
#def  __Init____GTEXT_STYLE_ALIGN_LEFT GTEXT_STYLE_ALIGN_LEFT
#def  GTEXT_STYLE_ALIGN_RIGHT 16
#def  __Init____GTEXT_STYLE_ALIGN_RIGHT GTEXT_STYLE_ALIGN_RIGHT
#def  GTEXT_STYLE_ALIGN_CENTER 32
#def  __Init____GTEXT_STYLE_ALIGN_CENTER GTEXT_STYLE_ALIGN_CENTER
#def  GTEXT_STYLE_HRIGHT 0
#def  __Init____GTEXT_STYLE_HRIGHT GTEXT_STYLE_HRIGHT
#def  GTEXT_STYLE_HLEFT 64
#def  __Init____GTEXT_STYLE_HLEFT GTEXT_STYLE_HLEFT
#def  GTEXT_STYLE_HCENTER 128
#def  __Init____GTEXT_STYLE_HCENTER GTEXT_STYLE_HCENTER
#def  GTEXT_STYLE_VDOWN 0
#def  __Init____GTEXT_STYLE_VDOWN GTEXT_STYLE_VDOWN
#def  GTEXT_STYLE_VUP 256
#def  __Init____GTEXT_STYLE_VUP GTEXT_STYLE_VUP
#def  GTEXT_STYLE_VCENTER 512
#def  __Init____GTEXT_STYLE_VCENTER GTEXT_STYLE_VCENTER
#def  GLINE_STYLE_SOLID 0
#def  __Init____GLINE_STYLE_SOLID GLINE_STYLE_SOLID
#def  GLINE_STYLE_DASH 1
#def  __Init____GLINE_STYLE_DASH GLINE_STYLE_DASH
#def  GLINE_STYLE_DOTDASH 2
#def  __Init____GLINE_STYLE_DOTDASH GLINE_STYLE_DOTDASH
#def  GLINE_STYLE_DOT 3
#def  __Init____GLINE_STYLE_DOT GLINE_STYLE_DOT
#def  GLINE_CAP_BUTT 0
#def  __Init____GLINE_CAP_BUTT GLINE_CAP_BUTT
#def  GLINE_CAP_ROUND 16
#def  __Init____GLINE_CAP_ROUND GLINE_CAP_ROUND
#def  GLINE_CAP_SQUARE 32
#def  __Init____GLINE_CAP_SQUARE GLINE_CAP_SQUARE
#def  GLINE_JOIN_MITTER 0
#def  __Init____GLINE_JOIN_MITTER GLINE_JOIN_MITTER
#def  GLINE_JOIN_ROUND 64
#def  __Init____GLINE_JOIN_ROUND GLINE_JOIN_ROUND
#def  GLINE_JOIN_BEVEL 128
#def  __Init____GLINE_JOIN_BEVEL GLINE_JOIN_BEVEL
#def  GFILL_STYLE_BGCOLOR 0
#def  __Init____GFILL_STYLE_BGCOLOR GFILL_STYLE_BGCOLOR
#def  GFILL_STYLE_FRAME 1
#def  __Init____GFILL_STYLE_FRAME GFILL_STYLE_FRAME
#def  GFILL_STYLE_GRADIENT 2
#def  __Init____GFILL_STYLE_GRADIENT GFILL_STYLE_GRADIENT
#def  GGRADIENT_STYLE_LINEAR 0
#def  __Init____GGRADIENT_STYLE_LINEAR GGRADIENT_STYLE_LINEAR
#def  GGRADIENT_STYLE_BAR1_3 2
#def  __Init____GGRADIENT_STYLE_BAR1_3 GGRADIENT_STYLE_BAR1_3
#def  GGRADIENT_STYLE_RADIAL 1
#def  __Init____GGRADIENT_STYLE_RADIAL GGRADIENT_STYLE_RADIAL
#def  GGRADIENT_STYLE_RADIAL1_3 3
#def  __Init____GGRADIENT_STYLE_RADIAL1_3 GGRADIENT_STYLE_RADIAL1_3
#def  GGRADIENT_STYLE_HORIZONTAL 128
#def  __Init____GGRADIENT_STYLE_HORIZONTAL GGRADIENT_STYLE_HORIZONTAL
#def  GPOS_TYPE_PCT 16384
#def  __Init____GPOS_TYPE_PCT GPOS_TYPE_PCT
#def  GGRAPH_LINE_DEFAULT 0
#def  __Init____GGRAPH_LINE_DEFAULT GGRAPH_LINE_DEFAULT
#def  GGRAPH_LINE_SHOWDOT 1
#def  __Init____GGRAPH_LINE_SHOWDOT GGRAPH_LINE_SHOWDOT
#def  GGRAPH_LINE_SHOWCROSS 2
#def  __Init____GGRAPH_LINE_SHOWCROSS GGRAPH_LINE_SHOWCROSS
#def  GGRAPH_LINE_NOLINES 8
#def  __Init____GGRAPH_LINE_NOLINES GGRAPH_LINE_NOLINES
#def  GGRAPH_LINE_INTERPOLATE 16
#def  __Init____GGRAPH_LINE_INTERPOLATE GGRAPH_LINE_INTERPOLATE
#def  GGRAPH_LINE_FILL 32
#def  __Init____GGRAPH_LINE_FILL GGRAPH_LINE_FILL
#def  GCOLOR_TRANSPARENT 4278190080
#def  __Init____GCOLOR_TRANSPARENT GCOLOR_TRANSPARENT
#def  GCOLOR_TRANSPARENT3_4 3221225472
#def  __Init____GCOLOR_TRANSPARENT3_4 GCOLOR_TRANSPARENT3_4
#def  GCOLOR_TRANSPARENT1_2 2147483648
#def  __Init____GCOLOR_TRANSPARENT1_2 GCOLOR_TRANSPARENT1_2
#def  GCOLOR_TRANSPARENT1_4 1073741824
#def  __Init____GCOLOR_TRANSPARENT1_4 GCOLOR_TRANSPARENT1_4
#def  GCOLOR_WHITE 16777215
#def  __Init____GCOLOR_WHITE GCOLOR_WHITE
#def  GCOLOR_BLACK 1
#def  __Init____GCOLOR_BLACK GCOLOR_BLACK
#def  GCOLOR_RED 255
#def  __Init____GCOLOR_RED GCOLOR_RED
#def  GCOLOR_ORANGE 33023
#def  __Init____GCOLOR_ORANGE GCOLOR_ORANGE
#def  GCOLOR_YELLOW 65535
#def  __Init____GCOLOR_YELLOW GCOLOR_YELLOW
#def  GCOLOR_CHARTREUSE 65408
#def  __Init____GCOLOR_CHARTREUSE GCOLOR_CHARTREUSE
#def  GCOLOR_GREEN 65280
#def  __Init____GCOLOR_GREEN GCOLOR_GREEN
#def  GCOLOR_SPRINGGREEN 8453888
#def  __Init____GCOLOR_SPRINGGREEN GCOLOR_SPRINGGREEN
#def  GCOLOR_CYAN 16776960
#def  __Init____GCOLOR_CYAN GCOLOR_CYAN
#def  GCOLOR_AZURE 16744448
#def  __Init____GCOLOR_AZURE GCOLOR_AZURE
#def  GCOLOR_BLUE 16711680
#def  __Init____GCOLOR_BLUE GCOLOR_BLUE
#def  GCOLOR_VIOLET 16711808
#def  __Init____GCOLOR_VIOLET GCOLOR_VIOLET
#def  GCOLOR_MAGENTA 16711935
#def  __Init____GCOLOR_MAGENTA GCOLOR_MAGENTA
#def  GCOLOR_ROSE 8388863
#def  __Init____GCOLOR_ROSE GCOLOR_ROSE
#def  GCOLOR_LTGRAY 12632256
#def  __Init____GCOLOR_LTGRAY GCOLOR_LTGRAY
#def  GCOLOR_GRAY 8421504
#def  __Init____GCOLOR_GRAY GCOLOR_GRAY
#def  GCOLOR_DKGRAY 4210752
#def  __Init____GCOLOR_DKGRAY GCOLOR_DKGRAY
#def  GCOLOR_RED_50 15657983
#def  __Init____GCOLOR_RED_50 GCOLOR_RED_50
#def  GCOLOR_RED_100 13815295
#def  __Init____GCOLOR_RED_100 GCOLOR_RED_100
#def  GCOLOR_RED_200 10132207
#def  __Init____GCOLOR_RED_200 GCOLOR_RED_200
#def  GCOLOR_RED_300 7566309
#def  __Init____GCOLOR_RED_300 GCOLOR_RED_300
#def  GCOLOR_RED_400 5264367
#def  __Init____GCOLOR_RED_400 GCOLOR_RED_400
#def  GCOLOR_RED_500 3556340
#def  __Init____GCOLOR_RED_500 GCOLOR_RED_500
#def  GCOLOR_RED_600 3488229
#def  __Init____GCOLOR_RED_600 GCOLOR_RED_600
#def  GCOLOR_RED_700 3092435
#def  __Init____GCOLOR_RED_700 GCOLOR_RED_700
#def  GCOLOR_RED_800 2631878
#def  __Init____GCOLOR_RED_800 GCOLOR_RED_800
#def  GCOLOR_RED_900 1842359
#def  __Init____GCOLOR_RED_900 GCOLOR_RED_900
#def  GCOLOR_RED_A100 8424191
#def  __Init____GCOLOR_RED_A100 GCOLOR_RED_A100
#def  GCOLOR_RED_A200 5395199
#def  __Init____GCOLOR_RED_A200 GCOLOR_RED_A200
#def  GCOLOR_RED_A400 4462591
#def  __Init____GCOLOR_RED_A400 GCOLOR_RED_A400
#def  GCOLOR_RED_A700 213
#def  __Init____GCOLOR_RED_A700 GCOLOR_RED_A700
#def  GCOLOR_PINK_50 15525116
#def  __Init____GCOLOR_PINK_50 GCOLOR_PINK_50
#def  GCOLOR_PINK_100 13679608
#def  __Init____GCOLOR_PINK_100 GCOLOR_PINK_100
#def  GCOLOR_PINK_200 11636724
#def  __Init____GCOLOR_PINK_200 GCOLOR_PINK_200
#def  GCOLOR_PINK_300 9593584
#def  __Init____GCOLOR_PINK_300 GCOLOR_PINK_300
#def  GCOLOR_PINK_400 8012012
#def  __Init____GCOLOR_PINK_400 GCOLOR_PINK_400
#def  GCOLOR_PINK_500 6495977
#def  __Init____GCOLOR_PINK_500 GCOLOR_PINK_500
#def  GCOLOR_PINK_600 6298584
#def  __Init____GCOLOR_PINK_600 GCOLOR_PINK_600
#def  GCOLOR_PINK_700 5970114
#def  __Init____GCOLOR_PINK_700 GCOLOR_PINK_700
#def  GCOLOR_PINK_800 5706925
#def  __Init____GCOLOR_PINK_800 GCOLOR_PINK_800
#def  GCOLOR_PINK_900 5181064
#def  __Init____GCOLOR_PINK_900 GCOLOR_PINK_900
#def  GCOLOR_PINK_A100 11239679
#def  __Init____GCOLOR_PINK_A100 GCOLOR_PINK_A100
#def  GCOLOR_PINK_A200 8470783
#def  __Init____GCOLOR_PINK_A200 GCOLOR_PINK_A200
#def  GCOLOR_PINK_A400 5701877
#def  __Init____GCOLOR_PINK_A400 GCOLOR_PINK_A400
#def  GCOLOR_PINK_A700 6427077
#def  __Init____GCOLOR_PINK_A700 GCOLOR_PINK_A700
#def  GCOLOR_PURPLE_50 16115187
#def  __Init____GCOLOR_PURPLE_50 GCOLOR_PURPLE_50
#def  GCOLOR_PURPLE_100 15187681
#def  __Init____GCOLOR_PURPLE_100 GCOLOR_PURPLE_100
#def  GCOLOR_PURPLE_200 14193614
#def  __Init____GCOLOR_PURPLE_200 GCOLOR_PURPLE_200
#def  GCOLOR_PURPLE_300 13134010
#def  __Init____GCOLOR_PURPLE_300 GCOLOR_PURPLE_300
#def  GCOLOR_PURPLE_400 12339115
#def  __Init____GCOLOR_PURPLE_400 GCOLOR_PURPLE_400
#def  GCOLOR_PURPLE_500 11544476
#def  __Init____GCOLOR_PURPLE_500 GCOLOR_PURPLE_500
#def  GCOLOR_PURPLE_600 11150478
#def  __Init____GCOLOR_PURPLE_600 GCOLOR_PURPLE_600
#def  GCOLOR_PURPLE_700 10624891
#def  __Init____GCOLOR_PURPLE_700 GCOLOR_PURPLE_700
#def  GCOLOR_PURPLE_800 10099562
#def  __Init____GCOLOR_PURPLE_800 GCOLOR_PURPLE_800
#def  GCOLOR_PURPLE_900 9180234
#def  __Init____GCOLOR_PURPLE_900 GCOLOR_PURPLE_900
#def  GCOLOR_PURPLE_A100 16548074
#def  __Init____GCOLOR_PURPLE_A100 GCOLOR_PURPLE_A100
#def  GCOLOR_PURPLE_A200 16466144
#def  __Init____GCOLOR_PURPLE_A200 GCOLOR_PURPLE_A200
#def  GCOLOR_PURPLE_A400 16318677
#def  __Init____GCOLOR_PURPLE_A400 GCOLOR_PURPLE_A400
#def  GCOLOR_PURPLE_A700 16711850
#def  __Init____GCOLOR_PURPLE_A700 GCOLOR_PURPLE_A700
#def  GCOLOR_DEEP_PURPLE_50 16181229
#def  __Init____GCOLOR_DEEP_PURPLE_50 GCOLOR_DEEP_PURPLE_50
#def  GCOLOR_DEEP_PURPLE_100 15320273
#def  __Init____GCOLOR_DEEP_PURPLE_100 GCOLOR_DEEP_PURPLE_100
#def  GCOLOR_DEEP_PURPLE_200 14392755
#def  __Init____GCOLOR_DEEP_PURPLE_200 GCOLOR_DEEP_PURPLE_200
#def  GCOLOR_DEEP_PURPLE_300 13464981
#def  __Init____GCOLOR_DEEP_PURPLE_300 GCOLOR_DEEP_PURPLE_300
#def  GCOLOR_DEEP_PURPLE_400 12736382
#def  __Init____GCOLOR_DEEP_PURPLE_400 GCOLOR_DEEP_PURPLE_400
#def  GCOLOR_DEEP_PURPLE_500 12008039
#def  __Init____GCOLOR_DEEP_PURPLE_500 GCOLOR_DEEP_PURPLE_500
#def  GCOLOR_DEEP_PURPLE_600 11613534
#def  __Init____GCOLOR_DEEP_PURPLE_600 GCOLOR_DEEP_PURPLE_600
#def  GCOLOR_DEEP_PURPLE_700 11021649
#def  __Init____GCOLOR_DEEP_PURPLE_700 GCOLOR_DEEP_PURPLE_700
#def  GCOLOR_DEEP_PURPLE_800 10495813
#def  __Init____GCOLOR_DEEP_PURPLE_800 GCOLOR_DEEP_PURPLE_800
#def  GCOLOR_DEEP_PURPLE_900 9575217
#def  __Init____GCOLOR_DEEP_PURPLE_900 GCOLOR_DEEP_PURPLE_900
#def  GCOLOR_DEEP_PURPLE_A100 16746675
#def  __Init____GCOLOR_DEEP_PURPLE_A100 GCOLOR_DEEP_PURPLE_A100
#def  GCOLOR_DEEP_PURPLE_A200 16731516
#def  __Init____GCOLOR_DEEP_PURPLE_A200 GCOLOR_DEEP_PURPLE_A200
#def  GCOLOR_DEEP_PURPLE_A400 16719717
#def  __Init____GCOLOR_DEEP_PURPLE_A400 GCOLOR_DEEP_PURPLE_A400
#def  GCOLOR_DEEP_PURPLE_A700 15335522
#def  __Init____GCOLOR_DEEP_PURPLE_A700 GCOLOR_DEEP_PURPLE_A700
#def  GCOLOR_INDIGO_50 16181992
#def  __Init____GCOLOR_INDIGO_50 GCOLOR_INDIGO_50
#def  GCOLOR_INDIGO_100 15321797
#def  __Init____GCOLOR_INDIGO_100 GCOLOR_INDIGO_100
#def  GCOLOR_INDIGO_200 14330015
#def  __Init____GCOLOR_INDIGO_200 GCOLOR_INDIGO_200
#def  GCOLOR_INDIGO_300 13338233
#def  __Init____GCOLOR_INDIGO_300 GCOLOR_INDIGO_300
#def  GCOLOR_INDIGO_400 12610396
#def  __Init____GCOLOR_INDIGO_400 GCOLOR_INDIGO_400
#def  GCOLOR_INDIGO_500 11882815
#def  __Init____GCOLOR_INDIGO_500 GCOLOR_INDIGO_500
#def  GCOLOR_INDIGO_600 11225401
#def  __Init____GCOLOR_INDIGO_600 GCOLOR_INDIGO_600
#def  GCOLOR_INDIGO_700 10436400
#def  __Init____GCOLOR_INDIGO_700 GCOLOR_INDIGO_700
#def  GCOLOR_INDIGO_800 9647400
#def  __Init____GCOLOR_INDIGO_800 GCOLOR_INDIGO_800
#def  GCOLOR_INDIGO_900 8266522
#def  __Init____GCOLOR_INDIGO_900 GCOLOR_INDIGO_900
#def  GCOLOR_INDIGO_A100 16752268
#def  __Init____GCOLOR_INDIGO_A100 GCOLOR_INDIGO_A100
#def  GCOLOR_INDIGO_A200 16674131
#def  __Init____GCOLOR_INDIGO_A200 GCOLOR_INDIGO_A200
#def  GCOLOR_INDIGO_A400 16669245
#def  __Init____GCOLOR_INDIGO_A400 GCOLOR_INDIGO_A400
#def  GCOLOR_INDIGO_A700 16666416
#def  __Init____GCOLOR_INDIGO_A700 GCOLOR_INDIGO_A700
#def  GCOLOR_BLUE_50 16642787
#def  __Init____GCOLOR_BLUE_50 GCOLOR_BLUE_50
#def  GCOLOR_BLUE_100 16506555
#def  __Init____GCOLOR_BLUE_100 GCOLOR_BLUE_100
#def  GCOLOR_BLUE_200 16370320
#def  __Init____GCOLOR_BLUE_200 GCOLOR_BLUE_200
#def  GCOLOR_BLUE_300 16168292
#def  __Init____GCOLOR_BLUE_300 GCOLOR_BLUE_300
#def  GCOLOR_BLUE_400 16098626
#def  __Init____GCOLOR_BLUE_400 GCOLOR_BLUE_400
#def  GCOLOR_BLUE_500 15963681
#def  __Init____GCOLOR_BLUE_500 GCOLOR_BLUE_500
#def  GCOLOR_BLUE_600 15042590
#def  __Init____GCOLOR_BLUE_600 GCOLOR_BLUE_600
#def  GCOLOR_BLUE_700 13792793
#def  __Init____GCOLOR_BLUE_700 GCOLOR_BLUE_700
#def  GCOLOR_BLUE_800 12608789
#def  __Init____GCOLOR_BLUE_800 GCOLOR_BLUE_800
#def  GCOLOR_BLUE_900 10569485
#def  __Init____GCOLOR_BLUE_900 GCOLOR_BLUE_900
#def  GCOLOR_BLUE_A100 16757122
#def  __Init____GCOLOR_BLUE_A100 GCOLOR_BLUE_A100
#def  GCOLOR_BLUE_A200 16747076
#def  __Init____GCOLOR_BLUE_A200 GCOLOR_BLUE_A200
#def  GCOLOR_BLUE_A400 16742697
#def  __Init____GCOLOR_BLUE_A400 GCOLOR_BLUE_A400
#def  GCOLOR_BLUE_A700 16736809
#def  __Init____GCOLOR_BLUE_A700 GCOLOR_BLUE_A700
#def  GCOLOR_LIGHT_BLUE_50 16709089
#def  __Init____GCOLOR_LIGHT_BLUE_50 GCOLOR_LIGHT_BLUE_50
#def  GCOLOR_LIGHT_BLUE_100 16573875
#def  __Init____GCOLOR_LIGHT_BLUE_100 GCOLOR_LIGHT_BLUE_100
#def  GCOLOR_LIGHT_BLUE_200 16438401
#def  __Init____GCOLOR_LIGHT_BLUE_200 GCOLOR_LIGHT_BLUE_200
#def  GCOLOR_LIGHT_BLUE_300 16237391
#def  __Init____GCOLOR_LIGHT_BLUE_300 GCOLOR_LIGHT_BLUE_300
#def  GCOLOR_LIGHT_BLUE_400 16168489
#def  __Init____GCOLOR_LIGHT_BLUE_400 GCOLOR_LIGHT_BLUE_400
#def  GCOLOR_LIGHT_BLUE_500 16034051
#def  __Init____GCOLOR_LIGHT_BLUE_500 GCOLOR_LIGHT_BLUE_500
#def  GCOLOR_LIGHT_BLUE_600 15047427
#def  __Init____GCOLOR_LIGHT_BLUE_600 GCOLOR_LIGHT_BLUE_600
#def  GCOLOR_LIGHT_BLUE_700 13731842
#def  __Init____GCOLOR_LIGHT_BLUE_700 GCOLOR_LIGHT_BLUE_700
#def  GCOLOR_LIGHT_BLUE_800 12416770
#def  __Init____GCOLOR_LIGHT_BLUE_800 GCOLOR_LIGHT_BLUE_800
#def  GCOLOR_LIGHT_BLUE_900 10180353
#def  __Init____GCOLOR_LIGHT_BLUE_900 GCOLOR_LIGHT_BLUE_900
#def  GCOLOR_LIGHT_BLUE_A100 16767104
#def  __Init____GCOLOR_LIGHT_BLUE_A100 GCOLOR_LIGHT_BLUE_A100
#def  GCOLOR_LIGHT_BLUE_A200 16761920
#def  __Init____GCOLOR_LIGHT_BLUE_A200 GCOLOR_LIGHT_BLUE_A200
#def  GCOLOR_LIGHT_BLUE_A400 16756736
#def  __Init____GCOLOR_LIGHT_BLUE_A400 GCOLOR_LIGHT_BLUE_A400
#def  GCOLOR_LIGHT_BLUE_A700 15372544
#def  __Init____GCOLOR_LIGHT_BLUE_A700 GCOLOR_LIGHT_BLUE_A700
#def  GCOLOR_CYAN_50 16447456
#def  __Init____GCOLOR_CYAN_50 GCOLOR_CYAN_50
#def  GCOLOR_CYAN_100 15920050
#def  __Init____GCOLOR_CYAN_100 GCOLOR_CYAN_100
#def  GCOLOR_CYAN_200 15392384
#def  __Init____GCOLOR_CYAN_200 GCOLOR_CYAN_200
#def  GCOLOR_CYAN_300 14798925
#def  __Init____GCOLOR_CYAN_300 GCOLOR_CYAN_300
#def  GCOLOR_CYAN_400 14337574
#def  __Init____GCOLOR_CYAN_400 GCOLOR_CYAN_400
#def  GCOLOR_CYAN_500 13941760
#def  __Init____GCOLOR_CYAN_500 GCOLOR_CYAN_500
#def  GCOLOR_CYAN_600 12692480
#def  __Init____GCOLOR_CYAN_600 GCOLOR_CYAN_600
#def  GCOLOR_CYAN_700 10983168
#def  __Init____GCOLOR_CYAN_700 GCOLOR_CYAN_700
#def  GCOLOR_CYAN_800 9405184
#def  __Init____GCOLOR_CYAN_800 GCOLOR_CYAN_800
#def  GCOLOR_CYAN_900 6578176
#def  __Init____GCOLOR_CYAN_900 GCOLOR_CYAN_900
#def  GCOLOR_CYAN_A100 16777092
#def  __Init____GCOLOR_CYAN_A100 GCOLOR_CYAN_A100
#def  GCOLOR_CYAN_A200 16776984
#def  __Init____GCOLOR_CYAN_A200 GCOLOR_CYAN_A200
#def  GCOLOR_CYAN_A400 16770304
#def  __Init____GCOLOR_CYAN_A400 GCOLOR_CYAN_A400
#def  GCOLOR_CYAN_A700 13940736
#def  __Init____GCOLOR_CYAN_A700 GCOLOR_CYAN_A700
#def  GCOLOR_TEAL_50 15856352
#def  __Init____GCOLOR_TEAL_50 GCOLOR_TEAL_50
#def  GCOLOR_TEAL_100 14409650
#def  __Init____GCOLOR_TEAL_100 GCOLOR_TEAL_100
#def  GCOLOR_TEAL_200 12897152
#def  __Init____GCOLOR_TEAL_200 GCOLOR_TEAL_200
#def  GCOLOR_TEAL_300 11318861
#def  __Init____GCOLOR_TEAL_300 GCOLOR_TEAL_300
#def  GCOLOR_TEAL_400 10135078
#def  __Init____GCOLOR_TEAL_400 GCOLOR_TEAL_400
#def  GCOLOR_TEAL_500 8951296
#def  __Init____GCOLOR_TEAL_500 GCOLOR_TEAL_500
#def  GCOLOR_TEAL_600 8096000
#def  __Init____GCOLOR_TEAL_600 GCOLOR_TEAL_600
#def  GCOLOR_TEAL_700 7043328
#def  __Init____GCOLOR_TEAL_700 GCOLOR_TEAL_700
#def  GCOLOR_TEAL_800 6056192
#def  __Init____GCOLOR_TEAL_800 GCOLOR_TEAL_800
#def  GCOLOR_TEAL_900 4214016
#def  __Init____GCOLOR_TEAL_900 GCOLOR_TEAL_900
#def  GCOLOR_TEAL_A100 15466407
#def  __Init____GCOLOR_TEAL_A100 GCOLOR_TEAL_A100
#def  GCOLOR_TEAL_A200 14352228
#def  __Init____GCOLOR_TEAL_A200 GCOLOR_TEAL_A200
#def  GCOLOR_TEAL_A400 11987229
#def  __Init____GCOLOR_TEAL_A400 GCOLOR_TEAL_A400
#def  GCOLOR_TEAL_A700 10862336
#def  __Init____GCOLOR_TEAL_A700 GCOLOR_TEAL_A700
#def  GCOLOR_GREEN_50 15332840
#def  __Init____GCOLOR_GREEN_50 GCOLOR_GREEN_50
#def  GCOLOR_GREEN_100 13231816
#def  __Init____GCOLOR_GREEN_100 GCOLOR_GREEN_100
#def  GCOLOR_GREEN_200 10999461
#def  __Init____GCOLOR_GREEN_200 GCOLOR_GREEN_200
#def  GCOLOR_GREEN_300 8701825
#def  __Init____GCOLOR_GREEN_300 GCOLOR_GREEN_300
#def  GCOLOR_GREEN_400 6994790
#def  __Init____GCOLOR_GREEN_400 GCOLOR_GREEN_400
#def  GCOLOR_GREEN_500 5287756
#def  __Init____GCOLOR_GREEN_500 GCOLOR_GREEN_500
#def  GCOLOR_GREEN_600 4694083
#def  __Init____GCOLOR_GREEN_600 GCOLOR_GREEN_600
#def  GCOLOR_GREEN_700 3968568
#def  __Init____GCOLOR_GREEN_700 GCOLOR_GREEN_700
#def  GCOLOR_GREEN_800 3308846
#def  __Init____GCOLOR_GREEN_800 GCOLOR_GREEN_800
#def  GCOLOR_GREEN_900 2121243
#def  __Init____GCOLOR_GREEN_900 GCOLOR_GREEN_900
#def  GCOLOR_GREEN_A100 13301433
#def  __Init____GCOLOR_GREEN_A100 GCOLOR_GREEN_A100
#def  GCOLOR_GREEN_A200 11464809
#def  __Init____GCOLOR_GREEN_A200 GCOLOR_GREEN_A200
#def  GCOLOR_GREEN_A400 7792128
#def  __Init____GCOLOR_GREEN_A400 GCOLOR_GREEN_A400
#def  GCOLOR_GREEN_A700 5490688
#def  __Init____GCOLOR_GREEN_A700 GCOLOR_GREEN_A700
#def  GCOLOR_LIGHT_GREEN_50 15333617
#def  __Init____GCOLOR_LIGHT_GREEN_50 GCOLOR_LIGHT_GREEN_50
#def  GCOLOR_LIGHT_GREEN_100 13168092
#def  __Init____GCOLOR_LIGHT_GREEN_100 GCOLOR_LIGHT_GREEN_100
#def  GCOLOR_LIGHT_GREEN_200 10871237
#def  __Init____GCOLOR_LIGHT_GREEN_200 GCOLOR_LIGHT_GREEN_200
#def  GCOLOR_LIGHT_GREEN_300 8508846
#def  __Init____GCOLOR_LIGHT_GREEN_300 GCOLOR_LIGHT_GREEN_300
#def  GCOLOR_LIGHT_GREEN_400 6671516
#def  __Init____GCOLOR_LIGHT_GREEN_400 GCOLOR_LIGHT_GREEN_400
#def  GCOLOR_LIGHT_GREEN_500 4899723
#def  __Init____GCOLOR_LIGHT_GREEN_500 GCOLOR_LIGHT_GREEN_500
#def  GCOLOR_LIGHT_GREEN_600 4371324
#def  __Init____GCOLOR_LIGHT_GREEN_600 GCOLOR_LIGHT_GREEN_600
#def  GCOLOR_LIGHT_GREEN_700 3710824
#def  __Init____GCOLOR_LIGHT_GREEN_700 GCOLOR_LIGHT_GREEN_700
#def  GCOLOR_LIGHT_GREEN_800 3115861
#def  __Init____GCOLOR_LIGHT_GREEN_800 GCOLOR_LIGHT_GREEN_800
#def  GCOLOR_LIGHT_GREEN_900 1993011
#def  __Init____GCOLOR_LIGHT_GREEN_900 GCOLOR_LIGHT_GREEN_900
#def  GCOLOR_LIGHT_GREEN_A100 9502668
#def  __Init____GCOLOR_LIGHT_GREEN_A100 GCOLOR_LIGHT_GREEN_A100
#def  GCOLOR_LIGHT_GREEN_A200 5898162
#def  __Init____GCOLOR_LIGHT_GREEN_A200 GCOLOR_LIGHT_GREEN_A200
#def  GCOLOR_LIGHT_GREEN_A400 262006
#def  __Init____GCOLOR_LIGHT_GREEN_A400 GCOLOR_LIGHT_GREEN_A400
#def  GCOLOR_LIGHT_GREEN_A700 1564004
#def  __Init____GCOLOR_LIGHT_GREEN_A700 GCOLOR_LIGHT_GREEN_A700
#def  GCOLOR_LIME_50 15203321
#def  __Init____GCOLOR_LIME_50 GCOLOR_LIME_50
#def  GCOLOR_LIME_100 12842224
#def  __Init____GCOLOR_LIME_100 GCOLOR_LIME_100
#def  GCOLOR_LIME_200 10284774
#def  __Init____GCOLOR_LIME_200 GCOLOR_LIME_200
#def  GCOLOR_LIME_300 7727068
#def  __Init____GCOLOR_LIME_300 GCOLOR_LIME_300
#def  GCOLOR_LIME_400 5759444
#def  __Init____GCOLOR_LIME_400 GCOLOR_LIME_400
#def  GCOLOR_LIME_500 3792077
#def  __Init____GCOLOR_LIME_500 GCOLOR_LIME_500
#def  GCOLOR_LIME_600 3394240
#def  __Init____GCOLOR_LIME_600 GCOLOR_LIME_600
#def  GCOLOR_LIME_700 2864303
#def  __Init____GCOLOR_LIME_700 GCOLOR_LIME_700
#def  GCOLOR_LIME_800 2399646
#def  __Init____GCOLOR_LIME_800 GCOLOR_LIME_800
#def  GCOLOR_LIME_900 1537922
#def  __Init____GCOLOR_LIME_900 GCOLOR_LIME_900
#def  GCOLOR_LIME_A100 8519668
#def  __Init____GCOLOR_LIME_A100 GCOLOR_LIME_A100
#def  GCOLOR_LIME_A200 4325358
#def  __Init____GCOLOR_LIME_A200 GCOLOR_LIME_A200
#def  GCOLOR_LIME_A400 65478
#def  __Init____GCOLOR_LIME_A400 GCOLOR_LIME_A400
#def  GCOLOR_LIME_A700 60078
#def  __Init____GCOLOR_LIME_A700 GCOLOR_LIME_A700
#def  GCOLOR_YELLOW_50 15203839
#def  __Init____GCOLOR_YELLOW_50 GCOLOR_YELLOW_50
#def  GCOLOR_YELLOW_100 12909055
#def  __Init____GCOLOR_YELLOW_100 GCOLOR_YELLOW_100
#def  GCOLOR_YELLOW_200 10352127
#def  __Init____GCOLOR_YELLOW_200 GCOLOR_YELLOW_200
#def  GCOLOR_YELLOW_300 7795199
#def  __Init____GCOLOR_YELLOW_300 GCOLOR_YELLOW_300
#def  GCOLOR_YELLOW_400 5828351
#def  __Init____GCOLOR_YELLOW_400 GCOLOR_YELLOW_400
#def  GCOLOR_YELLOW_500 3927039
#def  __Init____GCOLOR_YELLOW_500 GCOLOR_YELLOW_500
#def  GCOLOR_YELLOW_600 3528957
#def  __Init____GCOLOR_YELLOW_600 GCOLOR_YELLOW_600
#def  GCOLOR_YELLOW_700 2998523
#def  __Init____GCOLOR_YELLOW_700 GCOLOR_YELLOW_700
#def  GCOLOR_YELLOW_800 2468089
#def  __Init____GCOLOR_YELLOW_800 GCOLOR_YELLOW_800
#def  GCOLOR_YELLOW_900 1540085
#def  __Init____GCOLOR_YELLOW_900 GCOLOR_YELLOW_900
#def  GCOLOR_YELLOW_A100 9306111
#def  __Init____GCOLOR_YELLOW_A100 GCOLOR_YELLOW_A100
#def  GCOLOR_YELLOW_A200 65535
#def  __Init____GCOLOR_YELLOW_A200 GCOLOR_YELLOW_A200
#def  GCOLOR_YELLOW_A400 60159
#def  __Init____GCOLOR_YELLOW_A400 GCOLOR_YELLOW_A400
#def  GCOLOR_YELLOW_A700 55039
#def  __Init____GCOLOR_YELLOW_A700 GCOLOR_YELLOW_A700
#def  GCOLOR_AMBER_50 14809343
#def  __Init____GCOLOR_AMBER_50 GCOLOR_AMBER_50
#def  GCOLOR_AMBER_100 11791615
#def  __Init____GCOLOR_AMBER_100 GCOLOR_AMBER_100
#def  GCOLOR_AMBER_200 8577279
#def  __Init____GCOLOR_AMBER_200 GCOLOR_AMBER_200
#def  GCOLOR_AMBER_300 5232127
#def  __Init____GCOLOR_AMBER_300 GCOLOR_AMBER_300
#def  GCOLOR_AMBER_400 2673407
#def  __Init____GCOLOR_AMBER_400 GCOLOR_AMBER_400
#def  GCOLOR_AMBER_500 508415
#def  __Init____GCOLOR_AMBER_500 GCOLOR_AMBER_500
#def  GCOLOR_AMBER_600 46079
#def  __Init____GCOLOR_AMBER_600 GCOLOR_AMBER_600
#def  GCOLOR_AMBER_700 41215
#def  __Init____GCOLOR_AMBER_700 GCOLOR_AMBER_700
#def  GCOLOR_AMBER_800 36863
#def  __Init____GCOLOR_AMBER_800 GCOLOR_AMBER_800
#def  GCOLOR_AMBER_900 28671
#def  __Init____GCOLOR_AMBER_900 GCOLOR_AMBER_900
#def  GCOLOR_AMBER_A100 8381951
#def  __Init____GCOLOR_AMBER_A100 GCOLOR_AMBER_A100
#def  GCOLOR_AMBER_A200 4249599
#def  __Init____GCOLOR_AMBER_A200 GCOLOR_AMBER_A200
#def  GCOLOR_AMBER_A400 50431
#def  __Init____GCOLOR_AMBER_A400 GCOLOR_AMBER_A400
#def  GCOLOR_AMBER_A700 44031
#def  __Init____GCOLOR_AMBER_A700 GCOLOR_AMBER_A700
#def  GCOLOR_ORANGE_50 14742527
#def  __Init____GCOLOR_ORANGE_50 GCOLOR_ORANGE_50
#def  GCOLOR_ORANGE_100 11723007
#def  __Init____GCOLOR_ORANGE_100 GCOLOR_ORANGE_100
#def  GCOLOR_ORANGE_200 8441087
#def  __Init____GCOLOR_ORANGE_200 GCOLOR_ORANGE_200
#def  GCOLOR_ORANGE_300 5093375
#def  __Init____GCOLOR_ORANGE_300 GCOLOR_ORANGE_300
#def  GCOLOR_ORANGE_400 2533375
#def  __Init____GCOLOR_ORANGE_400 GCOLOR_ORANGE_400
#def  GCOLOR_ORANGE_500 39167
#def  __Init____GCOLOR_ORANGE_500 GCOLOR_ORANGE_500
#def  GCOLOR_ORANGE_600 36091
#def  __Init____GCOLOR_ORANGE_600 GCOLOR_ORANGE_600
#def  GCOLOR_ORANGE_700 31989
#def  __Init____GCOLOR_ORANGE_700 GCOLOR_ORANGE_700
#def  GCOLOR_ORANGE_800 27887
#def  __Init____GCOLOR_ORANGE_800 GCOLOR_ORANGE_800
#def  GCOLOR_ORANGE_900 20966
#def  __Init____GCOLOR_ORANGE_900 GCOLOR_ORANGE_900
#def  GCOLOR_ORANGE_A100 8442367
#def  __Init____GCOLOR_ORANGE_A100 GCOLOR_ORANGE_A100
#def  GCOLOR_ORANGE_A200 4238335
#def  __Init____GCOLOR_ORANGE_A200 GCOLOR_ORANGE_A200
#def  GCOLOR_ORANGE_A400 37375
#def  __Init____GCOLOR_ORANGE_A400 GCOLOR_ORANGE_A400
#def  GCOLOR_ORANGE_A700 28159
#def  __Init____GCOLOR_ORANGE_A700 GCOLOR_ORANGE_A700
#def  GCOLOR_DEEP_ORANGE_50 15198715
#def  __Init____GCOLOR_DEEP_ORANGE_50 GCOLOR_DEEP_ORANGE_50
#def  GCOLOR_DEEP_ORANGE_100 12373247
#def  __Init____GCOLOR_DEEP_ORANGE_100 GCOLOR_DEEP_ORANGE_100
#def  GCOLOR_DEEP_ORANGE_200 9546751
#def  __Init____GCOLOR_DEEP_ORANGE_200 GCOLOR_DEEP_ORANGE_200
#def  GCOLOR_DEEP_ORANGE_300 6654719
#def  __Init____GCOLOR_DEEP_ORANGE_300 GCOLOR_DEEP_ORANGE_300
#def  GCOLOR_DEEP_ORANGE_400 4419839
#def  __Init____GCOLOR_DEEP_ORANGE_400 GCOLOR_DEEP_ORANGE_400
#def  GCOLOR_DEEP_ORANGE_500 2250751
#def  __Init____GCOLOR_DEEP_ORANGE_500 GCOLOR_DEEP_ORANGE_500
#def  GCOLOR_DEEP_ORANGE_600 1987060
#def  __Init____GCOLOR_DEEP_ORANGE_600 GCOLOR_DEEP_ORANGE_600
#def  GCOLOR_DEEP_ORANGE_700 1657574
#def  __Init____GCOLOR_DEEP_ORANGE_700 GCOLOR_DEEP_ORANGE_700
#def  GCOLOR_DEEP_ORANGE_800 1393624
#def  __Init____GCOLOR_DEEP_ORANGE_800 GCOLOR_DEEP_ORANGE_800
#def  GCOLOR_DEEP_ORANGE_900 800447
#def  __Init____GCOLOR_DEEP_ORANGE_900 GCOLOR_DEEP_ORANGE_900
#def  GCOLOR_DEEP_ORANGE_A100 8429311
#def  __Init____GCOLOR_DEEP_ORANGE_A100 GCOLOR_DEEP_ORANGE_A100
#def  GCOLOR_DEEP_ORANGE_A200 4222719
#def  __Init____GCOLOR_DEEP_ORANGE_A200 GCOLOR_DEEP_ORANGE_A200
#def  GCOLOR_DEEP_ORANGE_A400 15871
#def  __Init____GCOLOR_DEEP_ORANGE_A400 GCOLOR_DEEP_ORANGE_A400
#def  GCOLOR_DEEP_ORANGE_A700 11485
#def  __Init____GCOLOR_DEEP_ORANGE_A700 GCOLOR_DEEP_ORANGE_A700
#def  GCOLOR_BROWN_50 15330287
#def  __Init____GCOLOR_BROWN_50 GCOLOR_BROWN_50
#def  GCOLOR_BROWN_100 13159639
#def  __Init____GCOLOR_BROWN_100 GCOLOR_BROWN_100
#def  GCOLOR_BROWN_200 10791612
#def  __Init____GCOLOR_BROWN_200 GCOLOR_BROWN_200
#def  GCOLOR_BROWN_300 8358049
#def  __Init____GCOLOR_BROWN_300 GCOLOR_BROWN_300
#def  GCOLOR_BROWN_400 6516365
#def  __Init____GCOLOR_BROWN_400 GCOLOR_BROWN_400
#def  GCOLOR_BROWN_500 4740473
#def  __Init____GCOLOR_BROWN_500 GCOLOR_BROWN_500
#def  GCOLOR_BROWN_600 4279405
#def  __Init____GCOLOR_BROWN_600 GCOLOR_BROWN_600
#def  GCOLOR_BROWN_700 3620957
#def  __Init____GCOLOR_BROWN_700 GCOLOR_BROWN_700
#def  GCOLOR_BROWN_800 3028046
#def  __Init____GCOLOR_BROWN_800 GCOLOR_BROWN_800
#def  GCOLOR_BROWN_900 2303806
#def  __Init____GCOLOR_BROWN_900 GCOLOR_BROWN_900
#def  GCOLOR_GREY_50 16448250
#def  __Init____GCOLOR_GREY_50 GCOLOR_GREY_50
#def  GCOLOR_GREY_100 16119285
#def  __Init____GCOLOR_GREY_100 GCOLOR_GREY_100
#def  GCOLOR_GREY_200 15658734
#def  __Init____GCOLOR_GREY_200 GCOLOR_GREY_200
#def  GCOLOR_GREY_300 14737632
#def  __Init____GCOLOR_GREY_300 GCOLOR_GREY_300
#def  GCOLOR_GREY_400 12434877
#def  __Init____GCOLOR_GREY_400 GCOLOR_GREY_400
#def  GCOLOR_GREY_500 10395294
#def  __Init____GCOLOR_GREY_500 GCOLOR_GREY_500
#def  GCOLOR_GREY_600 7697781
#def  __Init____GCOLOR_GREY_600 GCOLOR_GREY_600
#def  GCOLOR_GREY_700 6381921
#def  __Init____GCOLOR_GREY_700 GCOLOR_GREY_700
#def  GCOLOR_GREY_800 4342338
#def  __Init____GCOLOR_GREY_800 GCOLOR_GREY_800
#def  GCOLOR_GREY_900 2171169
#def  __Init____GCOLOR_GREY_900 GCOLOR_GREY_900
#def  GCOLOR_BLUE_GREY_50 15855596
#def  __Init____GCOLOR_BLUE_GREY_50 GCOLOR_BLUE_GREY_50
#def  GCOLOR_BLUE_GREY_100 14473423
#def  __Init____GCOLOR_BLUE_GREY_100 GCOLOR_BLUE_GREY_100
#def  GCOLOR_BLUE_GREY_200 12959408
#def  __Init____GCOLOR_BLUE_GREY_200 GCOLOR_BLUE_GREY_200
#def  GCOLOR_BLUE_GREY_300 11445392
#def  __Init____GCOLOR_BLUE_GREY_300 GCOLOR_BLUE_GREY_300
#def  GCOLOR_BLUE_GREY_400 10260600
#def  __Init____GCOLOR_BLUE_GREY_400 GCOLOR_BLUE_GREY_400
#def  GCOLOR_BLUE_GREY_500 9141600
#def  __Init____GCOLOR_BLUE_GREY_500 GCOLOR_BLUE_GREY_500
#def  GCOLOR_BLUE_GREY_600 8023636
#def  __Init____GCOLOR_BLUE_GREY_600 GCOLOR_BLUE_GREY_600
#def  GCOLOR_BLUE_GREY_700 6576709
#def  __Init____GCOLOR_BLUE_GREY_700 GCOLOR_BLUE_GREY_700
#def  GCOLOR_BLUE_GREY_800 5195575
#def  __Init____GCOLOR_BLUE_GREY_800 GCOLOR_BLUE_GREY_800
#def  GCOLOR_BLUE_GREY_900 3682854
#def  __Init____GCOLOR_BLUE_GREY_900 GCOLOR_BLUE_GREY_900
#def  GRSCALE_NO_FIRST 1
#def  __Init____GRSCALE_NO_FIRST GRSCALE_NO_FIRST
#def  GRSCALE_NO_LAST 2
#def  __Init____GRSCALE_NO_LAST GRSCALE_NO_LAST
#def  GRSCALE_NO_LABELS 4
#def  __Init____GRSCALE_NO_LABELS GRSCALE_NO_LABELS
#def  GRSCALE_BOLD_TICK 8
#def  __Init____GRSCALE_BOLD_TICK GRSCALE_BOLD_TICK
#def  GRSCALE_CIRCULAR_TICK 16
#def  __Init____GRSCALE_CIRCULAR_TICK GRSCALE_CIRCULAR_TICK
#def  GRSCALE_OUTLINE 32
#def  __Init____GRSCALE_OUTLINE GRSCALE_OUTLINE
#def  GLSCALE_HORIZONTAL 0
#def  __Init____GLSCALE_HORIZONTAL GLSCALE_HORIZONTAL
#def  GLSCALE_VERTICAL 1
#def  __Init____GLSCALE_VERTICAL GLSCALE_VERTICAL
#def  GLSCALE_NO_BASELINE 2
#def  __Init____GLSCALE_NO_BASELINE GLSCALE_NO_BASELINE
#def  GLSCALE_NO_LABELS 4
#def  __Init____GLSCALE_NO_LABELS GLSCALE_NO_LABELS
#def  GLSCALE_BOLD_TICK 8
#def  __Init____GLSCALE_BOLD_TICK GLSCALE_BOLD_TICK

#defpou __LATENT_INSTANCE GC_TestSpace
  bool __fc__GC_TestSpace,
  uint rqLen,
  pointer GrData


#defpou __LATENT_INSTANCE GC_SaveByte
  bool __fc__GC_SaveByte,
  usint data,  ;BYTE to save
  pointer GrData


#defpou __LATENT_INSTANCE GC_SaveWord
  bool __fc__GC_SaveWord,
  int data,
  pointer GrData


#defpou __LATENT_INSTANCE GC_SaveDword
  bool __fc__GC_SaveDword,
  udint data,
  pointer GrData


#defpou __LATENT_INSTANCE GC_SaveWordArray
  bool __fc__GC_SaveWordArray,
  int n,  ;number of items
  pointer data,  ;first item
  pointer GrData


#defpou __LATENT_INSTANCE GC_SaveDwordArray
  bool __fc__GC_SaveDwordArray,
  usint n,  ;number of items
  pointer data,  ;first item
  pointer GrData


#defpou __LATENT_INSTANCE GC_SavePos
  bool __fc__GC_SavePos,
  int x,
  int y,
  pointer GrData


#defpou __LATENT_INSTANCE GC_SaveAngle
  bool __fc__GC_SaveAngle,
  real angle,  ;uhel ve stupnich
  pointer GrData


#defpou __LATENT_INSTANCE GC_SaveReal
  bool __fc__GC_SaveReal,
  real data,
  pointer GrData


#defpou __LATENT_INSTANCE GC_SaveString
  bool __fc__GC_SaveString,
  pointer in,
  pointer GrData,
  uint l


#defpou __LATENT_INSTANCE GC_SaveArray
  bool __fc__GC_SaveArray,
  pointer in,
  usint lenIn,
  pointer GrData


#defpou __LATENT_INSTANCE GC_DataLen
  uint __fc__GC_DataLen,
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_Begin
  bool __fc__GC_Begin,
  udint SizeOfGrData,
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_End
  bool __fc__GC_End,
  pointer GrData,  ;reference to the canvas buffer
  pointer w


#defpou __LATENT_INSTANCE GC_MacroBegin
  bool __fc__GC_MacroBegin,
  usint index,  ;index of macro (1-10)
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_MacroEnd
  bool __fc__GC_MacroEnd,
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_MacroRun
  bool __fc__GC_MacroRun,
  usint index,  ;index of macro (1-10)
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_SetLineWidth
  bool __fc__GC_SetLineWidth,
  usint width,  ;line width in pixels
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_SetLineStyle
  bool __fc__GC_SetLineStyle,
  usint style,  ;style defined by constants  GLINE_...
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_SetFillStyle
  bool __fc__GC_SetFillStyle,
  usint style,  ;style defined by constants  GFILL_...
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_SetFgColor
  bool __fc__GC_SetFgColor,
  udint color,  ;color stored in format UDINT (16#AABBGGRR)
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_SetBgColor
  bool __fc__GC_SetBgColor,
  udint color,  ;color stored in format UDINT (16#AABBGGRR)
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_SetTextSize
  bool __fc__GC_SetTextSize,
  usint size,  ;font height in pixels
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_SetTextStyle
  bool __fc__GC_SetTextStyle,
  uint style,  ;style defined by constants  GTEXT_STYLE_...
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_SetGradientStyle
  bool __fc__GC_SetGradientStyle,
  udint color1,  ;begin color stored in format UDINT (16#AABBGGRR)
  udint color2,  ;end color stored in format UDINT (16#AABBGGRR)
  usint style,  ;style defined by constants  GGRADIENT_STYLE_...
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_SetOrigin
  bool __fc__GC_SetOrigin,
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_ResetOrigin
  bool __fc__GC_ResetOrigin,
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_SetVirtSize
  bool __fc__GC_SetVirtSize,
  int width,  ;width of the virtual drawing area
  int height,  ;height of the virtual drawing area
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_MoveTo
  bool __fc__GC_MoveTo,
  int x,  ;new coordinate X of the drawing pen
  int y,  ;new coordinate Y of the drawing pen
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_Move
  bool __fc__GC_Move,
  int x,  ;relative change of the position on the X axis
  int y,  ;relative change of the position on the Y axis
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_Point
  bool __fc__GC_Point,
  int x,  ;coordinate X
  int y,  ;coordinate Y
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_LineTo
  bool __fc__GC_LineTo,
  int x,  ;coordinate X of the end point
  int y,  ;coordinate Y of the end point
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_Line
  bool __fc__GC_Line,
  int x1,  ;coordinate X of the start point
  int y1,  ;coordinate Y of the start point
  int x2,  ;coordinate X of the end point
  int y2,  ;coordinate Y of the end point
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_Box
  bool __fc__GC_Box,
  bool fill,  ;draw filled
  int x,  ;X coordinate of the top left corner
  int y,  ;Y coordinate of the top left corner
  int width,  ;rectangle width
  int height,  ;rectangle height
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_CBox
  bool __fc__GC_CBox,
  bool fill,  ;draw filled
  int width,  ;rectangle width
  int height,  ;rectangle height
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_RoundBox
  bool __fc__GC_RoundBox,
  bool fill,  ;draw filled
  int x,  ;X coordinate of the top left corner
  int y,  ;Y coordinate of the top left corner
  int width,  ;rectangle width
  int height,  ;rectangle height
  int r,  ;corner radius
  pointer GrData  ;*)


#defpou __LATENT_INSTANCE GC_CRoundBox
  bool __fc__GC_CRoundBox,
  bool fill,  ;draw filled
  int width,  ;rectangle width
  int height,  ;rectangle height
  int r,  ;corner radius
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_Triangle
  bool __fc__GC_Triangle,
  bool fill,  ;draw filled
  int x1,  ;X coordinate of the first point
  int y1,  ;Y coordinate of the first point
  int x2,  ;X coordinate of the second point
  int y2,  ;Y coordinate of the second point
  int x3,  ;X coordinate of the third point
  int y3,  ;Y coordinate of the third point
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_Polygon4
  bool __fc__GC_Polygon4,
  bool fill,  ;draw filled
  int x1,  ;X coordinate of the first point
  int y1,  ;Y coordinate of the first point
  int x2,  ;X coordinate of the second point
  int y2,  ;Y coordinate of the second point
  int x3,  ;X coordinate of the third point
  int y3,  ;Y coordinate of the third point
  int x4,  ;X coordinate of the fourth point
  int y4,  ;Y coordinate of the fourth point
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_Polygon
  bool __fc__GC_Polygon,
  bool fill,  ;draw filled
  usint numPoints,  ;number of points
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_PolygonArray
  bool __fc__GC_PolygonArray,
  bool fill,  ;draw filled
  usint numPoints,  ;number of points
  pointer points,  ;first point in array of points
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_Arc
  bool __fc__GC_Arc,
  bool fill,  ;draw filled
  int x,  ;X coordinate of the center point
  int y,  ;Y coordinate of the center point
  int rx,  ;radius on axis X
  int ry,  ;radius on axis Y
  real angle,  ;starting angle in degrees
  real dangle,  ;length of arc in degrees
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_CArc
  bool __fc__GC_CArc,
  bool fill,  ;draw filled
  int rx,  ;radius on axis X
  int ry,  ;radius on axis Y
  real angle,  ;starting angle in degrees
  real dangle,  ;length of arc in degrees
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_Circle
  bool __fc__GC_Circle,
  bool fill,  ;draw filled
  int x,  ;X coordinate of the center point
  int y,  ;X coordinate of the center point
  int r,  ;radius
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_CCircle
  bool __fc__GC_CCircle,
  bool fill,  ;draw filled
  int r,  ;radius
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_CTriangle
  bool __fc__GC_CTriangle,
  bool fill,  ;draw filled
  int x1,  ;X coordinate of the first point
  int y1,  ;Y coordinate of the first point
  int x2,  ;X coordinate of the second point
  int y2,  ;Y coordinate of the second point
  int x3,  ;X coordinate of the third point
  int y3,  ;Y coordinate of the third point
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_CPolygon4
  bool __fc__GC_CPolygon4,
  bool fill,  ;draw filled
  int x1,  ;X coordinate of the first point
  int y1,  ;Y coordinate of the first point
  int x2,  ;X coordinate of the second point
  int y2,  ;Y coordinate of the second point
  int x3,  ;X coordinate of the third point
  int y3,  ;Y coordinate of the third point
  int x4,  ;X coordinate of the fourth point
  int y4,  ;Y coordinate of the fourth point
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_CPolygon
  bool __fc__GC_CPolygon,
  bool fill,  ;draw filled
  usint numPoints,  ;number of points
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_CPolygonArray
  bool __fc__GC_CPolygonArray,
  bool fill,  ;draw filled
  usint numPoints,  ;number of points
  pointer points,  ;first point in array of points
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_AddPoint
  bool __fc__GC_AddPoint,
  int x,  ;X coordinate
  int y,  ;Y coordinate
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_WriteText
  bool __fc__GC_WriteText,
  string[256] text,  ;text to be displayed
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_CWriteText
  bool __fc__GC_CWriteText,
  string[256] text,  ;text to be displayed
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_Image
  bool __fc__GC_Image,
  int width,  ;width of the displayed image (0 original size)
  int height,  ;height of the displayed image (0 original size)
  string[81] fileName,  ;image name
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_CImage
  bool __fc__GC_CImage,
  int width,  ;width of the displayed image (0 original size)
  int height,  ;height of the displayed image (0 original size)
  string[81] fileName,  ;long name of image associated with the canvas
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_Heading
  bool __fc__GC_Heading,
  real angle,  ;new angle of the drawing pen in degrees
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_Turn
  bool __fc__GC_Turn,
  real angle,  ;angle of rotation of pen in degrees
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_LineFwd
  bool __fc__GC_LineFwd,
  int length,  ;length of line
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_MoveFwd
  bool __fc__GC_MoveFwd,
  int length,  ;distance between old and new position of the drawing pen
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_PushPosition
  bool __fc__GC_PushPosition,
  usint index,  ;index of position in the stack (1 - 10) or the top of stack 0
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_PopPosition
  bool __fc__GC_PopPosition,
  usint index,  ;index of position in the stack (1 - 10) or the top of stack 0
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_PushHeading
  bool __fc__GC_PushHeading,
  usint index,  ;index of position in the stack (1 - 10) or the top of stack 0
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_PopHeading
  bool __fc__GC_PopHeading,
  usint index,  ;index of position in the stack (1 - 10) or the top of stack 0
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_GraphLineArray
  bool __fc__GC_GraphLineArray,
  usint params,  ;optional parameters, that modify graph presentation (constants GGRAPH_LINE_...)
  int length,  ;length of the graph line in pixels
  int numPoints,  ;number of data points
  pointer data,  ;first element of the array of Y coordinates relative to position of the drawing pen
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_GraphLineRealArray
  bool __fc__GC_GraphLineRealArray,
  usint params,  ;optional parameters, that modify graph presentation (constants GGRAPH_LINE_...)
  int length,  ;length of the graph line in pixels
  int numPoints,  ;number of data points
  int height,  ;height of graph in pixels
  real minY,  ;value of graph minimum
  real maxY,  ;value of graph maximum
  pointer data,  ;first element of the array of Y coordinates
  pointer GrData,  ;reference to the canvas buffer
  int a


#defpou __LATENT_INSTANCE GC_GraphLine
  bool __fc__GC_GraphLine,
  usint params,  ;optional parameters, that modify graph presentation (constants GGRAPH_LINE_...)
  int length,  ;length of the graph line in pixels
  int numPoints,  ;number of data points
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_GraphBarsArray
  bool __fc__GC_GraphBarsArray,
  usint params,  ;optional parameters, that modify graph presentation
  int length,  ;distance between centers of the first and the last bar in pixels
  int barWidth,  ;width of bars
  int numPoints,  ;number of data points
  pointer data,  ;first element of the array of Y coordinates relative to position of the drawing pen
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_GraphBarsRealArray
  bool __fc__GC_GraphBarsRealArray,
  usint params,  ;optional parameters, that modify graph presentation
  int length,  ;distance between centers of the first and the last bar in pixels
  int barWidth,  ;width of bars
  int numPoints,  ;number of data points
  int height,  ;height of graph in pixels
  real minY,  ;value of graph minimum
  real maxY,  ;value of graph maximum
  pointer data,  ;first element of the array of Y coordinates
  pointer GrData,  ;reference to the canvas buffer
  int a


#defpou __LATENT_INSTANCE GC_GraphBars
  bool __fc__GC_GraphBars,
  usint params,  ;optional parameters, that modify graph presentation
  int length,  ;distance between centers of the first and the last bar in pixels
  int barWidth,  ;width of bars
  int numPoints,  ;number of data points
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_GraphAddData
  bool __fc__GC_GraphAddData,
  int data,  ;Coordinate Y in pixels of the data point relative to the drawing pen position
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_RadialScale
  bool __fc__GC_RadialScale,
  int radius,  ;radius
  real sAngle,  ;start angle - corresponds to the minimum value
  real eAngle,  ;end angle - corresponds to the maximum value
  int majorTickLen,  ;length of the major tick with label (positive is drawn toward the center)
  int minorTickLen,  ;length of minor tick
  usint labelOffset,  ;space between label and tick
  usint labelDec,  ;number of label decimal places
  real sVal,  ;start value
  real eVal,  ;end value
  real majorStep,  ;step after which render major ticks
  real labelAt,  ;value with label
  usint labelStep,  ;step after which render labels
  usint stepDiv,  ;division step of major ticks for drawing minor ticks
  int params,  ;other parameters (constants GRSCALE ...)
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE GC_LinearScale
  bool __fc__GC_LinearScale,
  int length,  ;length
  int majorTickLen,  ;length of major tick with label (positive is drawn to the left/bottom)
  int minorTickLen,  ;length of minor tick
  int gridLength,  ;length of grid line
  usint labelOffset,  ;space between label and tick
  usint labelDec,  ;number of label decimal places
  real sVal,  ;start value
  real eVal,  ;end value
  real majorStep,  ;step after which render major ticks
  real labelAt,  ;value with label
  usint labelStep,  ;step after which render labels
  usint stepDiv,  ;division step of major ticks for drawing minor ticks
  int params,  ;other parameters (constants GLSCALE ...)
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE RGBA_TO_Color
  udint __fc__RGBA_TO_Color,
  usint R,  ;Red component (0-255)
  usint G,  ;Green component (0-255)
  usint B,  ;Blue component (0-255)
  usint A  ;Transparency (0 - opaque, 255 - transparent)


#defpou __LATENT_INSTANCE Color_TO_RGBA
  bool __fc__Color_TO_RGBA,
  udint color,  ;color stored in format UDINT (16#AABBGGRR)
  pointer R,  ;Red component (0-255)
  pointer G,  ;Green component (0-255)
  pointer B,  ;Blue component (0-255)
  pointer A  ;Transparency (0 - opaque, 255 - transparent)


#defpou __LATENT_INSTANCE Alpha_TO_Color
  udint __fc__Alpha_TO_Color,
  udint color,  ;color stored in format UDINT (16#AABBGGRR)
  usint alpha  ;transparency (0 - opaque, 255 - transparent)


#defpou __LATENT_INSTANCE GC_GraphPolygonRealArray
  bool __fc__GC_GraphPolygonRealArray,
  bool fill,  ;draw filled
  usint numPoints,  ;number of points
  int length,  ;length of X axis in pixels
  int height,  ;lenght of Y axis in pixels
  real minX,  ;value of graph minimum on X axis
  real maxX,  ;value of graph maximum on X axis
  real minY,  ;value of graph minimum on Y axis
  real maxY,  ;value of graph maximum on Y axis
  pointer pointsX,  ;first point in array of X coordinates
  pointer pointsY,  ;first point in array of Y coordinates
  pointer GrData,  ;reference to the canvas buffer
  int a


#defpou __LATENT_INSTANCE GC_GraphLineXYRealArray
  bool __fc__GC_GraphLineXYRealArray,
  int x,  ;coordinate X of the start point
  int y,  ;coordinate Y of the start point
  usint numPoints,  ;number of points
  int length,  ;length of X axis in pixels
  int height,  ;lenght of Y axis in pixels
  real minX,  ;value of graph minimum on X axis
  real maxX,  ;value of graph maximum on X axis
  real minY,  ;value of graph minimum on Y axis
  real maxY,  ;value of graph maximum on Y axis
  pointer pointsX,  ;first point in array of X coordinates
  pointer pointsY,  ;first point in array of Y coordinates
  pointer GrData  ;reference to the canvas buffer


#defpou __LATENT_INSTANCE STRING_TO_UPPER
  uint __fc__STRING_TO_UPPER,
  pointer input


#defpou __LATENT_INSTANCE STRING_TO_LOWER
  uint __fc__STRING_TO_LOWER,
  pointer input


#defpou __LATENT_INSTANCE STRING_HEX_TO_UDINT
  udint __fc__STRING_HEX_TO_UDINT,
  string[81] input,
  string[9] tmp


#defpou __LATENT_INSTANCE DEG_TO_RAD
  lreal __fc__DEG_TO_RAD,
  lreal angle  ;Angle in degrees


#defpou __LATENT_INSTANCE RAD_TO_DEG
  lreal __fc__RAD_TO_DEG,
  lreal angle  ;Angle in radians


#defpou __LATENT_INSTANCE DEGREES_TO_ANGLE
  lreal __fc__DEGREES_TO_ANGLE,
  int degrees,  ;Degrees
  int minutes,  ;Minutes
  int seconds  ;Seconds


#defpou __LATENT_INSTANCE FAHRENHEIT_TO_CELSIUS
  real __fc__FAHRENHEIT_TO_CELSIUS,
  real temp  ;temperature °F


#defpou __LATENT_INSTANCE CELSIUS_TO_FAHRENHEIT
  real __fc__CELSIUS_TO_FAHRENHEIT,
  real temp  ;temperature °C


#defpou __LATENT_INSTANCE ANGLE_TO_DEGREES
  bool __fc__ANGLE_TO_DEGREES,
  lreal angle,  ;angle (degrees)
  pointer degrees,  ;Degrees
  pointer minutes,  ;Minutes
  pointer seconds  ;Seconds


#data byte __Init___ISO8859_2_TO_CP1250_ISO8859_2_TO_CP1250_161_190 = 
  165,162,163,164,188,140,167,168,138,170,141,143,173,142,175,176,185,178,179,180,190,
  156,183,184,154,186,157,159,189,158;
#def  __Const__ISO8859_2_TO_CP1250_ISO8859_2_TO_CP1250_161_190 usint[30] __Init___ISO8859_2_TO_CP1250_ISO8859_2_TO_CP1250_161_190
#defpou __LATENT_INSTANCE ISO8859_2_TO_CP1250
  udint __fc__ISO8859_2_TO_CP1250,
  pointer src,  ;first byte of string for conversion
  pointer ps,
  usint s


#defpou __LATENT_INSTANCE REPLACE_CHAR
  uint __fc__REPLACE_CHAR,
  byte C1,  ;ASCII value of character to be replaced
  byte C2,  ;ASCII value of character used for replacement
  pointer input  ;String where there characters will be replaced


; Global types
#struct  TypeTecoDateTime
  usint year,  ;rok     (poslední dvì èíslice letopoètu)
  usint month,  ;mìsíc   (1 .. 12)
  usint day,  ;den     (1 .. 28/29/30/31)
  usint hour,  ;hodina  (0 .. 23)
  usint min,  ;minuta  (0 .. 59)
  usint sec,  ;sekunda (0 .. 59)
  usint dayOfWeek,  ;den v týdnu (1 = pondìlí, 7 = nedìle)
  uint milisec  ;milisekunda

; Global variables
#data byte __Init____MonthsNamesRFC822 = 
  'J','a','n',$00,'F','e','b',$00,'M','a','r',$00,'A','p','r',$00,'M','a','y',$00,'J',
  'u','n',$00,'J','u','l',$00,'A','u','g',$00,'S','e','p',$00,'O','c','t',$00,'N',
  'o','v',$00,'D','e','c',$00;
#def  MonthsNamesRFC822 string[12] __Init____MonthsNamesRFC822

#defpou __LATENT_INSTANCE DT_TO_DT_RFC822
  string[27] __fc__DT_TO_DT_RFC822,
  date_and_time dateTime,  ;Date and time in IEC DT format
  uint UtcOff,  ;Offset from UTC in minutes
  TypeTecoDateTime tmpDT,
  time tmpTime,
  string[81] Format


#defpou __LATENT_INSTANCE DT_RFC822_TO_DT
  date_and_time __fc__DT_RFC822_TO_DT,
  string[81] dateTime,  ;Date and time according to RFC822 (for example Tue, 28 Aug 2012 7:58 am)
  TypeTecoDateTime tmpDT


#data byte __Init___WindDirectionT115Deg_directionDeg = 
    0,  0,180, 66,  0,  0,  7, 67,  0,  0, 52, 67,  0,  0, 52, 66,  0,  0, 97, 67,  0,
    0,  0,  0,  0,128,157, 67,  0,  0,135, 67;
#def  __Const__WindDirectionT115Deg_directionDeg real[8] __Init___WindDirectionT115Deg_directionDeg
#defpou __LATENT_INSTANCE WindDirectionT115Deg
  real __fc__WindDirectionT115Deg,
  real R


#defpou __LATENT_INSTANCE WindDirectionT115StringCs
  string[3] __fc__WindDirectionT115StringCs,
  real R,  ;Measured resistivity of wind indicator T115
  string[24] direction


#defpou __LATENT_INSTANCE WindDirectionT115StringEn
  string[3] __fc__WindDirectionT115StringEn,
  real R,  ;Measured resistivity of wind indicator T115
  string[24] direction


; Global variables
#data byte __Init____DayNamesRFC1123 = 
  'M','o','n',$00,'T','u','e',$00,'W','e','d',$00,'T','h','u',$00,'F','r','i',$00,'S',
  'a','t',$00,'S','u','n',$00;
#def  DayNamesRFC1123 string[7] __Init____DayNamesRFC1123

#defpou __LATENT_INSTANCE DT_TO_DT_HTTP
  string[81] __fc__DT_TO_DT_HTTP,
  date_and_time dateTime,  ;Date and time in IEC DT format
  uint UtcOff,  ;Offset from UTC in minutes
  date_and_time gmtDT,
  TypeTecoDateTime tmpDT,
  time tmpTime


#defpou __LATENT_INSTANCE UTF8_TO_CP125x
  uint __fc__UTF8_TO_CP125x,
  pointer str,  ;string to be converted from UTF8 to CP125x
  uint codePage  ;code page = 1250,...,1255


#defpou __LATENT_INSTANCE STRING_HEX_TO_BYTE_ARRAY
  uint __fc__STRING_HEX_TO_BYTE_ARRAY,
  uint dataLen,  ;length of input data in bytes
  pointer data,  ;first byte of input hexadecimal number
  pointer out,  ;first byte of output binary data
  udint ptr,
  udint end


#defpou fbMeterPulse
  bool Pulse,  ;Pulses
  bool Reset,  ;Reset pulse counter
  bool Freeze,  ;Stops counting and set frequency to zero
  time Filter,  ;Time constant of filter for frequency
  time MaxPeriod,  ;Maximum period between pulses
  time Base,  ;Base time period for estaminating frequency
  bool PulseOut,  ;Copy of input pulses
  bool Overflow,  ;Pulse counter overflow, set Reset to logical 1
  real Frequency,  ;Frequency [1/Base]
  pointer Counter,  ;Pulse counter (have to be RETAIN!)
  real RawFrequncy,
  time LastPulseTim,
  real PulseLen,
  real LastPulseLen,
  real Exp1,
  time LastFilterTime,
  time OldFilter,
  real MaxPulseLen,
  bool __EDGE_R__Pulse,
  bool __EDGE_R__Reset


#defpou fbMeterCounter
  uint Cnt,  ;Counter of pulses
  bool Reset,  ;Reset pulse counter
  bool Freeze,  ;Stops counting and set frequency to zero
  time Filter,  ;Time constant of filter for frequency
  time MaxPeriod,  ;Maximum period between pulses
  time Base,  ;Base time period for estaminating frequency
  bool Change,  ;Counter of pulses changed value
  bool Overflow,  ;Pulse counter overflow, set Reset to logical 1
  real Frequency,  ;Frequency [1/Base]
  pointer Counter,  ;Pulse counter (have to be RETAIN!)
  real RawFrequncy,
  time LastPulseTim,
  real PulseLen,
  real LastPulseLen,
  real Exp1,
  time LastFilterTime,
  time OldFilter,
  real MaxPulseLen,
  dint Dif,
  dint MaxDif,
  uint CntOld,
  bool Init,
  bool __EDGE_R__Reset


#defpou __LATENT_INSTANCE STRING_TO_REAL_EX
  real __fc__STRING_TO_REAL_EX,
  string[81] input,
  pointer pchar1,
  pointer pchar2,
  string[81] Buffer,
  byte value1  ;pomocna hodnota


#defpou __LATENT_INSTANCE STRING_TO_LREAL_EX
  lreal __fc__STRING_TO_LREAL_EX,
  string[81] input,
  pointer pchar1,
  pointer pchar2,
  string[81] Buffer,
  byte value1  ;pomocna hodnota


#defpou __LATENT_INSTANCE STRING_TO_INT_EX
  int __fc__STRING_TO_INT_EX,
  string[81] input,
  pointer pchar1,
  pointer pchar2,
  string[81] Buffer,
  byte value1  ;pomocna hodnota


#defpou __LATENT_INSTANCE CP125x_TO_UTF8
  udint __fc__CP125x_TO_UTF8,
  udint maxLen,  ;maximum len of output buffer including end zero
  pointer TO_UTF8_128_255,
  pointer cp125x,
  pointer utf8


#defpou __LATENT_INSTANCE CP1250_TO_UTF8
  udint __fc__CP1250_TO_UTF8,
  udint maxLen,  ;maximum len of output buffer including end zero
  dword[128] TO_UTF8_128_255,
  pointer cp1250,
  pointer utf8


#defpou __LATENT_INSTANCE CP1251_TO_UTF8
  udint __fc__CP1251_TO_UTF8,
  udint maxLen,  ;maximum len of output buffer including end zero
  dword[128] TO_UTF8_128_255,
  pointer cp1251,
  pointer utf8


#defpou __LATENT_INSTANCE CP1252_TO_UTF8
  udint __fc__CP1252_TO_UTF8,
  udint maxLen,  ;maximum len of output buffer including end zero
  dword[128] TO_UTF8_128_255,
  pointer cp1252,
  pointer utf8


#defpou __LATENT_INSTANCE CP1253_TO_UTF8
  udint __fc__CP1253_TO_UTF8,
  udint maxLen,  ;maximum len of output buffer including end zero
  dword[128] TO_UTF8_128_255,
  pointer cp1253,
  pointer utf8


#defpou __LATENT_INSTANCE CP1254_TO_UTF8
  udint __fc__CP1254_TO_UTF8,
  udint maxLen,  ;maximum len of output buffer including end zero
  dword[128] TO_UTF8_128_255,
  pointer cp1254,
  pointer utf8


#defpou __LATENT_INSTANCE CP1255_TO_UTF8
  udint __fc__CP1255_TO_UTF8,
  udint maxLen,  ;maximum len of output buffer including end zero
  dword[128] TO_UTF8_128_255,
  pointer cp1255,
  pointer utf8


; Global variables
#def  ICL_SIZE_NAME 24
#def  __Init____ICL_SIZE_NAME ICL_SIZE_NAME
#data byte __Init____ICL_IFOX_PATH = 
  'W','W','W','/','i','F','O','X','/',$00,$00,$00,$00;
#def ICL_IFOX_PATH string __Init____ICL_IFOX_PATH
#def  APP_ICON_default 0
#def  __Init____APP_ICON_default APP_ICON_default
#def  APP_ICON_socket 1
#def  __Init____APP_ICON_socket APP_ICON_socket
#def  APP_ICON_fan 2
#def  __Init____APP_ICON_fan APP_ICON_fan
#def  APP_ICON_heating 3
#def  __Init____APP_ICON_heating APP_ICON_heating
#def  APP_ICON_extLink 1000
#def  __Init____APP_ICON_extLink APP_ICON_extLink
#def  APP_ICON_rain 1001
#def  __Init____APP_ICON_rain APP_ICON_rain
#def  APP_ICON_vlc 1002
#def  __Init____APP_ICON_vlc APP_ICON_vlc
#def  APP_ICON_parking 1003
#def  __Init____APP_ICON_parking APP_ICON_parking
#def  APP_ICON_parkingcar 1004
#def  __Init____APP_ICON_parkingcar APP_ICON_parkingcar
#def  APP_ICON_music 1005
#def  __Init____APP_ICON_music APP_ICON_music
#def  APP_ICON_radarcloud 1006
#def  __Init____APP_ICON_radarcloud APP_ICON_radarcloud
#def  APP_ICON_kodi 1007
#def  __Init____APP_ICON_kodi APP_ICON_kodi

; Global types
#struct  T_SET_RGB_LIGHT
  real level,
  T_RGB_COLOR RGB

; Global types
#def  T_TIME_VAL time

; Global types
#struct  T_TIME_PROG_WEEK
  string[25] name,  ;name of time program
  usint update,  ;pozadavek na update cas. programu z aplikace iFoxtrot
  usint typ,  ;ICL_TPW_TYPE_HEATING, ICL_TPW_TYPE_COOLING, ICL_TPW_TYPE_HEATING_COOLING
  usint numTimes,  ;pocet casovych znacek za den (min 2, max 7)
  usint units,  ;jednotky 0 = °C, 1 = °F
  real[4] heatTemp,  ;teploty topeni pro kazdy rezim casoveho programu
  real[4] coolTemp,  ;teploty chlazeni pro kazdy rezim casoveho programu
  T_TIME_VAL[49] times,  ;casove intervaly casoveho programu
  usint[56] values,  ;rezimy casoveho programu
  date_and_time[2] holiday,  ;dovolena [od, do]
  dword reserved,  ;rezerva
  uint crc  ;crc = 0 ... povel ze strany termostatu a nebo web rozhrani pro ukladani struktury do souboru

; Global types
#struct  T_TIME_PROG_WEEK_STAT
  bool manual,  ;0 = auto, 1 = manual
  bool holiday,  ;1 = is holiday
  bool heat,  ;pozadavek na topeni
  bool cool,  ;pozadavek na chlazeni
  bool units,  ;0 = °C, 1 = °F
  real roomTemp,  ;teplota v mistnosti
  real heatTemp,  ;pozadovana teplota topeni
  real coolTemp,  ;pozadovana teplota chlazeni
  sint mode,  ;zvoleny rezim ... 0 = limit, 1 = ECO, 2 = NIGHT {utlum), 3 = DAY (komfort)
  usint interval,  ;aktualni interval podle cas. programu
  real delta,  ;aktualni delta <-5.0, 5.0>
  word initial  ;initial.0-1	editacni mod - 0 zobrazit data, 1 prochazeni dat, 2 editacni rezim

; Global types
#struct  T_TIME_PROG_WEEK_CONT
  bool nextProg,  ;auto -> manual, manual -> auto
  bool nextMode,  ;zmena rezimu v manualnim modu (ECO <-> NIGHT <-> DAY)
  sint rqMode,  ;zvoleny rezim ... -1 = no request, 0 = limit, 1 = ECO, 2 = NIGHT {utlum), 3 = DAY (komfort)
  bool rqNewDelta,  ;zadost o nastaveni nove hodnoty delta
  real newDelta  ;nova hodnota delta <-5.0, 5.0>

; Global types
#struct  T_TIME_PROG_WEEK_INTERFACE
  T_TIME_PROG_WEEK_STAT stat,
  T_TIME_PROG_WEEK_CONT cont

; Global types
#struct  T_TIME_PROG_WEEK_WEB_SETTINGS
  bool darkBg,  ;:= FALSE = light background, TRUE = dark background
  bool showName,  ;:= TRUE = show name of the week program
  string[25] copyT,  ;:= 'Copy ';
  string[25] selT,  ;:= 'Select dest. day';
  string[33] startH,  ;:= 'Set start of holiday';
  string[33] endH,  ;:= 'Set end of holiday';
  string[35] days,  ;:= ['MON','TUE','WED','THU','FRI','SAT','SUN'];
  string[204] months,  ;:= ['January','February','March','April','May','June','July','August','September','October','November','December'];
  string[50] buttons  ;:= ['HEAT','COOL','HOLIDAY','CANCEL','SAVE']

; Global types
#def  T_TIME_PROG_WEEK_WEB_SETTINGS_CZE T_TIME_PROG_WEEK_WEB_SETTINGS

; Global types
#def  T_TIME_PROG_WEEK_WEB_SETTINGS_ENG T_TIME_PROG_WEEK_WEB_SETTINGS

#defpou fb_iLight
  bool lightOn,  ;light on
  bool lightOff,  ;light off
  bool lightToggle,  ;light toggle
  time timeLimit,  ;duration of light on
  bool webToggle,  ;light toggle from web page
  bool lightReset,  ;central reset of light
  string[25] name,  ;name of light
  bool out,  ;light control
  string[25] GTSAP1_LIGHT_name,
  bool GTSAP1_LIGHT_enable,
  bool GTSAP1_LIGHT_type,
  bool GTSAP1_LIGHT_onoff,
  time stopTime,
  bool __EDGE_R__lightOn,
  bool __EDGE_R__lightOff,
  bool __EDGE_R__lightToggle,
  bool __EDGE_R__webToggle,
  bool __EDGE_R__lightReset


; Global variables
#def  ICL_RELAY_TYPE_ON_OFF 0
#def  __Init____ICL_RELAY_TYPE_ON_OFF ICL_RELAY_TYPE_ON_OFF
#def  ICL_RELAY_TYPE_DIMMING 1
#def  __Init____ICL_RELAY_TYPE_DIMMING ICL_RELAY_TYPE_DIMMING
#def  ICL_RELAY_TYPE_MULTI_STATE 2
#def  __Init____ICL_RELAY_TYPE_MULTI_STATE ICL_RELAY_TYPE_MULTI_STATE

#defpou fb_iRelay
  bool relayOn,  ;relay on
  bool relayOff,  ;relay off
  bool relayToggle,  ;relay toggle
  time pulseTime,  ;pulse duration
  bool webToggle,  ;relay toggle from web page
  bool relayReset,  ;central reset of relay
  uint symbol,  ;icon in iFoxtrot App (APP_ICON_socket, ..)
  string[25] name,  ;name
  bool out,  ;relay control
  bool out_on,  ;Short pulse when out changed from 0 to 1
  bool out_off,  ;Short pulse when out changed from 1 to 0
  udint fbPtr,  ;function block pointer
  string[25] GTSAP1_RELAY_name,  ;name of function block
  bool GTSAP1_RELAY_enable,  ;command to display FB in iFoxtrot App
  usint GTSAP1_RELAY_type,  ;relay type (0=onOff, 1=dimming, 2=multiState)
  uint GTSAP1_RELAY_symbol,  ;icon in iFoxtrot App (APP_ICON_socket, ..)
  bool GTSAP1_RELAY_onoff,  ;relay on/off command from iFoxtrot App
  time stopTime,
  F_TRIG in_Ftrig,
  R_TRIG in_Rtrig,
  bool __EDGE_R__relayOn,
  bool __EDGE_R__relayOff,
  bool __EDGE_R__relayToggle,
  bool __EDGE_R__webToggle,
  bool __EDGE_R__relayReset


#defpou fb_iAction
  bool action,  ;request for action
  bool webAction,  ;request for action from web page
  string[25] name,  ;name
  string[25] GTSAP1_ACTION_name,
  bool GTSAP1_ACTION_enable,
  bool GTSAP1_ACTION_exec,
  bool out,  ;TRUE means make action
  bool __EDGE_R__action,
  bool __EDGE_R__webAction


#defpou fb_Button1
  bool in,  ;button
  time pressTime,  ;time for long click
  bool out,  ;copy of input in
  bool click,  ;short click
  bool press,  ;long click
  F_TRIG in_Ftrig,
  TON in_ton


#defpou fb_iSensorPIR
  bool in,  ;PIR sensor
  time delay,  ;insensitivity
  string[25] name,  ;name
  bool out,  ;detection of motion
  string[25] GTSAP1_PIRSENSOR_name,
  bool GTSAP1_PIRSENSOR_enable,
  bool GTSAP1_PIRSENSOR_value,
  TON timSensor  ;zpozdeni detekce


#defpou fb_iDimmer
  bool lightOn,  ;turn on the light at the last level (short press)
  bool levelUp,  ;increase the level (long press)
  bool lightOff,  ;turn off the light (short press)
  bool levelDw,  ;decrease the level (long press)
  bool lightToggle,  ;toggle of the light
  real minLevel,  ;min level for light [%]
  time offOnRamp,  ;ramp Off/On from min level to 100% [sec]
  time setRamp,  ;ramp Up/Dw from min level to 100%  [sec]
  time timeLimit,  ;maximum time limit light [sec]
  bool webToggle,  ;control lights from web page
  bool lightReset,  ;central switching off
  string[25] name,  ;name of light
  pointer setLevel,  ;last level (this variable have to be RETAIN)
  bool out,  ;indication Off/On
  real level,  ;level 0..100[%]
  real minLev,  ;min level 0..90[%]
  udint fbPtr,  ;function block pointer
  string[25] GTSAP1_LIGHT_name,
  bool GTSAP1_LIGHT_enable,
  bool GTSAP1_LIGHT_type,
  bool GTSAP1_LIGHT_dimtype,
  bool GTSAP1_LIGHT_onoff,
  real GTSAP1_LIGHT_dimlevel,
  real gtsap1_old,  ;pro vyhodnoceni zmeny od mobilni aplikace
  real oldSetLevel,  ;pro vyhodnoceni zmeny retain promenne
  bool toggleOn,  ;pomocna pro zapnuti
  bool toggleOff,  ;pomocna pro vypnuti
  bool lastLevelUp,
  bool lastLevelDw,
  udint lastSL52,
  TON tim,  ;casovac pro omezeni doby osvetleni
  bool __EDGE_R__lightOn,
  bool __EDGE_R__lightOff,
  bool __EDGE_R__lightToggle,
  bool __EDGE_R__webToggle,
  bool __EDGE_R__lightReset


#defpou fb_iDimmerLED
  bool lightOn,  ;turn on the light at the last level (short press)
  bool levelUp,  ;increase the level (long press)
  bool lightOff,  ;turn off the light (short press)
  bool levelDw,  ;decrease the level (long press)
  bool lightToggle,  ;toggle of the light
  real minLevel,  ;min level for light [%]
  time offOnRamp,  ;ramp Off/On from min level to 100% [sec]
  time setRamp,  ;ramp Up/Dw from min level to 100%  [sec]
  time timeLimit,  ;maximum time limit light [sec]
  bool webToggle,  ;control lights from web page
  bool lightReset,  ;central switching off
  string[25] name,  ;name of light
  pointer setLevel,  ;last level (this variable have to be RETAIN)
  bool out,  ;indication Off/On
  real level,  ;level 0..100 [%]
  usint ramp,  ;ramp for On/Off
  real minLev,  ;min level 0..90[%]
  string[25] GTSAP1_LIGHT_name,
  bool GTSAP1_LIGHT_enable,
  bool GTSAP1_LIGHT_type,
  bool GTSAP1_LIGHT_dimtype,
  bool GTSAP1_LIGHT_onoff,
  real GTSAP1_LIGHT_dimlevel,
  real gtap1_old,  ;pro vyhodnoceni zmeny od mobilni aplikace
  real oldSetLevel,  ;pro vyhodnoceni zmeny retain promenne
  bool toggleOn,  ;pomocna pro zapnuti
  bool toggleOff,  ;pomocna pro vypnuti
  bool lastLevelUp,
  bool lastLevelDw,
  udint lastSL52,
  TON tim,  ;casovac pro omezeni doby osvetleni
  bool __EDGE_R__lightOn,
  bool __EDGE_R__lightOff,
  bool __EDGE_R__lightToggle,
  bool __EDGE_R__webToggle,
  bool __EDGE_R__lightReset


#defpou __LATENT_INSTANCE iControl_RGB_COLOR_TO_UDINT
  udint __fc__iControl_RGB_COLOR_TO_UDINT,
  T_RGB_COLOR color


#defpou __LATENT_INSTANCE iControl_UDINT_TO_RGB_COLOR
  T_RGB_COLOR __fc__iControl_UDINT_TO_RGB_COLOR,
  udint color


#defpou fb_iDimmerRGB
  bool lightOn,  ;turn on the light at the last level (short press)
  bool levelUp,  ;increase the level (long press)
  bool lightOff,  ;turn off the light (short press)
  bool levelDw,  ;decrease the level (long press)
  bool lightToggle,  ;toggle of the light
  real minLevel,  ;min level for light [%]
  time offOnRamp,  ;ramp Off/On from min level to 100% [sec]
  time setRamp,  ;ramp Up/Dw from min level to 100%  [sec]
  time timeLimit,  ;maximum time limit light [sec]
  bool webToggle,  ;control lights from web page
  bool lightReset,  ;central switching off
  string[25] name,  ;name of light
  pointer setLight,  ;last level and color (this variable have to be in VAR_GLOBAL RETAIN)
  bool out,  ;indication Off/On
  real levelRed,  ;red level 0..100 [%]
  real levelGreen,  ;green level 0..100 [%]
  real levelBlue,  ;blue level 0..100 [%]
  usint rampRed,  ;red ramp [sec]
  usint rampGreen,  ;green ramp [sec]
  usint rampBlue,  ;blue ramp [sec]
  real minLev,  ;min level 0..90[%]
  string[25] GTSAP1_LIGHT_name,
  bool GTSAP1_LIGHT_enable,
  bool GTSAP1_LIGHT_type,
  bool GTSAP1_LIGHT_dimtype,
  bool GTSAP1_LIGHT_onoff,
  real GTSAP1_LIGHT_dimlevel,
  udint GTSAP1_LIGHT_rgb,
  bool toggleOn,  ;pomocna pro zapnuti
  bool toggleOff,  ;pomocna pro vypnuti
  bool lastLevelUp,
  bool lastLevelDw,
  udint lastSL52,
  real level,  ;svetelnost RGB (jas)
  T_SET_RGB_LIGHT oldSetGTSAP1,
  T_SET_RGB_LIGHT oldSetLight,
  TON tim,  ;casovac pro omezeni doby osvetleni
  real red,
  real green,
  real blue,
  bool __EDGE_R__lightOn,
  bool __EDGE_R__lightOff,
  bool __EDGE_R__lightToggle,
  bool __EDGE_R__webToggle,
  bool __EDGE_R__lightReset


#defpou fb_iJalousie
  bool rotUp,  ;step up
  bool up,  ;move up
  bool rotDw,  ;step down
  bool dw,  ;move down
  bool block,  ;blocking
  bool stop,  ;stop the movement
  bool ctrUp,  ;central up
  bool ctrDw,  ;central down
  bool webUp,  ;activation of "move up" from web interface
  bool webDw,  ;activation of "move down"  from web interface
  time upDwTime,  ;maximum time of movement
  time rotTime,  ;lenght of step [sec]
  time pauseTime,  ;delay between reversation of movement [sec]
  time ctrTime,  ;central movement delay [sec]
  string[25] name,  ;name of the jalousie
  bool outUp,  ;jalousie is moving up
  bool outDw,  ;jalousie is moving down
  bool sig,  ;jalousie is moving
  bool sigUp,  ;jalousie is up
  bool sigDw,  ;jalousie is down
  usint pd,  ;impulse length for rotating jalousie
  usint posit,  ;jalousie position [%]
  udint fbPtr,  ;function block pointer
  string[25] GTSAP1_SHUTTER_name,
  bool GTSAP1_SHUTTER_enable,
  bool GTSAP1_SHUTTER_up,
  bool GTSAP1_SHUTTER_down,
  bool GTSAP1_SHUTTER_run,
  bool GTSAP1_SHUTTER_uppos,
  bool GTSAP1_SHUTTER_downpos,
  bool GTSAP1_SHUTTER_up_control,
  bool GTSAP1_SHUTTER_down_control,
  bool GTSAP1_SHUTTER_rotup_control,
  bool GTSAP1_SHUTTER_rotdown_control,
  time cas_stop,
  bool pauseUp,
  bool pauseDw,
  bool longUpDw,
  TOF timUp,
  TOF timDw,
  bool centrUp,
  bool centrUpH,
  bool centrDw,
  bool centrDwH,
  time centrDelay,
  usint lpd,
  time positTim,
  bool __EDGE_R__rotUp,
  bool __EDGE_R__up,
  bool __EDGE_R__rotDw,
  bool __EDGE_R__dw,
  bool __EDGE_R__stop,
  bool __EDGE_R__ctrUp,
  bool __EDGE_R__ctrDw,
  bool __EDGE_R__webUp,
  bool __EDGE_R__webDw


#defpou fb_TimeAction
  bool enable,  ;povolení aktivace
  time timeOfAction1,  ;time of 1st action
  time timeOfAction2,  ;time of 2nd action
  bool out1,  ;output for 1st action
  bool out2,  ;output for 2nd action
  R_TRIG out1Trgr,
  R_TRIG out2Trgr


#defpou fb_JalAlarm
  bool fire,  ;fire alert: move up and block jalousie inputs
  bool ice,  ;ice alert: stop the movement and block jalousie inputs
  bool wind,  ;wind alert: move up and block jalousie inputs
  bool glass,  ;glass breaking alert: move down
  bool blockJal,  ;blocking of jalousie inputs
  bool stopJal,  ;stop the movement
  bool ctrUpJal,  ;central movement up
  bool ctrDwJal,  ;central movement down
  bool block,  ;blocking of jalousie inputs, connect with jalousie control
  bool stop,  ;stop the movement, connect with jalousie cotnrol
  bool ctrUp,  ;central movement up, connect with jalousie cotnrol
  bool ctrDw,  ;central movement down, connect with jalousie cotnrol
  R_TRIG fire_Rtrig,
  R_TRIG ice_Rtrig,
  R_TRIG wind_Rtrig,
  R_TRIG glass_Rtrig,
  bool fireH,
  bool iceH,
  bool windH,
  bool glassH,
  bool __EDGE_R__stopJal,
  bool __EDGE_R__ctrUpJal,
  bool __EDGE_R__ctrDwJal


#defpou fb_RndPulse
  bool enable,  ;Enables the FB
  time sTime,  ;Start of the generating (time)
  time eTime,  ;End of the generating (time)
  time minOffT,  ;Minimal time of "0"
  time minOnT,  ;Minimal time of "1"
  time maxLenght,  ;Maximal lenght of "1" and "0".
  bool out,  ;randomly generated output signal
  bool outOn,  ;rising edge of out
  bool outOff,  ;falling edge of out
  bool tOffStart,
  TON timerOff,
  TON timerOn,
  real bottleneck,
  usint i,
  time duration,
  time[2] cas,
  time dTime,
  R_TRIG trigOn,
  F_TRIG trigOff,
  dint seed,
  bool init_seed,
  dint k,
  real random


; Global variables
#data byte __Init____ICL_SCENE_PREFIX = 
  'S','C','N','_',$00;
#def ICL_SCENE_PREFIX string __Init____ICL_SCENE_PREFIX
#data byte __Init____ICL_SCENE_FORMAT = 
  '%','0','4','X','.','s','c','?',$00;
#def ICL_SCENE_FORMAT string __Init____ICL_SCENE_FORMAT
#data byte __Init____ICL_SCENE_ERR1 = 
  'N','a','m','e',' ','o','f',' ','s','c','e','n','e',' ','i','s',' ','e','m','p','t',
  'y','!',$00;
#def ICL_SCENE_ERR1 string __Init____ICL_SCENE_ERR1
#data byte __Init____ICL_SCENE_ERR2 = 
  ' ','n','o','t',' ','f','o','u','n','d','!',$00;
#def ICL_SCENE_ERR2 string __Init____ICL_SCENE_ERR2

#defpou fb_iScene4
  bool scene1On,  ;set up scene 1
  bool scene2On,  ;set up scene 2
  bool scene3On,  ;set up scene 3
  bool scene4On,  ;set up scene 4
  bool webScene1On,  ;set up scene 1 from web page
  bool webScene2On,  ;set up scene 2 from web page
  bool webScene3On,  ;set up scene 3 from web page
  bool webScene4On,  ;set up scene 4 from web page
  string[25] name,  ;name of scene
  bool busy,  ;block is busy
  string[81] lastErr,  ;last error description
  string[13] file,  ;name of json file with description of scene
  usint scene,  ;active scene
  udint fbPtr,  ;function block pointer
  string[25] GTSAP1_SCENE_name,
  string[25] GTSAP1_SCENE_file,
  bool GTSAP1_SCENE_enable,
  usint GTSAP1_SCENE_num,
  bool GTSAP1_SCENE_set1,
  bool GTSAP1_SCENE_set2,
  bool GTSAP1_SCENE_set3,
  bool GTSAP1_SCENE_set4,
  bool rqScene1,
  bool rqScene2,
  bool rqScene3,
  bool rqScene4,
  bool rqScene,
  fbJsonFileParser JsonParser,  ;FB pro pársování souboru
  TJsonInfo json,  ;struktura pro výsledky pársování
  string[25] fileName,
  usint extNum,
  bool __EDGE_R__scene1On,
  bool __EDGE_R__scene2On,
  bool __EDGE_R__scene3On,
  bool __EDGE_R__scene4On,
  bool __EDGE_R__webScene1On,
  bool __EDGE_R__webScene2On,
  bool __EDGE_R__webScene3On,
  bool __EDGE_R__webScene4On


#defpou fb_iScene8
  bool scene1On,  ;set up scene 1
  bool scene2On,  ;set up scene 2
  bool scene3On,  ;set up scene 3
  bool scene4On,  ;set up scene 4
  bool scene5On,  ;set up scene 5
  bool scene6On,  ;set up scene 6
  bool scene7On,  ;set up scene 7
  bool scene8On,  ;set up scene 8
  bool webScene1On,  ;set up scene 1 from web page
  bool webScene2On,  ;set up scene 2 from web page
  bool webScene3On,  ;set up scene 3 from web page
  bool webScene4On,  ;set up scene 4 from web page
  bool webScene5On,  ;set up scene 5 from web page
  bool webScene6On,  ;set up scene 6 from web page
  bool webScene7On,  ;set up scene 7 from web page
  bool webScene8On,  ;set up scene 8 from web page
  string[25] name,  ;name of scene
  bool busy,  ;block is busy
  string[81] lastErr,  ;last error description
  string[13] file,  ;name of json file with description of scene
  usint scene,  ;active scene
  udint fbPtr,  ;function block pointer
  string[25] GTSAP1_SCENE_name,
  string[25] GTSAP1_SCENE_file,
  bool GTSAP1_SCENE_enable,
  usint GTSAP1_SCENE_num,
  bool GTSAP1_SCENE_set1,
  bool GTSAP1_SCENE_set2,
  bool GTSAP1_SCENE_set3,
  bool GTSAP1_SCENE_set4,
  bool GTSAP1_SCENE_set5,
  bool GTSAP1_SCENE_set6,
  bool GTSAP1_SCENE_set7,
  bool GTSAP1_SCENE_set8,
  bool rqScene1,
  bool rqScene2,
  bool rqScene3,
  bool rqScene4,
  bool rqScene5,
  bool rqScene6,
  bool rqScene7,
  bool rqScene8,
  bool rqScene,
  fbJsonFileParser JsonParser,  ;FB pro pársování souboru
  TJsonInfo json,  ;struktura pro výsledky pársování
  string[25] fileName,
  usint extNum,
  bool __EDGE_R__scene1On,
  bool __EDGE_R__scene2On,
  bool __EDGE_R__scene3On,
  bool __EDGE_R__scene4On,
  bool __EDGE_R__scene5On,
  bool __EDGE_R__scene6On,
  bool __EDGE_R__scene7On,
  bool __EDGE_R__scene8On,
  bool __EDGE_R__webScene1On,
  bool __EDGE_R__webScene2On,
  bool __EDGE_R__webScene3On,
  bool __EDGE_R__webScene4On,
  bool __EDGE_R__webScene5On,
  bool __EDGE_R__webScene6On,
  bool __EDGE_R__webScene7On,
  bool __EDGE_R__webScene8On


#defpou fb_iWebConf
  string[81] link,  ;', ...) ! case sensitive*)
  uint symbol,  ;icon name of application (rain, vlc, parking, parkingcar, music, radarcloud, kodi)
  string[25] name,  ;name of block (iFoxtrot icon)
  string[25] GTSAP1_WEBCONF_name,
  string[81] GTSAP1_WEBCONF_url,  ;napr. index.xml
  bool GTSAP1_WEBCONF_enable,
  uint GTSAP1_WEBCONF_symbol  ;viz konstanty APP_ICON_extLink, APP_ICON_rain, APP_ICON_vlc, APP_ICON_parking, APP_ICON_parkingcar, APP_ICON_music, APP_ICON_radarcloud, APP_ICON_kodi


#defpou fb_iWebCamera
  string[81] url,  ;URL address of web camera
  string[25] name,  ;name of block (iFoxtrot icon)
  string[25] GTSAP1_CAMERA_name,
  string[81] GTSAP1_CAMERA_url,  ;posta.mukolin.cz/axis-cgi/jpg/image.cgi*)
  bool GTSAP1_CAMERA_enable


#defpou fb_iSocket
  bool socketOn,  ;socket on
  bool socketOff,  ;socket off
  bool socketToggle,  ;socket toggle
  time pulseTime,  ;pulse duration
  bool webToggle,  ;socket toggle from web page
  bool socketReset,  ;central reset of socket
  string[25] name,  ;name
  bool out,  ;socket control
  string[25] GTSAP1_SOCKET_name,
  bool GTSAP1_SOCKET_enable,
  bool GTSAP1_SOCKET_onoff,
  time stopTime,
  bool __EDGE_R__socketOn,
  bool __EDGE_R__socketOff,
  bool __EDGE_R__socketToggle,
  bool __EDGE_R__webToggle,
  bool __EDGE_R__socketReset


; Global variables
#def  ICL_DISPLAY_TYPE_ON_OFF 0
#def  __Init____ICL_DISPLAY_TYPE_ON_OFF ICL_DISPLAY_TYPE_ON_OFF
#def  ICL_DISPLAY_TYPE_VALUE 1
#def  __Init____ICL_DISPLAY_TYPE_VALUE ICL_DISPLAY_TYPE_VALUE

#defpou fb_iDisplay_Val
  real value,  ;value (REAL variable)
  string[9] unit,  ;units (kWh, km/h, ...)
  int precision,  ;size of fraction part
  string[81] link,  ;URL address of web page
  uint symbol,  ;icon in iFoxtrot App (APP_ICON_socket, ..)
  string[25] name,  ;name
  real out,  ;copy 'value'
  string[25] GTSAP1_DISPLAY_name,  ;Name of function block
  bool GTSAP1_DISPLAY_enable,  ;Icon in iFoxtrot App (APP_ICON_socket, ..)
  bool GTSAP1_DISPLAY_edit,  ;Indication of editable value or not
  usint GTSAP1_DISPLAY_type,  ;Display type (0=onOff, 1=real value)
  uint GTSAP1_DISPLAY_symbol,  ;Command to display FB in iFoxtrot App
  real GTSAP1_DISPLAY_value,  ;Value to display
  string[9] GTSAP1_DISPLAY_unit,  ;Measurement unit (%,bar,C/F ...)
  int GTSAP1_DISPLAY_precision,  ;Precision of fraction part of Value
  string[81] GTSAP1_DISPLAY_url  ;Link (URL) to web page (grapth, history ...)


#defpou fb_iDisplay_Edit
  string[9] unit,  ;units (kWh, km/h, ...)
  int precision,  ;size of fraction part
  real limitUp,  ;Upper limit of 'Value'
  real limitDw,  ;Lower limit of 'Value'
  real step,  ;Value of one step increment or decrement from iFoxtrot
  bool webUp,  ;inc value from web interface
  bool webDw,  ;dec value from web interface
  string[81] link,  ;URL address of web page
  uint symbol,  ;icon in iFoxtrot App (APP_ICON_socket, ..)
  string[25] name,  ;name of function block in iFoxtrot App
  pointer value,  ;value (REAL variable)
  real out,  ;copy of 'Value'
  string[25] GTSAP1_DISPLAY_name,  ;Name of function block
  bool GTSAP1_DISPLAY_enable,  ;Command to display FB in iFoxtrot App
  bool GTSAP1_DISPLAY_edit,  ;Indication of editable value or not
  usint GTSAP1_DISPLAY_type,  ;Display type (0=onOff, 1= real/uint value)
  uint GTSAP1_DISPLAY_symbol,  ;Icon in iFoxtrot App (APP_ICON_socket, ..)
  real GTSAP1_DISPLAY_value,  ;Value to display
  string[9] GTSAP1_DISPLAY_unit,  ;Measurement unit (%,bar,C/F ...)
  int GTSAP1_DISPLAY_precision,  ;Precision of fraction part of Value
  string[81] GTSAP1_DISPLAY_url,  ;Link (URL) to web page (graph, history ...)
  bool GTSAP1_DISPLAY_incValue,  ;Command from App iFoxtrot to increase desired value
  bool GTSAP1_DISPLAY_decValue,  ;Command from App iFoxtrot to decrease desired value
  real GTSAP1_DISPLAY_valueSet,  ;tuhle promennou zapise iFoxtrot do JSON souboru kdyz je fb_iDisplay_Val_edit zarazen do sceny
  bool __EDGE_R__webUp,
  bool __EDGE_R__webDw


#defpou fb_iDisplay_OnOff
  bool value,  ;value (BOOL variable)
  uint symbolOn,  ;icon in iFoxtrot App (APP_ICON_socket, ..)
  uint symbolOff,  ;icon in iFoxtrot App (APP_ICON_socket, ..)
  string[25] name,  ;name
  bool out,  ;copy of 'Value'                                   kopie 'Value'
  string[25] GTSAP1_DISPLAY_name,  ;name of function block
  bool GTSAP1_DISPLAY_enable,  ;command to display FB in iFoxtrot App
  bool GTSAP1_DISPLAY_edit,
  usint GTSAP1_DISPLAY_type,  ;display type (0=onOff, 1= real value)
  uint GTSAP1_DISPLAY_symbol,  ;icon in iFoxtrot App (APP_ICON_socket, ..)
  bool GTSAP1_DISPLAY_onOff  ;Value (state) to display


#defpou fb_iSensorTemp
  real in,  ;temperature (REAL variable)
  real offset,  ;correction of temperature
  time filterTime,  ;time constant of filter
  string[25] name,  ;name
  real out,  ;out := filter( in + offset)
  string[25] GTSAP1_DISPLAY_name,  ;Name of function block
  bool GTSAP1_DISPLAY_enable,  ;Icon in iFoxtrot App (APP_ICON_socket, ..)
  bool GTSAP1_DISPLAY_edit,  ;Indication of editable value or not
  usint GTSAP1_DISPLAY_type,  ;Display type (0=onOff, 1=real value)
  uint GTSAP1_DISPLAY_symbol,  ;Command to display FB in iFoxtrot App
  real GTSAP1_DISPLAY_value,  ;Value to display
  string[9] GTSAP1_DISPLAY_unit,  ;Measurement unit (%,bar,C/F ...)
  int GTSAP1_DISPLAY_precision,  ;Precision of fraction part of Value
  fbFirstOrder filter  ;filtr prvniho radu


#defpou fbHolidayCalendar
  bool vis,
  bool refr,
  T_TIME_PROG_WEEK_WEB_SETTINGS webGuiSettings,
  bool butCancel,
  bool butSave,
  bool canvasOK,
  uint canvasLen,
  pointer canvasData,
  pointer startHoliday,
  pointer endHoliday,
  udint fontColor,
  udint selectColor,
  R_TRIG visTrig,
  bool wasTouch,
  TTecoDateTime tecoDT,
  date_and_time startDate,
  uint holIndex,
  date_and_time[2] holiday,
  date today,
  int i,
  date_and_time d,
  usint m,
  bool __EDGE_R__refr


; Global variables
#def  ICL_TPW_TYPE_HEATING 1
#def  __Init____ICL_TPW_TYPE_HEATING ICL_TPW_TYPE_HEATING
#def  ICL_TPW_TYPE_COOLING 2
#def  __Init____ICL_TPW_TYPE_COOLING ICL_TPW_TYPE_COOLING
#def  ICL_TPW_TYPE_HEATING_COOLING 3
#def  __Init____ICL_TPW_TYPE_HEATING_COOLING ICL_TPW_TYPE_HEATING_COOLING
#data byte __Init____ICL_TPW_PREFIX = 
  'W','T','P','_',$00;
#def ICL_TPW_PREFIX string __Init____ICL_TPW_PREFIX
#data byte __Init____ICL_TPW_FORMAT = 
  '%','0','4','X','.','J','S','N',$00;
#def ICL_TPW_FORMAT string __Init____ICL_TPW_FORMAT
#data byte __Init____ICL_TPW_JSN_EXT = 
  '.','J','S','N',$00,$00,$00,$00,$00;
#def ICL_TPW_JSN_EXT string __Init____ICL_TPW_JSN_EXT
#data byte __Init____ICL_TPW_APP_EXT = 
  '.','A','P','P',$00,$00,$00,$00,$00;
#def ICL_TPW_APP_EXT string __Init____ICL_TPW_APP_EXT
#data byte __Init____ICL_TPW_BAK_EXT = 
  '.','B','A','K',$00,$00,$00,$00,$00;
#def ICL_TPW_BAK_EXT string __Init____ICL_TPW_BAK_EXT
#data byte __Init____ICL_TPW_TMP_EXT = 
  '.','T','M','P',$00,$00,$00,$00,$00;
#def ICL_TPW_TMP_EXT string __Init____ICL_TPW_TMP_EXT
#data byte __Init____ICL_TPW_ERR1 = 
  'N','a','m','e',' ','o','f',' ','p','r','o','g','r','a','m',' ','i','s',' ','e','m',
  'p','t','y','!',$00,$00;
#def ICL_TPW_ERR1 string __Init____ICL_TPW_ERR1
#data byte __Init____ICL_TPW_ERR2 = 
  ' ','n','o','t',' ','f','o','u','n','d','!',$00;
#def ICL_TPW_ERR2 string __Init____ICL_TPW_ERR2
#data byte __Init____ICL_TPW_ERR3 = 
  'C','o','r','r','u','p','t','e','d',' ','J','S','O','N',' ','f','i','l','e',$00;
#def ICL_TPW_ERR3 string __Init____ICL_TPW_ERR3
#data byte __Init____ICL_TPW_ERR4 = 
  'N','o',' ','t','i','m','e',' ','p','r','o','g','r','a','m',' ','i','n',' ','J','S',
  'O','N',$00;
#def ICL_TPW_ERR4 string __Init____ICL_TPW_ERR4
#data byte __Init____ICL_TPW_KEYWORD = 
  't','i','m','e','P','r','o','g','W','e','e','k','D','a','t','a',$00;
#def ICL_TPW_KEYWORD string __Init____ICL_TPW_KEYWORD

#defpou __LATENT_INSTANCE AddTextToRecord
  udint __fc__AddTextToRecord,
  string[81] text,
  pointer ptrRec,
  uint lenRec


#data byte __Init___fc_TimeProgWeek_LoadDefault_initTimeProg24x7data = 
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
    0,  0,  0,  0,  0,  3,  5,  0,  0,  0,160, 64,  0,  0,152, 65,  0,  0,168, 65,
    0,  0,184, 65,  0,  0,  4, 66,  0,  0,224, 65,  0,  0,200, 65,  0,  0,192, 65,
    0,  0,  0,  0,160, 82, 87,  1,  0,116,183,  1,128,249, 55,  3,128,144,129,  4,
    0, 92, 38,  5,  0, 92, 38,  5,  0,  0,  0,  0,160, 82, 87,  1,  0,116,183,  1,
  128,249, 55,  3,128,144,129,  4,  0, 92, 38,  5,  0, 92, 38,  5,  0,  0,  0,  0,
  160, 82, 87,  1,  0,116,183,  1,128,249, 55,  3,128,144,129,  4,  0, 92, 38,  5,
    0, 92, 38,  5,  0,  0,  0,  0,160, 82, 87,  1,  0,116,183,  1,128,249, 55,  3,
  128,144,129,  4,  0, 92, 38,  5,  0, 92, 38,  5,  0,  0,  0,  0,160, 82, 87,  1,
    0,116,183,  1,128,249, 55,  3,128,144,129,  4,  0, 92, 38,  5,  0, 92, 38,  5,
    0,  0,  0,  0, 32, 65,142,  1,  0,127,184,  4,  0, 92, 38,  5,  0, 92, 38,  5,
    0, 92, 38,  5,  0, 92, 38,  5,  0,  0,  0,  0, 32, 65,142,  1,  0,127,184,  4,
    0, 92, 38,  5,  0, 92, 38,  5,  0, 92, 38,  5,  0, 92, 38,  5,  1,  2,  3,  2,
    3,  1,  1,  1,  1,  2,  3,  2,  3,  1,  1,  1,  1,  2,  3,  2,  3,  1,  1,  1,
    1,  2,  3,  2,  3,  1,  1,  1,  1,  2,  3,  2,  3,  1,  1,  1,  1,  2,  3,  2,
    1,  1,  1,  1,  1,  2,  3,  2,  1,  1,  1,  1,  0,  0,  0,  0,  0,  0,  0,  0,
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0;
#def __Const__fc_TimeProgWeek_LoadDefault_initTimeProg24x7data T_TIME_PROG_WEEK __Init___fc_TimeProgWeek_LoadDefault_initTimeProg24x7data
#defpou __LATENT_INSTANCE fc_TimeProgWeek_LoadDefault
  bool __fc__fc_TimeProgWeek_LoadDefault,
  bool units,  ;0 = °C, 1 = °F
  pointer timeProgWeekData


#defpou fb_TimeProgWeek_LoadDataFromFile
  bool exec,
  bool units,  ;0 = °C, 1 = °F
  string[25] fileName,
  string[81] timeProgName,  ;jmeno promenne s casovym programem
  udint timeProgAdr,  ;adresa promenne s casovym programem
  bool done,
  bool busy,
  string[81] lastErr,  ;last error description
  bool rqSave,  ;ulozit po nacteni
  bool err,
  fbJsonFileParser JsonParser,  ;FB pro pársování souboru
  TJsonInfo json,  ;struktura pro výsledky pársování
  bool res,
  bool isTimeProg24x7


#defpou __LATENT_INSTANCE ICL_GetVarNameByAdr
  string[256] __fc__ICL_GetVarNameByAdr,
  udint varAdr,  ;address of variable
  udint varSize  ;size of variable (number of bytes)


#defpou fb_TimeProgWeek_Basic
  usint typ,  ;time program type : ICL_TPW_TYPE_HEATING, ICL_TPW_TYPE_COOLING, ICL_TPW_TYPE_HEATING_COOLING
  usint numTimes,  ;number of time marks during the day
  bool units,  ;0 = °C, 1 = °F
  string[25] name,  ;name of time program
  udint adrTimeProg,  ;address of variable timeProgWeekData
  bool busy,  ;block is busy
  string[81] lastErr,  ;last error description
  string[13] file,  ;name of json file with description of time program
  T_TIME_PROG_WEEK WeekTimeProg24x7data_temp,
  fb_TimeProgWeek_LoadDataFromFile TimeProgWeek_LoadDataFromFile,
  CreatePath fb_CreatePath,
  WriteToFile fb_WriteToFile,
  ReadFromFile fb_ReadFromFile,
  TFileInfo fileDesc,  ;struktura s informacemi o souboru
  usint[1024] jsonBuf,  ;buffer pro sestaveni json souboru
  string[25] fileName,
  string[25] fileName_app,
  string[25] fileName_tmp,
  string[25] fileName_bak,
  bool extSaveRq,
  bool extCopyReadRq,
  bool extCopyWriteRq,
  bool extSaveToBAKRq,
  bool extSaveToJSNRq,
  bool extPowerUpLoadRq,
  bool extPowerUpLoadJSNRq,
  bool extPowerUpLoadBAKRq,
  bool extSaveNewDataToJSNRq,
  bool extSaveNewDataToBAKRq,
  bool extLoadTempDataRq,
  bool last_units,
  uint last_crc,
  pointer ptr,
  pointer ptrTimeProgWeekData,
  pointer ptr_str,
  uint crc,
  string[81] varBaseName,
  string[21] iFoxPath


#defpou __LATENT_INSTANCE CustomTimeProgTimToPos
  int __fc__CustomTimeProgTimToPos,
  time tim,
  int width


#defpou __LATENT_INSTANCE CustomTimeProgPosToTim
  time __fc__CustomTimeProgPosToTim,
  int pos,
  int width,
  real lim,
  real w,
  time t


#data byte __Init___fb_TimeProgWeek_Web_C_HEAT_COLOR = 
  255,202, 40,  0,251,140,  0,  0,255, 87, 34,  0,229, 57, 53,  0;
#def  __Const__fb_TimeProgWeek_Web_C_HEAT_COLOR udint[4] __Init___fb_TimeProgWeek_Web_C_HEAT_COLOR
#data byte __Init___fb_TimeProgWeek_Web_C_COOL_COLOR = 
  128,222,234,  0, 41,182,246,  0, 30,136,229,  0, 57, 73,171,  0;
#def  __Const__fb_TimeProgWeek_Web_C_COOL_COLOR udint[4] __Init___fb_TimeProgWeek_Web_C_COOL_COLOR
#defpou fb_TimeProgWeek_Web
  udint adrTimeProg,
  pointer webGuiSettings,
  pointer canvasData,
  bool canvasOK,
  uint canvasLen,
  usint numTimes,  ;pocet casovych znacek za den
  int selLine,
  int selBlock,
  int selButton1,
  real C_delta,
  time endTime,
  pointer actTim,
  pointer actTim2,
  pointer actTim3,
  bool heatCool,  ;0 heating, 1 cooling
  bool wasTouch,
  bool rqSave,
  bool repaint,
  bool saveProg,
  bool counterInit,
  bool flgHoliday,
  int copy,
  TON counterTON,
  T_TIME_PROG_WEEK time_prog,  ;kopie casoveho programu
  pointer ptr_time_prog,  ;ptr na casovy program
  usint disp,
  int corrDist,
  int x_time,
  int lastTouchX,
  int lastTouchY,
  uint lastCRC,
  fbHolidayCalendar HolidayCalendar,
  TCanvasPoint[3] triangle,
  TCanvasPoint[3] triangleUP,
  TCanvasPoint[3] triangleDW,
  uint canvasMax


#defpou fb_TimeProgWeek_Control
  bool onOff,  ;rizeni zapnute/vypnute
  bool manPriority,  ;0 = rezim manual skonci pri 1.zmene casoveho programu, 1 = rezim manual se ukonci pouze prepnutim do auto
  real roomTemp,  ;teplota v mistnosti
  real hyst,  ;hystereze (necitlivost vystupu heat/cool) <0.0,0.5>
  bool webNextProg,  ;auto -> manual, manual -> auto
  bool webNextMode,  ;zmena rezimu v manualnim modu
  bool webIncDelta,
  bool webDecDelta,
  udint adrTimeProg,
  pointer settings,
  T_TIME_PROG_WEEK_STAT status,  ;stav rizeni
  string[25] GTSAP1_TPW_name,
  bool GTSAP1_TPW_enable,
  usint GTSAP1_TPW_type,  ;typ casoveho programu
  string[25] GTSAP1_TPW_file,
  uint GTSAP1_TPW_crc,  ;last valid crc of time program
  bool GTSAP1_TPW_update,  ;command from app to update week program data from file
  bool GTSAP1_TPW_manual,  ;0 = auto, 1 = manual
  bool GTSAP1_TPW_holiday,  ;0 = normal control, 1 = holiday (=> ECO mode)
  bool GTSAP1_TPW_heat,  ;pozadavek na topeni
  bool GTSAP1_TPW_cool,  ;pozadavek na chlazeni
  real GTSAP1_TPW_roomTemp,  ;teplota v mistnosti
  real GTSAP1_TPW_heatTemp,  ;pozadovana teplota topeni
  real GTSAP1_TPW_coolTemp,  ;pozadovana teplota chlazeni
  sint GTSAP1_TPW_mode,  ;zvoleny rezim ... 0 = limit, 1 = ECO, 2 = NIGHT {utlum), 3 = DAY (komfort)
  real GTSAP1_TPW_delta,  ;aktualni delta <-5.0, 5.0>
  bool GTSAP1_TPW_nextProg,  ;auto -> manual, manual -> auto
  bool GTSAP1_TPW_nextMode,  ;zmena rezimu v manualnim modu (ECO <-> NIGHT <-> DAY)
  bool GTSAP1_TPW_incDelta,  ;+0.5
  bool GTSAP1_TPW_decDelta,  ;-0.5
  sint GTSAP1_TPW_manualSet,  ;0 = auto, 1 = manual, -1=nenastaveno
  sint GTSAP1_TPW_modeSet,  ;0 = limit, 1 = ECO, 2 = NIGHT {utlum), 3 = DAY (komfort), -1=nenastaveno
  bool init,
  bool lastManual,
  usint numTimes,
  usint lastInterval,
  pointer ptr_time_prog,
  sint incMode,
  bool __EDGE_R__webNextProg,
  bool __EDGE_R__webNextMode,
  bool __EDGE_R__webIncDelta,
  bool __EDGE_R__webDecDelta


; Global types
#struct  TCIB_CRC0011R_iTHERM_iRH
  real iTHERM,
  usint iRH

; Global types
#def  TCIB_PAGING_ARRAY byte[5]

; Global types
#struct  TCIB_C_RC_0011R_IN
  usint BUTTONS,
  TCIB_CRC0011R_iTHERM_iRH iTHERM_iRH,
  real eTHERM,
  TCIB_PAGING_ARRAY PAGING

; Global types
#def  TCIB_CRC0011R_DATA int[4]

; Global types
#def  TCIB_CRC0011R_DATA_TYPE byte[4]

; Global types
#struct  TCIB_CRC0011R_VAL
  TCIB_CRC0011R_DATA DATA,
  TCIB_CRC0011R_DATA_TYPE DATA_TYPE

; Global types
#struct  TCIB_CRC0011R_ICO
  bool BUTT_EDIT,
  bool BUTT_ESC,
  bool BUTT_OK,
  bool BUTT_DOWN,
  bool BUTT_UP,
  bool MODE_SUN,
  bool MODE_MOON,
  bool MODE_ECO,
  bool PROG_AUTOMAT,
  bool PROG_HAND,
  bool PROG_HOLIDAY,
  bool TEMP_INDOOR,
  bool TEMP_OUTDOOR,
  bool TEMP,
  bool FAN_0,
  bool FAN_1,
  bool FAN_2,
  bool FAN_3,
  bool FAN_AUTOMAT,
  bool HEATING,
  bool COOLING,
  bool WINDOW,
  bool LOCK,
  bool WARNING,
  bool DAY_1,
  bool DAY_2,
  bool DAY_3,
  bool DAY_4,
  bool DAY_5,
  bool DAY_6,
  bool DAY_7,
  bool LINE,
  bool RADIO_0,
  bool RADIO_1,
  bool RADIO_2,
  bool RADIO_3,
  bool RADIO_BATTERY,
  bool MAIN_VAL_C,
  bool MAIN_VAL_F,
  bool MAIN_VAL_RH,
  bool MAIN_VAL_PERC,
  bool MAIN_VAL_DOT,
  bool SEC_VAL_C,
  bool SEC_VAL_F,
  bool SEC_VAL_RH,
  bool SEC_VAL_PERC,
  bool SEC_VAL_COLON,
  bool SEC_VAL_DOT,
  bool SEC_VAL_DOT2,
  bool SEC_VAL_DOT3,
  bool SEC_VAL_AM,
  bool SEC_VAL_PM,
  bool ARROW,
  bool dummy53,
  bool dummy54,
  bool dummy55

; Global types
#struct  TCIB_C_RC_0011R_OUT
  TCIB_CRC0011R_VAL VAL,
  TCIB_CRC0011R_ICO ICO,
  TCIB_PAGING_ARRAY PAGING

#defpou fb_TimeProgWeek_C_RC_0011R
  udint adrTimeProg,  ;adresa timeProgWeekData
  usint fan,  ;ventilace
  pointer settings,  ;nastaveni modulu
  pointer C_RC_in,  ;vstupni struktura (data z modulu)
  pointer C_RC_out,  ;vystupni struktura (data pro modul)
  usint warning,  ;chyba
  TCIB_C_RC_0011R_IN C_RC_inL,  ;predchozi vstupni struktura
  T_TIME_PROG_WEEK_INTERFACE settingsL,  ;predchozi nastaveni
  T_TIME_PROG_WEEK time_progL,  ;predchozi WTP
  pointer ptr_time_prog,  ;pointer na WTP
  TTecoDateTime dateTime,  ;cas a datum
  usint fanL,  ;ventilace (fanCoil)
  usint warningL,  ;chyba
  usint confirmWait,  ;priznak cekani na potvrzeni prijmu (odpoved)
  usint noConfirmCnt,  ;mereni, pokud modul nedostal odpoved
  usint confirmType,  ;priznak naposledy odeslanych dat
  usint confirmCnt,  ;citac odpovedi (pro detekci zmeny - inkrementuje se po kazde odpovedi)
  bool newMess,  ;priznak novych vystupnich dat/odpoved, dalsi ceka ve fronte
  byte resetUpdate,  ;pozadavek modulu o nastaveni a cas
  TCIB_PAGING_ARRAY paginL,  ;zaloha vystupniho packetu
  bool edit,  ;priznak editace v modulu
  uint crc,
  usint fbBlock,  ;fb synchronizuje data s displejem jen v "Editacnim(Autonomni) rezimu" (0 nezinicializovano, 1 Editacni(Autonomni) rezim, 2 ostatni rezimy)
  bool settUpdate,  ;priznak zmeny nastaveni
  bool tempUpdate,  ;priznak zmeny teploty (offsetu)
  real tempOffs,  ;offset pozadovane teploty
  word modulInit,  ;inicializacni nastaveni modulu
  uint d,
  uint i,
  dint timeVar,
  dint hour,
  byte b,
  word w,
  uint[2] dataInd,
  uint[2] dayInd,
  usint holidDay,
  usint holidMonth,
  usint holidYear,
  string[23] holidString,
  string[23] holidCompare,
  TTecoDateTime dateVar


#defpou fb_iTimeProgWeek
  bool onOff,  ;control on/off
  bool units,  ;temperature units 0 = °C, 1 = °F
  bool manPriority,  ;manual mode priority
  real roomTemp,  ;temperature
  real hyst,  ;hysteresis of output heat/cool
  usint typ,  ;time program type : ICL_TPW_TYPE_HEATING, ICL_TPW_TYPE_COOLING, ICL_TPW_TYPE_HEATING_COOLING
  usint numTimes,  ;number of time marks during the day
  bool webNextProg,  ;web control auto<->manual
  bool webNextMode,  ;web control ECO->NIGHT->COMFORT
  bool webIncDelta,  ;web control increase setpoint
  bool webDecDelta,  ;web control decrease setpoint
  string[25] name,  ;name of time program
  pointer TimeProg_Settings,  ;block state
  pointer TimeProg_webSettings,  ;text settings for web interface
  pointer C_RC_in,  ;input data from module C-RC-0011R
  pointer C_RC_out,  ;output data for module C-RC-0011R
  bool heat,  ;heating requirement
  bool cool,  ;cooling requirement
  real heatTemp,  ;requested temperature of heating
  real coolTemp,  ;requested temperature of cooling
  T_TIME_PROG_WEEK_STAT webStatus,  ;state of control (for web)
  bool busy,  ;block is busy with json file
  string[81] lastErr,  ;last error description
  string[13] jsonFile,  ;name of json file with description of time program
  T_TIME_PROG_WEEK timeProgWeekData,  ;the weekly time program
  TCanvasData1024 canvasData,  ;canvas data
  fb_TimeProgWeek_Basic TimeProgBasic,
  fb_TimeProgWeek_Web TimeProgWeb,
  fb_TimeProgWeek_Control TimeProgControl,
  fb_TimeProgWeek_C_RC_0011R TimeProgDevice,
  bool __EDGE_R__webNextProg,
  bool __EDGE_R__webNextMode,
  bool __EDGE_R__webIncDelta,
  bool __EDGE_R__webDecDelta


#defpou fb_iTimeProgWeek1
  bool onOff,  ;control on/off
  bool units,  ;temperature units 0 = °C, 1 = °F
  bool manPriority,  ;manual mode priority
  real roomTemp,  ;temperature
  real hyst,  ;hysteresis of output heat/cool
  usint typ,  ;time program type : ICL_TPW_TYPE_HEATING, ICL_TPW_TYPE_COOLING, ICL_TPW_TYPE_HEATING_COOLING
  usint numTimes,  ;number of time marks during the day
  bool webNextProg,  ;web control auto<->manual
  bool webNextMode,  ;web control ECO->NIGHT->COMFORT
  bool webIncDelta,  ;web control increase setpoint
  bool webDecDelta,  ;web control decrease setpoint
  string[25] name,  ;name of time program
  pointer TimeProg_Settings,  ;block state
  pointer TimeProg_webSettings,  ;text settings for web interface
  bool heat,  ;heating requirement
  bool cool,  ;cooling requirement
  real heatTemp,  ;requested temperature of heating
  real coolTemp,  ;requested temperature of cooling
  T_TIME_PROG_WEEK_STAT webStatus,  ;state of control
  bool busy,  ;block is busy with json file
  string[81] lastErr,  ;last error description
  string[13] jsonFile,  ;name of json file with description of time program
  T_TIME_PROG_WEEK timeProgWeekData,  ;the weekly time program
  TCanvasData1024 canvasData,  ;canvas data
  fb_TimeProgWeek_Basic TimeProgBasic,
  fb_TimeProgWeek_Web TimeProgWeb,
  fb_TimeProgWeek_Control TimeProgControl,
  bool __EDGE_R__webNextProg,
  bool __EDGE_R__webNextMode,
  bool __EDGE_R__webIncDelta,
  bool __EDGE_R__webDecDelta


#defpou fb_iTimeProgWeek2
  bool onOff,  ;control on/off
  bool units,  ;temperature units 0 = °C, 1 = °F
  bool manPriority,  ;manual mode priority
  real roomTemp,  ;temperature
  real hyst,  ;hysteresis of output heat/cool
  usint typ,  ;time program type : ICL_TPW_TYPE_HEATING, ICL_TPW_TYPE_COOLING, ICL_TPW_TYPE_HEATING_COOLING
  usint numTimes,  ;number of time marks during the day
  bool webNextProg,  ;web control auto<->manual
  bool webNextMode,  ;web control ECO->NIGHT->COMFORT
  bool webIncDelta,  ;web control increase setpoint
  bool webDecDelta,  ;web control decrease setpoint
  string[25] name,  ;name of time program
  pointer TimeProg_Settings,  ;block state
  pointer C_RC_in,  ;input data from module C-RC-0011R
  pointer C_RC_out,  ;output data for module C-RC-0011R
  bool heat,  ;heating requirement
  bool cool,  ;cooling requirement
  real heatTemp,  ;requested temperature of heating
  real coolTemp,  ;requested temperature of cooling
  T_TIME_PROG_WEEK_STAT webStatus,  ;state of control
  bool busy,  ;block is busy with json file
  string[81] lastErr,  ;last error description
  string[13] jsonFile,  ;name of json file with description of time program
  T_TIME_PROG_WEEK timeProgWeekData,  ;the weekly time program
  fb_TimeProgWeek_Basic TimeProgBasic,
  fb_TimeProgWeek_Control TimeProgControl,
  fb_TimeProgWeek_C_RC_0011R TimeProgDevice,
  bool __EDGE_R__webNextProg,
  bool __EDGE_R__webNextMode,
  bool __EDGE_R__webIncDelta,
  bool __EDGE_R__webDecDelta


#defpou fb_iTimeProgWeek3
  bool onOff,  ;control on/off
  bool units,  ;temperature units 0 = °C, 1 = °F
  bool manPriority,  ;manual mode priority
  real roomTemp,  ;temperature
  real hyst,  ;hysteresis of output heat/cool
  usint typ,  ;time program type : ICL_TPW_TYPE_HEATING, ICL_TPW_TYPE_COOLING, ICL_TPW_TYPE_HEATING_COOLING
  usint numTimes,  ;number of time marks during the day
  bool webNextProg,  ;web control auto<->manual
  bool webNextMode,  ;web control ECO->NIGHT->COMFORT
  bool webIncDelta,  ;web control increase setpoint
  bool webDecDelta,  ;web control decrease setpoint
  string[25] name,  ;name of time program
  pointer TimeProg_Settings,  ;block state
  bool heat,  ;heating requirement
  bool cool,  ;cooling requirement
  real heatTemp,  ;requested temperature of heating
  real coolTemp,  ;requested temperature of cooling
  T_TIME_PROG_WEEK_STAT webStatus,  ;state of control
  bool busy,  ;block is busy with json file
  string[81] lastErr,  ;last error description
  string[13] jsonFile,  ;name of json file with description of time program
  T_TIME_PROG_WEEK timeProgWeekData,  ;the weekly time program
  fb_TimeProgWeek_Basic TimeProgBasic,
  fb_TimeProgWeek_Control TimeProgControl,
  bool __EDGE_R__webNextProg,
  bool __EDGE_R__webNextMode,
  bool __EDGE_R__webIncDelta,
  bool __EDGE_R__webDecDelta


#defpou fb_iFan
  bool fanOn,  ;turn on the fan
  bool levelUp,  ;raise the level
  bool fanOff,  ;turn off the fan
  bool levelDw,  ;reduce the level
  bool fanToggle,  ;toggle the fan
  bool webToggle,  ;toggle the fan from web page
  time setRamp,  ;ramp Up/Dw from min level to 100%  [sec]
  time offOnRamp,  ;ramp Off/On from min level to 100% [sec]
  time timeLimit,  ;maximum time limit fan [sec]
  real step,  ;change value
  string[25] name,  ;name of the fan
  pointer setLevel,  ;the last set level (place the variable in the VAR_GLOBAL RETAIN)
  bool out,  ;indication Off/On
  real level,  ;level 0..100[%]
  udint fbPtr,  ;function block pointer
  string[25] GTSAP1_FAN_name,  ;name of function block
  bool GTSAP1_FAN_enable,  ;command to display FB in iFoxtrot App
  bool GTSAP1_FAN_onoff,  ;
  real GTSAP1_FAN_level,  ;
  real gtsap1_old,  ;pro vyhodnoceni zmeny od mobilni aplikace
  real oldSetLevel,  ;pro vyhodnoceni zmeny retain promenne
  bool toggleOn,  ;pomocna pro zapnuti
  bool toggleOff,  ;pomocna pro vypnuti
  udint lastSL52,
  TON tim,  ;casovac pro omezeni doby osvetleni
  usint levelChange,  ;pomocna pro zmenu
  bool __EDGE_R__fanOn,
  bool __EDGE_R__levelUp,
  bool __EDGE_R__fanOff,
  bool __EDGE_R__levelDw,
  bool __EDGE_R__fanToggle,
  bool __EDGE_R__webToggle


; Global variables
#def  CRC0006R_SIZE_NAME 6
#def  __Init____CRC0006R_SIZE_NAME CRC0006R_SIZE_NAME
#def  CRC0006R_AUDIO_TYPE_BOSE 1
#def  __Init____CRC0006R_AUDIO_TYPE_BOSE CRC0006R_AUDIO_TYPE_BOSE
#def  CRC0006R_AUDIO_TYPE_DENON 2
#def  __Init____CRC0006R_AUDIO_TYPE_DENON CRC0006R_AUDIO_TYPE_DENON

; Global types
#def  TCIB_PAGING_ARR byte[5]

; Global types
#struct  TCIB_CRC0006R_STAT
  bool OUFT,
  bool VLDT,
  bool OUFR,
  bool VLDR,
  bool OUFL,
  bool VLDL,
  bool OUF1,
  bool VLD1,
  bool OUF2,
  bool VLD2,
  bool dummy10,
  bool dummy11,
  bool dummy12,
  bool dummy13,
  bool dummy14,
  bool dummy15

; Global types
#struct  TCIB_CRC0006R_DI
  bool DI1,
  bool DI2,
  bool CLICK_DI1,
  bool CLICK_DI2,
  bool PRESS_DI1,
  bool PRESS_DI2,
  bool dummy6,
  bool dummy7

; Global types
#struct  TCIB_C_RC_0006R_IN
  TCIB_CRC0006R_DI DI,
  TCIB_PAGING_ARR PAGING,
  usint BUTTONS,
  TCIB_CRC0006R_STAT STAT,
  real THERM,
  usint RH,
  usint LIGHT,
  real AI1,
  real AI2

; Global types
#struct  TCIB_C_RC_0006R_OUT
  byte MODUL_SETT,
  TCIB_PAGING_ARR PAGING

; Global types
#struct  TIRELAY_UNIT
  bool webToggle,  ;relay toggle
  string[7] name,  ;name
  bool out,  ;relay control
  udint fbPtr  ;function block pointer

; Global types
#struct  TIFAN_UNIT
  string[7] name,  ;name
  real setLevel,  ;
  udint fbPtr  ;function block pointer

; Global types
#struct  TISCENE8_UNIT
  bool scene1On,  ;set up scene 1
  bool scene2On,  ;set up scene 2
  bool scene3On,  ;set up scene 3
  bool scene4On,  ;set up scene 4
  bool scene5On,  ;set up scene 5
  bool scene6On,  ;set up scene 6
  bool scene7On,  ;set up scene 7
  bool scene8On,  ;set up scene 8
  string[7] name,  ;name
  usint scene,  ;activ scene
  udint fbPtr  ;function block pointer

; Global types
#struct  TIJALOUSIE_UNIT
  bool rotUp,  ;step up
  bool up,  ;move up
  bool rotDw,  ;step down
  bool dw,  ;move down
  string[7] name,  ;name
  usint posit,  ;jalousie position
  udint fbPtr  ;function block pointer

; Global types
#struct  TIDIMMER_UNIT
  bool webToggle,  ;control lights from web page
  string[7] name,  ;name
  real setLevel,  ;last level (this variable have to be RETAIN)
  bool out,  ;indication Off/On
  udint fbPtr  ;function block pointer

; Global types
#struct  TCIB_C_RC_0006R_AudioSourceUnit
  string[7] name,
  usint volume,
  bool mute,
  bool play,
  bool pause,
  bool power

; Global types
#struct  TCIB_C_RC_0006R_AudioSource_Bose
  usint audioType,  ;typ audio zarizeni
  usint num,  ;pocet
  TCIB_C_RC_0006R_AudioSourceUnit[10] units  ;data zarizeni

; Global types
#struct  TCIB_C_RC_0006R_AudioZone_Denon
  usint audioType,  ;typ audio zarizeni
  usint source,  ;1 - 5
  usint volume,  ;0 - 100
  bool mute,
  string[35] name

#defpou fb_C_RC_0006R
  bool master,  ;Master module
  bool control,  ;Reset control signals
  udint iDimmer_1,  ;Light dimmer 1
  udint iDimmer_2,  ;Light dimmer 2
  udint iDimmer_3,  ;Light dimmer 3
  udint iDimmer_4,  ;Light dimmer 4
  udint iDimmer_5,  ;Light dimmer 5
  udint iDimmer_6,  ;Light dimmer 6
  udint iDimmer_7,  ;Light dimmer 7
  udint iDimmer_8,  ;Light dimmer 8
  udint iDimmer_9,  ;Light dimmer 9
  udint iDimmer_10,  ;Light dimmer 10
  udint iDimmer_11,  ;Light dimmer 11
  udint iDimmer_12,  ;Light dimmer 12
  udint iJalousie_1,  ;Jalousie 1
  udint iJalousie_2,  ;Jalousie 2
  udint iJalousie_3,  ;Jalousie 3
  udint iJalousie_4,  ;Jalousie 4
  udint iJalousie_5,  ;Jalousie 5
  udint iJalousie_6,  ;Jalousie 6
  udint iJalousie_7,  ;Jalousie 7
  udint iJalousie_8,  ;Jalousie 8
  udint iScene8,  ;Scene control
  udint iFan_1,  ;Ventilation control 1
  udint iFan_2,  ;Ventilation control 2
  udint iRelay,  ;Relay output control
  udint AudioControl,  ;Audio control
  real temp,  ;Temperature
  usint RH,  ;Humidity
  uint CO2,  ;CO2 concentrations
  bool backl,  ;Display backlight
  bool buzz,  ;Sound signalization
  byte keyboard,  ;Keyboard backlight intensity 0 - 10 (0 - 100%)
  pointer reqTemp,  ;requested temperature
  pointer modul_in,  ;input structure (data from module)
  pointer modul_out,  ;output structure (data for module)
  TCIB_PAGING_ARR inPaging,  ;vstupni buffer
  TCIB_PAGING_ARR outPaging,  ;vystupni buffer
  TCIB_PAGING_ARR pagingBackup,  ;buffer pro odlozeni neodeslanych dat
  usint confirmWait,  ;priznak cekani na potvrzeni prijmu (odpoved)
  byte confirmType,  ;priznak naposledy odeslanych dat
  usint confirmCnt,  ;citac odpovedi (pro detekci zmeny - inkrementuje se po kazde odpovedi)
  usint confirmTimer,  ;casovac cekani na odpoved
  bool newMess,  ;priznak novych vystupnich dat/odpoved, dalsi ceka ve fronte
  byte resetUpdate,  ;pozadavek modulu o data, nastaveni, cas ...
  usint i,
  byte init,  ;inicializace: bit0 obecne, bit1 svetla, bit1 zaluzie, bit3 sceny
  usint initOffs,
  pointer ptrToInput,
  pointer ptrToUdint,
  pointer ptrToReal,
  pointer ptrToByte,
  pointer ptrToData,
  TTecoDateTime DateTime,  ;cas a datum
  udint size,
  usint id,
  byte cmd,
  pointer[12] iDimmer,
  pointer fb,
  pointer iScene,
  pointer[8] iJalous,
  pointer relay,
  pointer vent,
  pointer fancoil,
  real[12] lightLevel,  ;stmivani az 12 svetel
  byte[12] lightSet,  ;ovladani az 12 svetel
  usint lightNum,  ;pocet zapojenych svetel
  int lightTimeout,
  byte setScene,
  usint[8] jalousiePos,  ;stav az 8 zaluzii (polona v %)
  usint jalousieNum,  ;pocet zapojenych zaluzii
  usint jalousieOffs,
  pointer unitListPtr,
  pointer sourceControlPtr,
  TCIB_C_RC_0006R_AudioSource_Bose unitList,
  TCIB_C_RC_0006R_AudioZone_Denon sourceControl,
  byte audioState,
  usint audioType,
  word audioUpdate,
  byte[12] dataOut,
  byte[12] dataOutPrev,
  byte[5] dataIn,
  string[7] str

 
#srcfile 'E:\PROJECTS\PROJECTS\1326 - OSAMA - JEDDAH APPARTMENT - DREAMS TOWERS\IMPLEMENTATION\CODES\MOSAIC\1326 - JEDDAH APPARTMENT - LAST\PLC3_SOMFY\Sysgen\PLC3_SOMFY.mlh'


 

#srcfile ''
